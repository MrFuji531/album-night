(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();var Ar=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function u_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zf={exports:{}},Rr={};var Yy;function uT(){if(Yy)return Rr;Yy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:n,type:s,key:c,ref:o!==void 0?o:null,props:u}}return Rr.Fragment=e,Rr.jsx=a,Rr.jsxs=a,Rr}var Xy;function cT(){return Xy||(Xy=1,zf.exports=uT()),zf.exports}var S=cT(),Pf={exports:{}},ye={};var Wy;function fT(){if(Wy)return ye;Wy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),g=Symbol.iterator;function _(x){return x===null||typeof x!="object"?null:(x=g&&x[g]||x["@@iterator"],typeof x=="function"?x:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function A(x,N,$){this.props=x,this.context=N,this.refs=T,this.updater=$||b}A.prototype.isReactComponent={},A.prototype.setState=function(x,N){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,N,"setState")},A.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function C(){}C.prototype=A.prototype;function O(x,N,$){this.props=x,this.context=N,this.refs=T,this.updater=$||b}var U=O.prototype=new C;U.constructor=O,E(U,A.prototype),U.isPureReactComponent=!0;var H=Array.isArray;function K(){}var G={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function J(x,N,$){var X=$.ref;return{$$typeof:n,type:x,key:N,ref:X!==void 0?X:null,props:$}}function he(x,N){return J(x.type,N,x.props)}function ee(x){return typeof x=="object"&&x!==null&&x.$$typeof===n}function ge(x){var N={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function($){return N[$]})}var ke=/\/+/g;function be(x,N){return typeof x=="object"&&x!==null&&x.key!=null?ge(""+x.key):N.toString(36)}function Ce(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(K,K):(x.status="pending",x.then(function(N){x.status==="pending"&&(x.status="fulfilled",x.value=N)},function(N){x.status==="pending"&&(x.status="rejected",x.reason=N)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function I(x,N,$,X,Z){var ne=typeof x;(ne==="undefined"||ne==="boolean")&&(x=null);var te=!1;if(x===null)te=!0;else switch(ne){case"bigint":case"string":case"number":te=!0;break;case"object":switch(x.$$typeof){case n:case e:te=!0;break;case v:return te=x._init,I(te(x._payload),N,$,X,Z)}}if(te)return Z=Z(x),te=X===""?"."+be(x,0):X,H(Z)?($="",te!=null&&($=te.replace(ke,"$&/")+"/"),I(Z,N,$,"",function(Be){return Be})):Z!=null&&(ee(Z)&&(Z=he(Z,$+(Z.key==null||x&&x.key===Z.key?"":(""+Z.key).replace(ke,"$&/")+"/")+te)),N.push(Z)),1;te=0;var ue=X===""?".":X+":";if(H(x))for(var me=0;me<x.length;me++)X=x[me],ne=ue+be(X,me),te+=I(X,N,$,ne,Z);else if(me=_(x),typeof me=="function")for(x=me.call(x),me=0;!(X=x.next()).done;)X=X.value,ne=ue+be(X,me++),te+=I(X,N,$,ne,Z);else if(ne==="object"){if(typeof x.then=="function")return I(Ce(x),N,$,X,Z);throw N=String(x),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return te}function Q(x,N,$){if(x==null)return x;var X=[],Z=0;return I(x,X,"","",function(ne){return N.call($,ne,Z++)}),X}function ie(x){if(x._status===-1){var N=x._result;N=N(),N.then(function($){(x._status===0||x._status===-1)&&(x._status=1,x._result=$)},function($){(x._status===0||x._status===-1)&&(x._status=2,x._result=$)}),x._status===-1&&(x._status=0,x._result=N)}if(x._status===1)return x._result.default;throw x._result}var ve=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},k={map:Q,forEach:function(x,N,$){Q(x,function(){N.apply(this,arguments)},$)},count:function(x){var N=0;return Q(x,function(){N++}),N},toArray:function(x){return Q(x,function(N){return N})||[]},only:function(x){if(!ee(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return ye.Activity=f,ye.Children=k,ye.Component=A,ye.Fragment=a,ye.Profiler=o,ye.PureComponent=O,ye.StrictMode=s,ye.Suspense=h,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,ye.__COMPILER_RUNTIME={__proto__:null,c:function(x){return G.H.useMemoCache(x)}},ye.cache=function(x){return function(){return x.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(x,N,$){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var X=E({},x.props),Z=x.key;if(N!=null)for(ne in N.key!==void 0&&(Z=""+N.key),N)!W.call(N,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&N.ref===void 0||(X[ne]=N[ne]);var ne=arguments.length-2;if(ne===1)X.children=$;else if(1<ne){for(var te=Array(ne),ue=0;ue<ne;ue++)te[ue]=arguments[ue+2];X.children=te}return J(x.type,Z,X)},ye.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},ye.createElement=function(x,N,$){var X,Z={},ne=null;if(N!=null)for(X in N.key!==void 0&&(ne=""+N.key),N)W.call(N,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(Z[X]=N[X]);var te=arguments.length-2;if(te===1)Z.children=$;else if(1<te){for(var ue=Array(te),me=0;me<te;me++)ue[me]=arguments[me+2];Z.children=ue}if(x&&x.defaultProps)for(X in te=x.defaultProps,te)Z[X]===void 0&&(Z[X]=te[X]);return J(x,ne,Z)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(x){return{$$typeof:m,render:x}},ye.isValidElement=ee,ye.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:ie}},ye.memo=function(x,N){return{$$typeof:p,type:x,compare:N===void 0?null:N}},ye.startTransition=function(x){var N=G.T,$={};G.T=$;try{var X=x(),Z=G.S;Z!==null&&Z($,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(K,ve)}catch(ne){ve(ne)}finally{N!==null&&$.types!==null&&(N.types=$.types),G.T=N}},ye.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},ye.use=function(x){return G.H.use(x)},ye.useActionState=function(x,N,$){return G.H.useActionState(x,N,$)},ye.useCallback=function(x,N){return G.H.useCallback(x,N)},ye.useContext=function(x){return G.H.useContext(x)},ye.useDebugValue=function(){},ye.useDeferredValue=function(x,N){return G.H.useDeferredValue(x,N)},ye.useEffect=function(x,N){return G.H.useEffect(x,N)},ye.useEffectEvent=function(x){return G.H.useEffectEvent(x)},ye.useId=function(){return G.H.useId()},ye.useImperativeHandle=function(x,N,$){return G.H.useImperativeHandle(x,N,$)},ye.useInsertionEffect=function(x,N){return G.H.useInsertionEffect(x,N)},ye.useLayoutEffect=function(x,N){return G.H.useLayoutEffect(x,N)},ye.useMemo=function(x,N){return G.H.useMemo(x,N)},ye.useOptimistic=function(x,N){return G.H.useOptimistic(x,N)},ye.useReducer=function(x,N,$){return G.H.useReducer(x,N,$)},ye.useRef=function(x){return G.H.useRef(x)},ye.useState=function(x){return G.H.useState(x)},ye.useSyncExternalStore=function(x,N,$){return G.H.useSyncExternalStore(x,N,$)},ye.useTransition=function(){return G.H.useTransition()},ye.version="19.2.4",ye}var Qy;function ih(){return Qy||(Qy=1,Pf.exports=fT()),Pf.exports}var j=ih();const ct=u_(j);var Vf={exports:{}},Cr={},Hf={exports:{}},If={};var Jy;function dT(){return Jy||(Jy=1,(function(n){function e(I,Q){var ie=I.length;I.push(Q);e:for(;0<ie;){var ve=ie-1>>>1,k=I[ve];if(0<o(k,Q))I[ve]=Q,I[ie]=k,ie=ve;else break e}}function a(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var Q=I[0],ie=I.pop();if(ie!==Q){I[0]=ie;e:for(var ve=0,k=I.length,x=k>>>1;ve<x;){var N=2*(ve+1)-1,$=I[N],X=N+1,Z=I[X];if(0>o($,ie))X<k&&0>o(Z,$)?(I[ve]=Z,I[X]=ie,ve=X):(I[ve]=$,I[N]=ie,ve=N);else if(X<k&&0>o(Z,ie))I[ve]=Z,I[X]=ie,ve=X;else break e}}return Q}function o(I,Q){var ie=I.sortIndex-Q.sortIndex;return ie!==0?ie:I.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var h=[],p=[],v=1,f=null,g=3,_=!1,b=!1,E=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function U(I){for(var Q=a(p);Q!==null;){if(Q.callback===null)s(p);else if(Q.startTime<=I)s(p),Q.sortIndex=Q.expirationTime,e(h,Q);else break;Q=a(p)}}function H(I){if(E=!1,U(I),!b)if(a(h)!==null)b=!0,K||(K=!0,ge());else{var Q=a(p);Q!==null&&Ce(H,Q.startTime-I)}}var K=!1,G=-1,W=5,J=-1;function he(){return T?!0:!(n.unstable_now()-J<W)}function ee(){if(T=!1,K){var I=n.unstable_now();J=I;var Q=!0;try{e:{b=!1,E&&(E=!1,C(G),G=-1),_=!0;var ie=g;try{t:{for(U(I),f=a(h);f!==null&&!(f.expirationTime>I&&he());){var ve=f.callback;if(typeof ve=="function"){f.callback=null,g=f.priorityLevel;var k=ve(f.expirationTime<=I);if(I=n.unstable_now(),typeof k=="function"){f.callback=k,U(I),Q=!0;break t}f===a(h)&&s(h),U(I)}else s(h);f=a(h)}if(f!==null)Q=!0;else{var x=a(p);x!==null&&Ce(H,x.startTime-I),Q=!1}}break e}finally{f=null,g=ie,_=!1}Q=void 0}}finally{Q?ge():K=!1}}}var ge;if(typeof O=="function")ge=function(){O(ee)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,be=ke.port2;ke.port1.onmessage=ee,ge=function(){be.postMessage(null)}}else ge=function(){A(ee,0)};function Ce(I,Q){G=A(function(){I(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(I){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var ie=g;g=Q;try{return I()}finally{g=ie}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(I,Q){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ie=g;g=I;try{return Q()}finally{g=ie}},n.unstable_scheduleCallback=function(I,Q,ie){var ve=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ve+ie:ve):ie=ve,I){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ie+k,I={id:v++,callback:Q,priorityLevel:I,startTime:ie,expirationTime:k,sortIndex:-1},ie>ve?(I.sortIndex=ie,e(p,I),a(h)===null&&I===a(p)&&(E?(C(G),G=-1):E=!0,Ce(H,ie-ve))):(I.sortIndex=k,e(h,I),b||_||(b=!0,K||(K=!0,ge()))),I},n.unstable_shouldYield=he,n.unstable_wrapCallback=function(I){var Q=g;return function(){var ie=g;g=Q;try{return I.apply(this,arguments)}finally{g=ie}}}})(If)),If}var Zy;function hT(){return Zy||(Zy=1,Hf.exports=dT()),Hf.exports}var $f={exports:{}},Rt={};var ev;function mT(){if(ev)return Rt;ev=1;var n=ih();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(h,p,v){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:f==null?null:""+f,children:h,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Rt.createPortal=function(h,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(h,p,null,v)},Rt.flushSync=function(h){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=p,s.p=v,s.d.f()}},Rt.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(h,p))},Rt.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Rt.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var v=p.as,f=m(v,p.crossOrigin),g=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:_}):v==="script"&&s.d.X(h,{crossOrigin:f,integrity:g,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Rt.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);s.d.M(h,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(h)},Rt.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,f=m(v,p.crossOrigin);s.d.L(h,v,{crossOrigin:f,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Rt.preloadModule=function(h,p){if(typeof h=="string")if(p){var v=m(p.as,p.crossOrigin);s.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(h)},Rt.requestFormReset=function(h){s.d.r(h)},Rt.unstable_batchedUpdates=function(h,p){return h(p)},Rt.useFormState=function(h,p,v){return c.H.useFormState(h,p,v)},Rt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Rt.version="19.2.4",Rt}var tv;function pT(){if(tv)return $f.exports;tv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$f.exports=mT(),$f.exports}var nv;function gT(){if(nv)return Cr;nv=1;var n=hT(),e=ih(),a=pT();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var r=t,l=i;;){var d=r.return;if(d===null)break;var y=d.alternate;if(y===null){if(l=d.return,l!==null){r=l;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===r)return h(d),t;if(y===l)return h(d),i;y=y.sibling}throw Error(s(188))}if(r.return!==l.return)r=d,l=y;else{for(var w=!1,R=d.child;R;){if(R===r){w=!0,r=d,l=y;break}if(R===l){w=!0,l=d,r=y;break}R=R.sibling}if(!w){for(R=y.child;R;){if(R===r){w=!0,r=y,l=d;break}if(R===l){w=!0,l=y,r=d;break}R=R.sibling}if(!w)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:i}function v(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=v(t),i!==null)return i;t=t.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ge(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Symbol.for("react.client.reference");function be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ke?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case E:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case H:return"Suspense";case K:return"SuspenseList";case J:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case O:return t.displayName||"Context";case C:return(t._context.displayName||"Context")+".Consumer";case U:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return i=t.displayName||null,i!==null?i:be(t.type)||"Memo";case W:i=t._payload,t=t._init;try{return be(t(i))}catch{}}return null}var Ce=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ve=[],k=-1;function x(t){return{current:t}}function N(t){0>k||(t.current=ve[k],ve[k]=null,k--)}function $(t,i){k++,ve[k]=t.current,t.current=i}var X=x(null),Z=x(null),ne=x(null),te=x(null);function ue(t,i){switch($(ne,i),$(Z,t),$(X,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?yy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=yy(i),t=vy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}N(X),$(X,t)}function me(){N(X),N(Z),N(ne)}function Be(t){t.memoizedState!==null&&$(te,t);var i=X.current,r=vy(i,t.type);i!==r&&($(Z,t),$(X,r))}function Ne(t){Z.current===t&&(N(X),N(Z)),te.current===t&&(N(te),Sr._currentValue=ie)}var Ie,at;function we(t){if(Ie===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Ie=i&&i[1]||"",at=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ie+t+at}var pt=!1;function Ot(t,i){if(!t||pt)return"";pt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(V){var P=V}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(V){P=V}t.call(Y.prototype)}}else{try{throw Error()}catch(V){P=V}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(V){if(V&&P&&typeof V.stack=="string")return[V.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=l.DetermineComponentFrameRoot(),w=y[0],R=y[1];if(w&&R){var M=w.split(`
`),z=R.split(`
`);for(d=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;if(l===M.length||d===z.length)for(l=M.length-1,d=z.length-1;1<=l&&0<=d&&M[l]!==z[d];)d--;for(;1<=l&&0<=d;l--,d--)if(M[l]!==z[d]){if(l!==1||d!==1)do if(l--,d--,0>d||M[l]!==z[d]){var q=`
`+M[l].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=l&&0<=d);break}}}finally{pt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?we(r):""}function It(t,i){switch(t.tag){case 26:case 27:case 5:return we(t.type);case 16:return we("Lazy");case 13:return t.child!==i&&i!==null?we("Suspense Fallback"):we("Suspense");case 19:return we("SuspenseList");case 0:case 15:return Ot(t.type,!1);case 11:return Ot(t.type.render,!1);case 1:return Ot(t.type,!0);case 31:return we("Activity");default:return""}}function nn(t){try{var i="",r=null;do i+=It(t,r),r=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vn=Object.prototype.hasOwnProperty,Nt=n.unstable_scheduleCallback,Ms=n.unstable_cancelCallback,wu=n.unstable_shouldYield,Su=n.unstable_requestPaint,At=n.unstable_now,xu=n.unstable_getCurrentPriorityLevel,Ds=n.unstable_ImmediatePriority,ho=n.unstable_UserBlockingPriority,_a=n.unstable_NormalPriority,mo=n.unstable_LowPriority,Ns=n.unstable_IdlePriority,ks=n.log,Tu=n.unstable_setDisableYieldValue,Hi=null,$t=null;function ri(t){if(typeof ks=="function"&&Tu(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Hi,t)}catch{}}var qt=Math.clz32?Math.clz32:Xw,Kw=Math.log,Yw=Math.LN2;function Xw(t){return t>>>=0,t===0?32:31-(Kw(t)/Yw|0)|0}var po=256,go=262144,yo=4194304;function Ii(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vo(t,i,r){var l=t.pendingLanes;if(l===0)return 0;var d=0,y=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var R=l&134217727;return R!==0?(l=R&~y,l!==0?d=Ii(l):(w&=R,w!==0?d=Ii(w):r||(r=R&~t,r!==0&&(d=Ii(r))))):(R=l&~y,R!==0?d=Ii(R):w!==0?d=Ii(w):r||(r=l&~t,r!==0&&(d=Ii(r)))),d===0?0:i!==0&&i!==d&&(i&y)===0&&(y=d&-d,r=i&-i,y>=r||y===32&&(r&4194048)!==0)?i:d}function Ls(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ww(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jh(){var t=yo;return yo<<=1,(yo&62914560)===0&&(yo=4194304),t}function Eu(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function Us(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qw(t,i,r,l,d,y){var w=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var R=t.entanglements,M=t.expirationTimes,z=t.hiddenUpdates;for(r=w&~r;0<r;){var q=31-qt(r),Y=1<<q;R[q]=0,M[q]=-1;var P=z[q];if(P!==null)for(z[q]=null,q=0;q<P.length;q++){var V=P[q];V!==null&&(V.lane&=-536870913)}r&=~Y}l!==0&&Zh(t,l,0),y!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=y&~(w&~i))}function Zh(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function em(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var l=31-qt(r),d=1<<l;d&i|t[l]&i&&(t[l]|=i),r&=~d}}function tm(t,i){var r=i&-i;return r=(r&42)!==0?1:Au(r),(r&(t.suspendedLanes|i))!==0?0:r}function Au(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ru(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nm(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:Hy(t.type))}function im(t,i){var r=Q.p;try{return Q.p=t,i()}finally{Q.p=r}}var oi=Math.random().toString(36).slice(2),vt="__reactFiber$"+oi,kt="__reactProps$"+oi,ba="__reactContainer$"+oi,Cu="__reactEvents$"+oi,Jw="__reactListeners$"+oi,Zw="__reactHandles$"+oi,am="__reactResources$"+oi,Bs="__reactMarker$"+oi;function Ou(t){delete t[vt],delete t[kt],delete t[Cu],delete t[Jw],delete t[Zw]}function wa(t){var i=t[vt];if(i)return i;for(var r=t.parentNode;r;){if(i=r[ba]||r[vt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=Ey(t);t!==null;){if(r=t[vt])return r;t=Ey(t)}return i}t=r,r=t.parentNode}return null}function Sa(t){if(t=t[vt]||t[ba]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function zs(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function xa(t){var i=t[am];return i||(i=t[am]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function gt(t){t[Bs]=!0}var sm=new Set,rm={};function $i(t,i){Ta(t,i),Ta(t+"Capture",i)}function Ta(t,i){for(rm[t]=i,t=0;t<i.length;t++)sm.add(i[t])}var eS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),om={},lm={};function tS(t){return vn.call(lm,t)?!0:vn.call(om,t)?!1:eS.test(t)?lm[t]=!0:(om[t]=!0,!1)}function _o(t,i,r){if(tS(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function bo(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function Un(t,i,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+l)}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function um(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function nS(t,i,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,y=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(w){r=""+w,y.call(this,w)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(w){r=""+w},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ju(t){if(!t._valueTracker){var i=um(t)?"checked":"value";t._valueTracker=nS(t,i,""+t[i])}}function cm(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),l="";return t&&(l=um(t)?t.checked?"true":"false":t.value),t=l,t!==r?(i.setValue(t),!0):!1}function wo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var iS=/[\n"\\]/g;function sn(t){return t.replace(iS,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Mu(t,i,r,l,d,y,w,R){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),i!=null?w==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+an(i)):t.value!==""+an(i)&&(t.value=""+an(i)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),i!=null?Du(t,w,an(i)):r!=null?Du(t,w,an(r)):l!=null&&t.removeAttribute("value"),d==null&&y!=null&&(t.defaultChecked=!!y),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?t.name=""+an(R):t.removeAttribute("name")}function fm(t,i,r,l,d,y,w,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),i!=null||r!=null){if(!(y!=="submit"&&y!=="reset"||i!=null)){ju(t);return}r=r!=null?""+an(r):"",i=i!=null?""+an(i):r,R||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=R?t.checked:!!l,t.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w),ju(t)}function Du(t,i,r){i==="number"&&wo(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ea(t,i,r,l){if(t=t.options,i){i={};for(var d=0;d<r.length;d++)i["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=i.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&l&&(t[r].defaultSelected=!0)}else{for(r=""+an(r),i=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function dm(t,i,r){if(i!=null&&(i=""+an(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+an(r):""}function hm(t,i,r,l){if(i==null){if(l!=null){if(r!=null)throw Error(s(92));if(Ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),i=r}r=an(i),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),ju(t)}function Aa(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var aS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mm(t,i,r){var l=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,r):typeof r!="number"||r===0||aS.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function pm(t,i,r){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&r[d]!==l&&mm(t,d,l)}else for(var y in i)i.hasOwnProperty(y)&&mm(t,y,i[y])}function Nu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function So(t){return rS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Bn(){}var ku=null;function Lu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ra=null,Ca=null;function gm(t){var i=Sa(t);if(i&&(t=i.stateNode)){var r=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Mu(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var l=r[i];if(l!==t&&l.form===t.form){var d=l[kt]||null;if(!d)throw Error(s(90));Mu(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<r.length;i++)l=r[i],l.form===t.form&&cm(l)}break e;case"textarea":dm(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Ea(t,!!r.multiple,i,!1)}}}var Uu=!1;function ym(t,i,r){if(Uu)return t(i,r);Uu=!0;try{var l=t(i);return l}finally{if(Uu=!1,(Ra!==null||Ca!==null)&&(ul(),Ra&&(i=Ra,t=Ca,Ca=Ra=null,gm(i),t)))for(i=0;i<t.length;i++)gm(t[i])}}function Ps(t,i){var r=t.stateNode;if(r===null)return null;var l=r[kt]||null;if(l===null)return null;r=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,i,typeof r));return r}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bu=!1;if(zn)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Bu=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Bu=!1}var li=null,zu=null,xo=null;function vm(){if(xo)return xo;var t,i=zu,r=i.length,l,d="value"in li?li.value:li.textContent,y=d.length;for(t=0;t<r&&i[t]===d[t];t++);var w=r-t;for(l=1;l<=w&&i[r-l]===d[y-l];l++);return xo=d.slice(t,1<l?1-l:void 0)}function To(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Eo(){return!0}function _m(){return!1}function Lt(t){function i(r,l,d,y,w){this._reactName=r,this._targetInst=d,this.type=l,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(r=t[R],this[R]=r?r(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Eo:_m,this.isPropagationStopped=_m,this}return f(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=Lt(qi),Hs=f({},qi,{view:0,detail:0}),oS=Lt(Hs),Pu,Vu,Is,Ro=f({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Is&&(Is&&t.type==="mousemove"?(Pu=t.screenX-Is.screenX,Vu=t.screenY-Is.screenY):Vu=Pu=0,Is=t),Pu)},movementY:function(t){return"movementY"in t?t.movementY:Vu}}),bm=Lt(Ro),lS=f({},Ro,{dataTransfer:0}),uS=Lt(lS),cS=f({},Hs,{relatedTarget:0}),Hu=Lt(cS),fS=f({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),dS=Lt(fS),hS=f({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mS=Lt(hS),pS=f({},qi,{data:0}),wm=Lt(pS),gS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _S(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=vS[t])?!!i[t]:!1}function Iu(){return _S}var bS=f({},Hs,{key:function(t){if(t.key){var i=gS[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=To(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iu,charCode:function(t){return t.type==="keypress"?To(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?To(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wS=Lt(bS),SS=f({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sm=Lt(SS),xS=f({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iu}),TS=Lt(xS),ES=f({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),AS=Lt(ES),RS=f({},Ro,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CS=Lt(RS),OS=f({},qi,{newState:0,oldState:0}),jS=Lt(OS),MS=[9,13,27,32],$u=zn&&"CompositionEvent"in window,$s=null;zn&&"documentMode"in document&&($s=document.documentMode);var DS=zn&&"TextEvent"in window&&!$s,xm=zn&&(!$u||$s&&8<$s&&11>=$s),Tm=" ",Em=!1;function Am(t,i){switch(t){case"keyup":return MS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function NS(t,i){switch(t){case"compositionend":return Rm(i);case"keypress":return i.which!==32?null:(Em=!0,Tm);case"textInput":return t=i.data,t===Tm&&Em?null:t;default:return null}}function kS(t,i){if(Oa)return t==="compositionend"||!$u&&Am(t,i)?(t=vm(),xo=zu=li=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return xm&&i.locale!=="ko"?null:i.data;default:return null}}var LS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cm(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!LS[t.type]:i==="textarea"}function Om(t,i,r,l){Ra?Ca?Ca.push(l):Ca=[l]:Ra=l,i=gl(i,"onChange"),0<i.length&&(r=new Ao("onChange","change",null,r,l),t.push({event:r,listeners:i}))}var qs=null,Gs=null;function US(t){fy(t,0)}function Co(t){var i=zs(t);if(cm(i))return t}function jm(t,i){if(t==="change")return i}var Mm=!1;if(zn){var qu;if(zn){var Gu="oninput"in document;if(!Gu){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),Gu=typeof Dm.oninput=="function"}qu=Gu}else qu=!1;Mm=qu&&(!document.documentMode||9<document.documentMode)}function Nm(){qs&&(qs.detachEvent("onpropertychange",km),Gs=qs=null)}function km(t){if(t.propertyName==="value"&&Co(Gs)){var i=[];Om(i,Gs,t,Lu(t)),ym(US,i)}}function BS(t,i,r){t==="focusin"?(Nm(),qs=i,Gs=r,qs.attachEvent("onpropertychange",km)):t==="focusout"&&Nm()}function zS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Co(Gs)}function PS(t,i){if(t==="click")return Co(i)}function VS(t,i){if(t==="input"||t==="change")return Co(i)}function HS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Gt=typeof Object.is=="function"?Object.is:HS;function Fs(t,i){if(Gt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),l=Object.keys(i);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var d=r[l];if(!vn.call(i,d)||!Gt(t[d],i[d]))return!1}return!0}function Lm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Um(t,i){var r=Lm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=i&&l>=i)return{node:r,offset:i-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Lm(r)}}function Bm(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Bm(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function zm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=wo(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=wo(t.document)}return i}function Fu(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var IS=zn&&"documentMode"in document&&11>=document.documentMode,ja=null,Ku=null,Ks=null,Yu=!1;function Pm(t,i,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yu||ja==null||ja!==wo(l)||(l=ja,"selectionStart"in l&&Fu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ks&&Fs(Ks,l)||(Ks=l,l=gl(Ku,"onSelect"),0<l.length&&(i=new Ao("onSelect","select",null,i,r),t.push({event:i,listeners:l}),i.target=ja)))}function Gi(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Ma={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},Xu={},Vm={};zn&&(Vm=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Fi(t){if(Xu[t])return Xu[t];if(!Ma[t])return t;var i=Ma[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Vm)return Xu[t]=i[r];return t}var Hm=Fi("animationend"),Im=Fi("animationiteration"),$m=Fi("animationstart"),$S=Fi("transitionrun"),qS=Fi("transitionstart"),GS=Fi("transitioncancel"),qm=Fi("transitionend"),Gm=new Map,Wu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wu.push("scrollEnd");function _n(t,i){Gm.set(t,i),$i(i,[t])}var Oo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},rn=[],Da=0,Qu=0;function jo(){for(var t=Da,i=Qu=Da=0;i<t;){var r=rn[i];rn[i++]=null;var l=rn[i];rn[i++]=null;var d=rn[i];rn[i++]=null;var y=rn[i];if(rn[i++]=null,l!==null&&d!==null){var w=l.pending;w===null?d.next=d:(d.next=w.next,w.next=d),l.pending=d}y!==0&&Fm(r,d,y)}}function Mo(t,i,r,l){rn[Da++]=t,rn[Da++]=i,rn[Da++]=r,rn[Da++]=l,Qu|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ju(t,i,r,l){return Mo(t,i,r,l),Do(t)}function Ki(t,i){return Mo(t,null,null,i),Do(t)}function Fm(t,i,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var d=!1,y=t.return;y!==null;)y.childLanes|=r,l=y.alternate,l!==null&&(l.childLanes|=r),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(d=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,d&&i!==null&&(d=31-qt(r),t=y.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=r|536870912),y):null}function Do(t){if(50<pr)throw pr=0,lf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Na={};function FS(t,i,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(t,i,r,l){return new FS(t,i,r,l)}function Zu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pn(t,i){var r=t.alternate;return r===null?(r=Ft(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Km(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function No(t,i,r,l,d,y){var w=0;if(l=t,typeof t=="function")Zu(t)&&(w=1);else if(typeof t=="string")w=Qx(t,r,X.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case J:return t=Ft(31,r,i,d),t.elementType=J,t.lanes=y,t;case E:return Yi(r.children,d,y,i);case T:w=8,d|=24;break;case A:return t=Ft(12,r,i,d|2),t.elementType=A,t.lanes=y,t;case H:return t=Ft(13,r,i,d),t.elementType=H,t.lanes=y,t;case K:return t=Ft(19,r,i,d),t.elementType=K,t.lanes=y,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O:w=10;break e;case C:w=9;break e;case U:w=11;break e;case G:w=14;break e;case W:w=16,l=null;break e}w=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Ft(w,r,i,d),i.elementType=t,i.type=l,i.lanes=y,i}function Yi(t,i,r,l){return t=Ft(7,t,l,i),t.lanes=r,t}function ec(t,i,r){return t=Ft(6,t,null,i),t.lanes=r,t}function Ym(t){var i=Ft(18,null,null,0);return i.stateNode=t,i}function tc(t,i,r){return i=Ft(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Xm=new WeakMap;function on(t,i){if(typeof t=="object"&&t!==null){var r=Xm.get(t);return r!==void 0?r:(i={value:t,source:i,stack:nn(i)},Xm.set(t,i),i)}return{value:t,source:i,stack:nn(i)}}var ka=[],La=0,ko=null,Ys=0,ln=[],un=0,ui=null,jn=1,Mn="";function Vn(t,i){ka[La++]=Ys,ka[La++]=ko,ko=t,Ys=i}function Wm(t,i,r){ln[un++]=jn,ln[un++]=Mn,ln[un++]=ui,ui=t;var l=jn;t=Mn;var d=32-qt(l)-1;l&=~(1<<d),r+=1;var y=32-qt(i)+d;if(30<y){var w=d-d%5;y=(l&(1<<w)-1).toString(32),l>>=w,d-=w,jn=1<<32-qt(i)+d|r<<d|l,Mn=y+t}else jn=1<<y|r<<d|l,Mn=t}function nc(t){t.return!==null&&(Vn(t,1),Wm(t,1,0))}function ic(t){for(;t===ko;)ko=ka[--La],ka[La]=null,Ys=ka[--La],ka[La]=null;for(;t===ui;)ui=ln[--un],ln[un]=null,Mn=ln[--un],ln[un]=null,jn=ln[--un],ln[un]=null}function Qm(t,i){ln[un++]=jn,ln[un++]=Mn,ln[un++]=ui,jn=i.id,Mn=i.overflow,ui=t}var _t=null,Ge=null,Oe=!1,ci=null,cn=!1,ac=Error(s(519));function fi(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xs(on(i,t)),ac}function Jm(t){var i=t.stateNode,r=t.type,l=t.memoizedProps;switch(i[vt]=t,i[kt]=l,r){case"dialog":Te("cancel",i),Te("close",i);break;case"iframe":case"object":case"embed":Te("load",i);break;case"video":case"audio":for(r=0;r<yr.length;r++)Te(yr[r],i);break;case"source":Te("error",i);break;case"img":case"image":case"link":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"input":Te("invalid",i),fm(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Te("invalid",i);break;case"textarea":Te("invalid",i),hm(i,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||l.suppressHydrationWarning===!0||py(i.textContent,r)?(l.popover!=null&&(Te("beforetoggle",i),Te("toggle",i)),l.onScroll!=null&&Te("scroll",i),l.onScrollEnd!=null&&Te("scrollend",i),l.onClick!=null&&(i.onclick=Bn),i=!0):i=!1,i||fi(t,!0)}function Zm(t){for(_t=t.return;_t;)switch(_t.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:_t=_t.return}}function Ua(t){if(t!==_t)return!1;if(!Oe)return Zm(t),Oe=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||xf(t.type,t.memoizedProps)),r=!r),r&&Ge&&fi(t),Zm(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Ge=Ty(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Ge=Ty(t)}else i===27?(i=Ge,Ei(t.type)?(t=Cf,Cf=null,Ge=t):Ge=i):Ge=_t?dn(t.stateNode.nextSibling):null;return!0}function Xi(){Ge=_t=null,Oe=!1}function sc(){var t=ci;return t!==null&&(Pt===null?Pt=t:Pt.push.apply(Pt,t),ci=null),t}function Xs(t){ci===null?ci=[t]:ci.push(t)}var rc=x(null),Wi=null,Hn=null;function di(t,i,r){$(rc,i._currentValue),i._currentValue=r}function In(t){t._currentValue=rc.current,N(rc)}function oc(t,i,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===r)break;t=t.return}}function lc(t,i,r,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var y=d.dependencies;if(y!==null){var w=d.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=d;for(var M=0;M<i.length;M++)if(R.context===i[M]){y.lanes|=r,R=y.alternate,R!==null&&(R.lanes|=r),oc(y.return,r,t),l||(w=null);break e}y=R.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(s(341));w.lanes|=r,y=w.alternate,y!==null&&(y.lanes|=r),oc(w,r,t),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===t){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Ba(t,i,r,l){t=null;for(var d=i,y=!1;d!==null;){if(!y){if((d.flags&524288)!==0)y=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var R=d.type;Gt(d.pendingProps.value,w.value)||(t!==null?t.push(R):t=[R])}}else if(d===te.current){if(w=d.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Sr):t=[Sr])}d=d.return}t!==null&&lc(i,t,r,l),i.flags|=262144}function Lo(t){for(t=t.firstContext;t!==null;){if(!Gt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qi(t){Wi=t,Hn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function bt(t){return ep(Wi,t)}function Uo(t,i){return Wi===null&&Qi(t),ep(t,i)}function ep(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Hn===null){if(t===null)throw Error(s(308));Hn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Hn=Hn.next=i;return r}var KS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},YS=n.unstable_scheduleCallback,XS=n.unstable_NormalPriority,st={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uc(){return{controller:new KS,data:new Map,refCount:0}}function Ws(t){t.refCount--,t.refCount===0&&YS(XS,function(){t.controller.abort()})}var Qs=null,cc=0,za=0,Pa=null;function WS(t,i){if(Qs===null){var r=Qs=[];cc=0,za=mf(),Pa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return cc++,i.then(tp,tp),i}function tp(){if(--cc===0&&Qs!==null){Pa!==null&&(Pa.status="fulfilled");var t=Qs;Qs=null,za=0,Pa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function QS(t,i){var r=[],l={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<r.length;d++)(0,r[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),l}var np=I.S;I.S=function(t,i){Pg=At(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&WS(t,i),np!==null&&np(t,i)};var Ji=x(null);function fc(){var t=Ji.current;return t!==null?t:He.pooledCache}function Bo(t,i){i===null?$(Ji,Ji.current):$(Ji,i.pool)}function ip(){var t=fc();return t===null?null:{parent:st._currentValue,pool:t}}var Va=Error(s(460)),dc=Error(s(474)),zo=Error(s(542)),Po={then:function(){}};function ap(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sp(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(Bn,Bn),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,op(t),t;default:if(typeof i.status=="string")i.then(Bn,Bn);else{if(t=He,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,op(t),t}throw ea=i,Va}}function Zi(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ea=r,Va):r}}var ea=null;function rp(){if(ea===null)throw Error(s(459));var t=ea;return ea=null,t}function op(t){if(t===Va||t===zo)throw Error(s(483))}var Ha=null,Js=0;function Vo(t){var i=Js;return Js+=1,Ha===null&&(Ha=[]),sp(Ha,t,i)}function Zs(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ho(t,i){throw i.$$typeof===g?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function lp(t){function i(L,D){if(t){var B=L.deletions;B===null?(L.deletions=[D],L.flags|=16):B.push(D)}}function r(L,D){if(!t)return null;for(;D!==null;)i(L,D),D=D.sibling;return null}function l(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function d(L,D){return L=Pn(L,D),L.index=0,L.sibling=null,L}function y(L,D,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<D?(L.flags|=67108866,D):B):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function w(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function R(L,D,B,F){return D===null||D.tag!==6?(D=ec(B,L.mode,F),D.return=L,D):(D=d(D,B),D.return=L,D)}function M(L,D,B,F){var le=B.type;return le===E?q(L,D,B.props.children,F,B.key):D!==null&&(D.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===W&&Zi(le)===D.type)?(D=d(D,B.props),Zs(D,B),D.return=L,D):(D=No(B.type,B.key,B.props,null,L.mode,F),Zs(D,B),D.return=L,D)}function z(L,D,B,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?(D=tc(B,L.mode,F),D.return=L,D):(D=d(D,B.children||[]),D.return=L,D)}function q(L,D,B,F,le){return D===null||D.tag!==7?(D=Yi(B,L.mode,F,le),D.return=L,D):(D=d(D,B),D.return=L,D)}function Y(L,D,B){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ec(""+D,L.mode,B),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return B=No(D.type,D.key,D.props,null,L.mode,B),Zs(B,D),B.return=L,B;case b:return D=tc(D,L.mode,B),D.return=L,D;case W:return D=Zi(D),Y(L,D,B)}if(Ce(D)||ge(D))return D=Yi(D,L.mode,B,null),D.return=L,D;if(typeof D.then=="function")return Y(L,Vo(D),B);if(D.$$typeof===O)return Y(L,Uo(L,D),B);Ho(L,D)}return null}function P(L,D,B,F){var le=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return le!==null?null:R(L,D,""+B,F);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case _:return B.key===le?M(L,D,B,F):null;case b:return B.key===le?z(L,D,B,F):null;case W:return B=Zi(B),P(L,D,B,F)}if(Ce(B)||ge(B))return le!==null?null:q(L,D,B,F,null);if(typeof B.then=="function")return P(L,D,Vo(B),F);if(B.$$typeof===O)return P(L,D,Uo(L,B),F);Ho(L,B)}return null}function V(L,D,B,F,le){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return L=L.get(B)||null,R(D,L,""+F,le);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case _:return L=L.get(F.key===null?B:F.key)||null,M(D,L,F,le);case b:return L=L.get(F.key===null?B:F.key)||null,z(D,L,F,le);case W:return F=Zi(F),V(L,D,B,F,le)}if(Ce(F)||ge(F))return L=L.get(B)||null,q(D,L,F,le,null);if(typeof F.then=="function")return V(L,D,B,Vo(F),le);if(F.$$typeof===O)return V(L,D,B,Uo(D,F),le);Ho(D,F)}return null}function ae(L,D,B,F){for(var le=null,je=null,re=D,Se=D=0,Re=null;re!==null&&Se<B.length;Se++){re.index>Se?(Re=re,re=null):Re=re.sibling;var Me=P(L,re,B[Se],F);if(Me===null){re===null&&(re=Re);break}t&&re&&Me.alternate===null&&i(L,re),D=y(Me,D,Se),je===null?le=Me:je.sibling=Me,je=Me,re=Re}if(Se===B.length)return r(L,re),Oe&&Vn(L,Se),le;if(re===null){for(;Se<B.length;Se++)re=Y(L,B[Se],F),re!==null&&(D=y(re,D,Se),je===null?le=re:je.sibling=re,je=re);return Oe&&Vn(L,Se),le}for(re=l(re);Se<B.length;Se++)Re=V(re,L,Se,B[Se],F),Re!==null&&(t&&Re.alternate!==null&&re.delete(Re.key===null?Se:Re.key),D=y(Re,D,Se),je===null?le=Re:je.sibling=Re,je=Re);return t&&re.forEach(function(ji){return i(L,ji)}),Oe&&Vn(L,Se),le}function ce(L,D,B,F){if(B==null)throw Error(s(151));for(var le=null,je=null,re=D,Se=D=0,Re=null,Me=B.next();re!==null&&!Me.done;Se++,Me=B.next()){re.index>Se?(Re=re,re=null):Re=re.sibling;var ji=P(L,re,Me.value,F);if(ji===null){re===null&&(re=Re);break}t&&re&&ji.alternate===null&&i(L,re),D=y(ji,D,Se),je===null?le=ji:je.sibling=ji,je=ji,re=Re}if(Me.done)return r(L,re),Oe&&Vn(L,Se),le;if(re===null){for(;!Me.done;Se++,Me=B.next())Me=Y(L,Me.value,F),Me!==null&&(D=y(Me,D,Se),je===null?le=Me:je.sibling=Me,je=Me);return Oe&&Vn(L,Se),le}for(re=l(re);!Me.done;Se++,Me=B.next())Me=V(re,L,Se,Me.value,F),Me!==null&&(t&&Me.alternate!==null&&re.delete(Me.key===null?Se:Me.key),D=y(Me,D,Se),je===null?le=Me:je.sibling=Me,je=Me);return t&&re.forEach(function(lT){return i(L,lT)}),Oe&&Vn(L,Se),le}function Ve(L,D,B,F){if(typeof B=="object"&&B!==null&&B.type===E&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case _:e:{for(var le=B.key;D!==null;){if(D.key===le){if(le=B.type,le===E){if(D.tag===7){r(L,D.sibling),F=d(D,B.props.children),F.return=L,L=F;break e}}else if(D.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===W&&Zi(le)===D.type){r(L,D.sibling),F=d(D,B.props),Zs(F,B),F.return=L,L=F;break e}r(L,D);break}else i(L,D);D=D.sibling}B.type===E?(F=Yi(B.props.children,L.mode,F,B.key),F.return=L,L=F):(F=No(B.type,B.key,B.props,null,L.mode,F),Zs(F,B),F.return=L,L=F)}return w(L);case b:e:{for(le=B.key;D!==null;){if(D.key===le)if(D.tag===4&&D.stateNode.containerInfo===B.containerInfo&&D.stateNode.implementation===B.implementation){r(L,D.sibling),F=d(D,B.children||[]),F.return=L,L=F;break e}else{r(L,D);break}else i(L,D);D=D.sibling}F=tc(B,L.mode,F),F.return=L,L=F}return w(L);case W:return B=Zi(B),Ve(L,D,B,F)}if(Ce(B))return ae(L,D,B,F);if(ge(B)){if(le=ge(B),typeof le!="function")throw Error(s(150));return B=le.call(B),ce(L,D,B,F)}if(typeof B.then=="function")return Ve(L,D,Vo(B),F);if(B.$$typeof===O)return Ve(L,D,Uo(L,B),F);Ho(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,D!==null&&D.tag===6?(r(L,D.sibling),F=d(D,B),F.return=L,L=F):(r(L,D),F=ec(B,L.mode,F),F.return=L,L=F),w(L)):r(L,D)}return function(L,D,B,F){try{Js=0;var le=Ve(L,D,B,F);return Ha=null,le}catch(re){if(re===Va||re===zo)throw re;var je=Ft(29,re,null,L.mode);return je.lanes=F,je.return=L,je}}}var ta=lp(!0),up=lp(!1),hi=!1;function hc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mc(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function mi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pi(t,i,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(De&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=Do(t),Fm(t,null,r),i}return Mo(t,l,i,r),Do(t)}function er(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,em(t,r)}}function pc(t,i){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var d=null,y=null;if(r=r.firstBaseUpdate,r!==null){do{var w={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};y===null?d=y=w:y=y.next=w,r=r.next}while(r!==null);y===null?d=y=i:y=y.next=i}else d=y=i;r={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var gc=!1;function tr(){if(gc){var t=Pa;if(t!==null)throw t}}function nr(t,i,r,l){gc=!1;var d=t.updateQueue;hi=!1;var y=d.firstBaseUpdate,w=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var M=R,z=M.next;M.next=null,w===null?y=z:w.next=z,w=M;var q=t.alternate;q!==null&&(q=q.updateQueue,R=q.lastBaseUpdate,R!==w&&(R===null?q.firstBaseUpdate=z:R.next=z,q.lastBaseUpdate=M))}if(y!==null){var Y=d.baseState;w=0,q=z=M=null,R=y;do{var P=R.lane&-536870913,V=P!==R.lane;if(V?(Ae&P)===P:(l&P)===P){P!==0&&P===za&&(gc=!0),q!==null&&(q=q.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var ae=t,ce=R;P=i;var Ve=r;switch(ce.tag){case 1:if(ae=ce.payload,typeof ae=="function"){Y=ae.call(Ve,Y,P);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ce.payload,P=typeof ae=="function"?ae.call(Ve,Y,P):ae,P==null)break e;Y=f({},Y,P);break e;case 2:hi=!0}}P=R.callback,P!==null&&(t.flags|=64,V&&(t.flags|=8192),V=d.callbacks,V===null?d.callbacks=[P]:V.push(P))}else V={lane:P,tag:R.tag,payload:R.payload,callback:R.callback,next:null},q===null?(z=q=V,M=Y):q=q.next=V,w|=P;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;V=R,R=V.next,V.next=null,d.lastBaseUpdate=V,d.shared.pending=null}}while(!0);q===null&&(M=Y),d.baseState=M,d.firstBaseUpdate=z,d.lastBaseUpdate=q,y===null&&(d.shared.lanes=0),bi|=w,t.lanes=w,t.memoizedState=Y}}function cp(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function fp(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)cp(r[t],i)}var Ia=x(null),Io=x(0);function dp(t,i){t=Qn,$(Io,t),$(Ia,i),Qn=t|i.baseLanes}function yc(){$(Io,Qn),$(Ia,Ia.current)}function vc(){Qn=Io.current,N(Ia),N(Io)}var Kt=x(null),fn=null;function gi(t){var i=t.alternate;$(nt,nt.current&1),$(Kt,t),fn===null&&(i===null||Ia.current!==null||i.memoizedState!==null)&&(fn=t)}function _c(t){$(nt,nt.current),$(Kt,t),fn===null&&(fn=t)}function hp(t){t.tag===22?($(nt,nt.current),$(Kt,t),fn===null&&(fn=t)):yi()}function yi(){$(nt,nt.current),$(Kt,Kt.current)}function Yt(t){N(Kt),fn===t&&(fn=null),N(nt)}var nt=x(0);function $o(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Af(r)||Rf(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var $n=0,_e=null,ze=null,rt=null,qo=!1,$a=!1,na=!1,Go=0,ir=0,qa=null,JS=0;function Qe(){throw Error(s(321))}function bc(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!Gt(t[r],i[r]))return!1;return!0}function wc(t,i,r,l,d,y){return $n=y,_e=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,I.H=t===null||t.memoizedState===null?Wp:Uc,na=!1,y=r(l,d),na=!1,$a&&(y=pp(i,r,l,d)),mp(t),y}function mp(t){I.H=rr;var i=ze!==null&&ze.next!==null;if($n=0,rt=ze=_e=null,qo=!1,ir=0,qa=null,i)throw Error(s(300));t===null||ot||(t=t.dependencies,t!==null&&Lo(t)&&(ot=!0))}function pp(t,i,r,l){_e=t;var d=0;do{if($a&&(qa=null),ir=0,$a=!1,25<=d)throw Error(s(301));if(d+=1,rt=ze=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}I.H=Qp,y=i(r,l)}while($a);return y}function ZS(){var t=I.H,i=t.useState()[0];return i=typeof i.then=="function"?ar(i):i,t=t.useState()[0],(ze!==null?ze.memoizedState:null)!==t&&(_e.flags|=1024),i}function Sc(){var t=Go!==0;return Go=0,t}function xc(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Tc(t){if(qo){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}qo=!1}$n=0,rt=ze=_e=null,$a=!1,ir=Go=0,qa=null}function jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?_e.memoizedState=rt=t:rt=rt.next=t,rt}function it(){if(ze===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var i=rt===null?_e.memoizedState:rt.next;if(i!==null)rt=i,ze=t;else{if(t===null)throw _e.alternate===null?Error(s(467)):Error(s(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},rt===null?_e.memoizedState=rt=t:rt=rt.next=t}return rt}function Fo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ar(t){var i=ir;return ir+=1,qa===null&&(qa=[]),t=sp(qa,t,i),i=_e,(rt===null?i.memoizedState:rt.next)===null&&(i=i.alternate,I.H=i===null||i.memoizedState===null?Wp:Uc),t}function Ko(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ar(t);if(t.$$typeof===O)return bt(t)}throw Error(s(438,String(t)))}function Ec(t){var i=null,r=_e.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var l=_e.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Fo(),_e.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),l=0;l<t;l++)r[l]=he;return i.index++,r}function qn(t,i){return typeof i=="function"?i(t):i}function Yo(t){var i=it();return Ac(i,ze,t)}function Ac(t,i,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var d=t.baseQueue,y=l.pending;if(y!==null){if(d!==null){var w=d.next;d.next=y.next,y.next=w}i.baseQueue=d=y,l.pending=null}if(y=t.baseState,d===null)t.memoizedState=y;else{i=d.next;var R=w=null,M=null,z=i,q=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Ae&Y)===Y:($n&Y)===Y){var P=z.revertLane;if(P===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===za&&(q=!0);else if(($n&P)===P){z=z.next,P===za&&(q=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},M===null?(R=M=Y,w=y):M=M.next=Y,_e.lanes|=P,bi|=P;Y=z.action,na&&r(y,Y),y=z.hasEagerState?z.eagerState:r(y,Y)}else P={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},M===null?(R=M=P,w=y):M=M.next=P,_e.lanes|=Y,bi|=Y;z=z.next}while(z!==null&&z!==i);if(M===null?w=y:M.next=R,!Gt(y,t.memoizedState)&&(ot=!0,q&&(r=Pa,r!==null)))throw r;t.memoizedState=y,t.baseState=w,t.baseQueue=M,l.lastRenderedState=y}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rc(t){var i=it(),r=i.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,d=r.pending,y=i.memoizedState;if(d!==null){r.pending=null;var w=d=d.next;do y=t(y,w.action),w=w.next;while(w!==d);Gt(y,i.memoizedState)||(ot=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),r.lastRenderedState=y}return[y,l]}function gp(t,i,r){var l=_e,d=it(),y=Oe;if(y){if(r===void 0)throw Error(s(407));r=r()}else r=i();var w=!Gt((ze||d).memoizedState,r);if(w&&(d.memoizedState=r,ot=!0),d=d.queue,jc(_p.bind(null,l,d,t),[t]),d.getSnapshot!==i||w||rt!==null&&rt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,{destroy:void 0},vp.bind(null,l,d,r,i),null),He===null)throw Error(s(349));y||($n&127)!==0||yp(l,i,r)}return r}function yp(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=_e.updateQueue,i===null?(i=Fo(),_e.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function vp(t,i,r,l){i.value=r,i.getSnapshot=l,bp(i)&&wp(t)}function _p(t,i,r){return r(function(){bp(i)&&wp(t)})}function bp(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!Gt(t,r)}catch{return!0}}function wp(t){var i=Ki(t,2);i!==null&&Vt(i,t,2)}function Cc(t){var i=jt();if(typeof t=="function"){var r=t;if(t=r(),na){ri(!0);try{r()}finally{ri(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:t},i}function Sp(t,i,r,l){return t.baseState=r,Ac(t,ze,typeof l=="function"?l:qn)}function ex(t,i,r,l,d){if(Qo(t))throw Error(s(485));if(t=i.action,t!==null){var y={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};I.T!==null?r(!0):y.isTransition=!1,l(y),r=i.pending,r===null?(y.next=i.pending=y,xp(i,y)):(y.next=r.next,i.pending=r.next=y)}}function xp(t,i){var r=i.action,l=i.payload,d=t.state;if(i.isTransition){var y=I.T,w={};I.T=w;try{var R=r(d,l),M=I.S;M!==null&&M(w,R),Tp(t,i,R)}catch(z){Oc(t,i,z)}finally{y!==null&&w.types!==null&&(y.types=w.types),I.T=y}}else try{y=r(d,l),Tp(t,i,y)}catch(z){Oc(t,i,z)}}function Tp(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Ep(t,i,l)},function(l){return Oc(t,i,l)}):Ep(t,i,r)}function Ep(t,i,r){i.status="fulfilled",i.value=r,Ap(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,xp(t,r)))}function Oc(t,i,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=r,Ap(i),i=i.next;while(i!==l)}t.action=null}function Ap(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Rp(t,i){return i}function Cp(t,i){if(Oe){var r=He.formState;if(r!==null){e:{var l=_e;if(Oe){if(Ge){t:{for(var d=Ge,y=cn;d.nodeType!==8;){if(!y){d=null;break t}if(d=dn(d.nextSibling),d===null){d=null;break t}}y=d.data,d=y==="F!"||y==="F"?d:null}if(d){Ge=dn(d.nextSibling),l=d.data==="F!";break e}}fi(l)}l=!1}l&&(i=r[0])}}return r=jt(),r.memoizedState=r.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:i},r.queue=l,r=Kp.bind(null,_e,l),l.dispatch=r,l=Cc(!1),y=Lc.bind(null,_e,!1,l.queue),l=jt(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,r=ex.bind(null,_e,d,y,r),d.dispatch=r,l.memoizedState=t,[i,r,!1]}function Op(t){var i=it();return jp(i,ze,t)}function jp(t,i,r){if(i=Ac(t,i,Rp)[0],t=Yo(qn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ar(i)}catch(w){throw w===Va?zo:w}else l=i;i=it();var d=i.queue,y=d.dispatch;return r!==i.memoizedState&&(_e.flags|=2048,Ga(9,{destroy:void 0},tx.bind(null,d,r),null)),[l,y,t]}function tx(t,i){t.action=i}function Mp(t){var i=it(),r=ze;if(r!==null)return jp(i,r,t);it(),i=i.memoizedState,r=it();var l=r.queue.dispatch;return r.memoizedState=t,[i,l,!1]}function Ga(t,i,r,l){return t={tag:t,create:r,deps:l,inst:i,next:null},i=_e.updateQueue,i===null&&(i=Fo(),_e.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,i.lastEffect=t),t}function Dp(){return it().memoizedState}function Xo(t,i,r,l){var d=jt();_e.flags|=t,d.memoizedState=Ga(1|i,{destroy:void 0},r,l===void 0?null:l)}function Wo(t,i,r,l){var d=it();l=l===void 0?null:l;var y=d.memoizedState.inst;ze!==null&&l!==null&&bc(l,ze.memoizedState.deps)?d.memoizedState=Ga(i,y,r,l):(_e.flags|=t,d.memoizedState=Ga(1|i,y,r,l))}function Np(t,i){Xo(8390656,8,t,i)}function jc(t,i){Wo(2048,8,t,i)}function nx(t){_e.flags|=4;var i=_e.updateQueue;if(i===null)i=Fo(),_e.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function kp(t){var i=it().memoizedState;return nx({ref:i,nextImpl:t}),function(){if((De&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Lp(t,i){return Wo(4,2,t,i)}function Up(t,i){return Wo(4,4,t,i)}function Bp(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function zp(t,i,r){r=r!=null?r.concat([t]):null,Wo(4,4,Bp.bind(null,i,t),r)}function Mc(){}function Pp(t,i){var r=it();i=i===void 0?null:i;var l=r.memoizedState;return i!==null&&bc(i,l[1])?l[0]:(r.memoizedState=[t,i],t)}function Vp(t,i){var r=it();i=i===void 0?null:i;var l=r.memoizedState;if(i!==null&&bc(i,l[1]))return l[0];if(l=t(),na){ri(!0);try{t()}finally{ri(!1)}}return r.memoizedState=[l,i],l}function Dc(t,i,r){return r===void 0||($n&1073741824)!==0&&(Ae&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=Hg(),_e.lanes|=t,bi|=t,r)}function Hp(t,i,r,l){return Gt(r,i)?r:Ia.current!==null?(t=Dc(t,r,l),Gt(t,i)||(ot=!0),t):($n&42)===0||($n&1073741824)!==0&&(Ae&261930)===0?(ot=!0,t.memoizedState=r):(t=Hg(),_e.lanes|=t,bi|=t,i)}function Ip(t,i,r,l,d){var y=Q.p;Q.p=y!==0&&8>y?y:8;var w=I.T,R={};I.T=R,Lc(t,!1,i,r);try{var M=d(),z=I.S;if(z!==null&&z(R,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var q=QS(M,l);sr(t,i,q,Qt(t))}else sr(t,i,l,Qt(t))}catch(Y){sr(t,i,{then:function(){},status:"rejected",reason:Y},Qt())}finally{Q.p=y,w!==null&&R.types!==null&&(w.types=R.types),I.T=w}}function ix(){}function Nc(t,i,r,l){if(t.tag!==5)throw Error(s(476));var d=$p(t).queue;Ip(t,d,i,ie,r===null?ix:function(){return qp(t),r(l)})}function $p(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:ie},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function qp(t){var i=$p(t);i.next===null&&(i=t.alternate.memoizedState),sr(t,i.next.queue,{},Qt())}function kc(){return bt(Sr)}function Gp(){return it().memoizedState}function Fp(){return it().memoizedState}function ax(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=Qt();t=mi(r);var l=pi(i,t,r);l!==null&&(Vt(l,i,r),er(l,i,r)),i={cache:uc()},t.payload=i;return}i=i.return}}function sx(t,i,r){var l=Qt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Qo(t)?Yp(i,r):(r=Ju(t,i,r,l),r!==null&&(Vt(r,t,l),Xp(r,i,l)))}function Kp(t,i,r){var l=Qt();sr(t,i,r,l)}function sr(t,i,r,l){var d={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qo(t))Yp(i,d);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var w=i.lastRenderedState,R=y(w,r);if(d.hasEagerState=!0,d.eagerState=R,Gt(R,w))return Mo(t,i,d,0),He===null&&jo(),!1}catch{}if(r=Ju(t,i,d,l),r!==null)return Vt(r,t,l),Xp(r,i,l),!0}return!1}function Lc(t,i,r,l){if(l={lane:2,revertLane:mf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qo(t)){if(i)throw Error(s(479))}else i=Ju(t,r,l,2),i!==null&&Vt(i,t,2)}function Qo(t){var i=t.alternate;return t===_e||i!==null&&i===_e}function Yp(t,i){$a=qo=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Xp(t,i,r){if((r&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,em(t,r)}}var rr={readContext:bt,use:Ko,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};rr.useEffectEvent=Qe;var Wp={readContext:bt,use:Ko,useCallback:function(t,i){return jt().memoizedState=[t,i===void 0?null:i],t},useContext:bt,useEffect:Np,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,Xo(4194308,4,Bp.bind(null,i,t),r)},useLayoutEffect:function(t,i){return Xo(4194308,4,t,i)},useInsertionEffect:function(t,i){Xo(4,2,t,i)},useMemo:function(t,i){var r=jt();i=i===void 0?null:i;var l=t();if(na){ri(!0);try{t()}finally{ri(!1)}}return r.memoizedState=[l,i],l},useReducer:function(t,i,r){var l=jt();if(r!==void 0){var d=r(i);if(na){ri(!0);try{r(i)}finally{ri(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=sx.bind(null,_e,t),[l.memoizedState,t]},useRef:function(t){var i=jt();return t={current:t},i.memoizedState=t},useState:function(t){t=Cc(t);var i=t.queue,r=Kp.bind(null,_e,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:Mc,useDeferredValue:function(t,i){var r=jt();return Dc(r,t,i)},useTransition:function(){var t=Cc(!1);return t=Ip.bind(null,_e,t.queue,!0,!1),jt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var l=_e,d=jt();if(Oe){if(r===void 0)throw Error(s(407));r=r()}else{if(r=i(),He===null)throw Error(s(349));(Ae&127)!==0||yp(l,i,r)}d.memoizedState=r;var y={value:r,getSnapshot:i};return d.queue=y,Np(_p.bind(null,l,y,t),[t]),l.flags|=2048,Ga(9,{destroy:void 0},vp.bind(null,l,y,r,i),null),r},useId:function(){var t=jt(),i=He.identifierPrefix;if(Oe){var r=Mn,l=jn;r=(l&~(1<<32-qt(l)-1)).toString(32)+r,i="_"+i+"R_"+r,r=Go++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=JS++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:kc,useFormState:Cp,useActionState:Cp,useOptimistic:function(t){var i=jt();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Lc.bind(null,_e,!0,r),r.dispatch=i,[t,i]},useMemoCache:Ec,useCacheRefresh:function(){return jt().memoizedState=ax.bind(null,_e)},useEffectEvent:function(t){var i=jt(),r={impl:t};return i.memoizedState=r,function(){if((De&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},Uc={readContext:bt,use:Ko,useCallback:Pp,useContext:bt,useEffect:jc,useImperativeHandle:zp,useInsertionEffect:Lp,useLayoutEffect:Up,useMemo:Vp,useReducer:Yo,useRef:Dp,useState:function(){return Yo(qn)},useDebugValue:Mc,useDeferredValue:function(t,i){var r=it();return Hp(r,ze.memoizedState,t,i)},useTransition:function(){var t=Yo(qn)[0],i=it().memoizedState;return[typeof t=="boolean"?t:ar(t),i]},useSyncExternalStore:gp,useId:Gp,useHostTransitionStatus:kc,useFormState:Op,useActionState:Op,useOptimistic:function(t,i){var r=it();return Sp(r,ze,t,i)},useMemoCache:Ec,useCacheRefresh:Fp};Uc.useEffectEvent=kp;var Qp={readContext:bt,use:Ko,useCallback:Pp,useContext:bt,useEffect:jc,useImperativeHandle:zp,useInsertionEffect:Lp,useLayoutEffect:Up,useMemo:Vp,useReducer:Rc,useRef:Dp,useState:function(){return Rc(qn)},useDebugValue:Mc,useDeferredValue:function(t,i){var r=it();return ze===null?Dc(r,t,i):Hp(r,ze.memoizedState,t,i)},useTransition:function(){var t=Rc(qn)[0],i=it().memoizedState;return[typeof t=="boolean"?t:ar(t),i]},useSyncExternalStore:gp,useId:Gp,useHostTransitionStatus:kc,useFormState:Mp,useActionState:Mp,useOptimistic:function(t,i){var r=it();return ze!==null?Sp(r,ze,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ec,useCacheRefresh:Fp};Qp.useEffectEvent=kp;function Bc(t,i,r,l){i=t.memoizedState,r=r(l,i),r=r==null?i:f({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var zc={enqueueSetState:function(t,i,r){t=t._reactInternals;var l=Qt(),d=mi(l);d.payload=i,r!=null&&(d.callback=r),i=pi(t,d,l),i!==null&&(Vt(i,t,l),er(i,t,l))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var l=Qt(),d=mi(l);d.tag=1,d.payload=i,r!=null&&(d.callback=r),i=pi(t,d,l),i!==null&&(Vt(i,t,l),er(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=Qt(),l=mi(r);l.tag=2,i!=null&&(l.callback=i),i=pi(t,l,r),i!==null&&(Vt(i,t,r),er(i,t,r))}};function Jp(t,i,r,l,d,y,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,y,w):i.prototype&&i.prototype.isPureReactComponent?!Fs(r,l)||!Fs(d,y):!0}function Zp(t,i,r,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,l),i.state!==t&&zc.enqueueReplaceState(i,i.state,null)}function ia(t,i){var r=i;if("ref"in i){r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}if(t=t.defaultProps){r===i&&(r=f({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}function eg(t){Oo(t)}function tg(t){console.error(t)}function ng(t){Oo(t)}function Jo(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ig(t,i,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Pc(t,i,r){return r=mi(r),r.tag=3,r.payload={element:null},r.callback=function(){Jo(t,i)},r}function ag(t){return t=mi(t),t.tag=3,t}function sg(t,i,r,l){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var y=l.value;t.payload=function(){return d(y)},t.callback=function(){ig(i,r,l)}}var w=r.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){ig(i,r,l),typeof d!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var R=l.stack;this.componentDidCatch(l.value,{componentStack:R!==null?R:""})})}function rx(t,i,r,l,d){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=r.alternate,i!==null&&Ba(i,r,d,!0),r=Kt.current,r!==null){switch(r.tag){case 31:case 13:return fn===null?cl():r.alternate===null&&Je===0&&(Je=3),r.flags&=-257,r.flags|=65536,r.lanes=d,l===Po?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([l]):i.add(l),ff(t,l,d)),!1;case 22:return r.flags|=65536,l===Po?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([l]):r.add(l)),ff(t,l,d)),!1}throw Error(s(435,r.tag))}return ff(t,l,d),cl(),!1}if(Oe)return i=Kt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==ac&&(t=Error(s(422),{cause:l}),Xs(on(t,r)))):(l!==ac&&(i=Error(s(423),{cause:l}),Xs(on(i,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=on(l,r),d=Pc(t.stateNode,l,d),pc(t,d),Je!==4&&(Je=2)),!1;var y=Error(s(520),{cause:l});if(y=on(y,r),mr===null?mr=[y]:mr.push(y),Je!==4&&(Je=2),i===null)return!0;l=on(l,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=Pc(r.stateNode,l,t),pc(r,t),!1;case 1:if(i=r.type,y=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wi===null||!wi.has(y))))return r.flags|=65536,d&=-d,r.lanes|=d,d=ag(d),sg(d,t,r,l),pc(r,d),!1}r=r.return}while(r!==null);return!1}var Vc=Error(s(461)),ot=!1;function wt(t,i,r,l){i.child=t===null?up(i,null,r,l):ta(i,t.child,r,l)}function rg(t,i,r,l,d){r=r.render;var y=i.ref;if("ref"in l){var w={};for(var R in l)R!=="ref"&&(w[R]=l[R])}else w=l;return Qi(i),l=wc(t,i,r,w,y,d),R=Sc(),t!==null&&!ot?(xc(t,i,d),Gn(t,i,d)):(Oe&&R&&nc(i),i.flags|=1,wt(t,i,l,d),i.child)}function og(t,i,r,l,d){if(t===null){var y=r.type;return typeof y=="function"&&!Zu(y)&&y.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=y,lg(t,i,y,l,d)):(t=No(r.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(y=t.child,!Yc(t,d)){var w=y.memoizedProps;if(r=r.compare,r=r!==null?r:Fs,r(w,l)&&t.ref===i.ref)return Gn(t,i,d)}return i.flags|=1,t=Pn(y,l),t.ref=i.ref,t.return=i,i.child=t}function lg(t,i,r,l,d){if(t!==null){var y=t.memoizedProps;if(Fs(y,l)&&t.ref===i.ref)if(ot=!1,i.pendingProps=l=y,Yc(t,d))(t.flags&131072)!==0&&(ot=!0);else return i.lanes=t.lanes,Gn(t,i,d)}return Hc(t,i,r,l,d)}function ug(t,i,r,l){var d=l.children,y=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(y=y!==null?y.baseLanes|r:r,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~y}else l=0,i.child=null;return cg(t,i,y,r,l)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bo(i,y!==null?y.cachePool:null),y!==null?dp(i,y):yc(),hp(i);else return l=i.lanes=536870912,cg(t,i,y!==null?y.baseLanes|r:r,r,l)}else y!==null?(Bo(i,y.cachePool),dp(i,y),yi(),i.memoizedState=null):(t!==null&&Bo(i,null),yc(),yi());return wt(t,i,d,r),i.child}function or(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function cg(t,i,r,l,d){var y=fc();return y=y===null?null:{parent:st._currentValue,pool:y},i.memoizedState={baseLanes:r,cachePool:y},t!==null&&Bo(i,null),yc(),hp(i),t!==null&&Ba(t,i,l,!0),i.childLanes=d,null}function Zo(t,i){return i=tl({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function fg(t,i,r){return ta(i,t.child,null,r),t=Zo(i,i.pendingProps),t.flags|=2,Yt(i),i.memoizedState=null,t}function ox(t,i,r){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Oe){if(l.mode==="hidden")return t=Zo(i,l),i.lanes=536870912,or(null,t);if(_c(i),(t=Ge)?(t=xy(t,cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ui!==null?{id:jn,overflow:Mn}:null,retryLane:536870912,hydrationErrors:null},r=Ym(t),r.return=i,i.child=r,_t=i,Ge=null)):t=null,t===null)throw fi(i);return i.lanes=536870912,null}return Zo(i,l)}var y=t.memoizedState;if(y!==null){var w=y.dehydrated;if(_c(i),d)if(i.flags&256)i.flags&=-257,i=fg(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(ot||Ba(t,i,r,!1),d=(r&t.childLanes)!==0,ot||d){if(l=He,l!==null&&(w=tm(l,r),w!==0&&w!==y.retryLane))throw y.retryLane=w,Ki(t,w),Vt(l,t,w),Vc;cl(),i=fg(t,i,r)}else t=y.treeContext,Ge=dn(w.nextSibling),_t=i,Oe=!0,ci=null,cn=!1,t!==null&&Qm(i,t),i=Zo(i,l),i.flags|=4096;return i}return t=Pn(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function el(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function Hc(t,i,r,l,d){return Qi(i),r=wc(t,i,r,l,void 0,d),l=Sc(),t!==null&&!ot?(xc(t,i,d),Gn(t,i,d)):(Oe&&l&&nc(i),i.flags|=1,wt(t,i,r,d),i.child)}function dg(t,i,r,l,d,y){return Qi(i),i.updateQueue=null,r=pp(i,l,r,d),mp(t),l=Sc(),t!==null&&!ot?(xc(t,i,y),Gn(t,i,y)):(Oe&&l&&nc(i),i.flags|=1,wt(t,i,r,y),i.child)}function hg(t,i,r,l,d){if(Qi(i),i.stateNode===null){var y=Na,w=r.contextType;typeof w=="object"&&w!==null&&(y=bt(w)),y=new r(l,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=zc,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=l,y.state=i.memoizedState,y.refs={},hc(i),w=r.contextType,y.context=typeof w=="object"&&w!==null?bt(w):Na,y.state=i.memoizedState,w=r.getDerivedStateFromProps,typeof w=="function"&&(Bc(i,r,w,l),y.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&zc.enqueueReplaceState(y,y.state,null),nr(i,l,y,d),tr(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){y=i.stateNode;var R=i.memoizedProps,M=ia(r,R);y.props=M;var z=y.context,q=r.contextType;w=Na,typeof q=="object"&&q!==null&&(w=bt(q));var Y=r.getDerivedStateFromProps;q=typeof Y=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=i.pendingProps!==R,q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||z!==w)&&Zp(i,y,l,w),hi=!1;var P=i.memoizedState;y.state=P,nr(i,l,y,d),tr(),z=i.memoizedState,R||P!==z||hi?(typeof Y=="function"&&(Bc(i,r,Y,l),z=i.memoizedState),(M=hi||Jp(i,r,M,l,P,z,w))?(q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),y.props=l,y.state=z,y.context=w,l=M):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{y=i.stateNode,mc(t,i),w=i.memoizedProps,q=ia(r,w),y.props=q,Y=i.pendingProps,P=y.context,z=r.contextType,M=Na,typeof z=="object"&&z!==null&&(M=bt(z)),R=r.getDerivedStateFromProps,(z=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==Y||P!==M)&&Zp(i,y,l,M),hi=!1,P=i.memoizedState,y.state=P,nr(i,l,y,d),tr();var V=i.memoizedState;w!==Y||P!==V||hi||t!==null&&t.dependencies!==null&&Lo(t.dependencies)?(typeof R=="function"&&(Bc(i,r,R,l),V=i.memoizedState),(q=hi||Jp(i,r,q,l,P,V,M)||t!==null&&t.dependencies!==null&&Lo(t.dependencies))?(z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,V,M),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,V,M)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&P===t.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&P===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=V),y.props=l,y.state=V,y.context=M,l=q):(typeof y.componentDidUpdate!="function"||w===t.memoizedProps&&P===t.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&P===t.memoizedState||(i.flags|=1024),l=!1)}return y=l,el(t,i),l=(i.flags&128)!==0,y||l?(y=i.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,t!==null&&l?(i.child=ta(i,t.child,null,d),i.child=ta(i,null,r,d)):wt(t,i,r,d),i.memoizedState=y.state,t=i.child):t=Gn(t,i,d),t}function mg(t,i,r,l){return Xi(),i.flags|=256,wt(t,i,r,l),i.child}var Ic={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $c(t){return{baseLanes:t,cachePool:ip()}}function qc(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=Wt),t}function pg(t,i,r){var l=i.pendingProps,d=!1,y=(i.flags&128)!==0,w;if((w=y)||(w=t!==null&&t.memoizedState===null?!1:(nt.current&2)!==0),w&&(d=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,t===null){if(Oe){if(d?gi(i):yi(),(t=Ge)?(t=xy(t,cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ui!==null?{id:jn,overflow:Mn}:null,retryLane:536870912,hydrationErrors:null},r=Ym(t),r.return=i,i.child=r,_t=i,Ge=null)):t=null,t===null)throw fi(i);return Rf(t)?i.lanes=32:i.lanes=536870912,null}var R=l.children;return l=l.fallback,d?(yi(),d=i.mode,R=tl({mode:"hidden",children:R},d),l=Yi(l,d,r,null),R.return=i,l.return=i,R.sibling=l,i.child=R,l=i.child,l.memoizedState=$c(r),l.childLanes=qc(t,w,r),i.memoizedState=Ic,or(null,l)):(gi(i),Gc(i,R))}var M=t.memoizedState;if(M!==null&&(R=M.dehydrated,R!==null)){if(y)i.flags&256?(gi(i),i.flags&=-257,i=Fc(t,i,r)):i.memoizedState!==null?(yi(),i.child=t.child,i.flags|=128,i=null):(yi(),R=l.fallback,d=i.mode,l=tl({mode:"visible",children:l.children},d),R=Yi(R,d,r,null),R.flags|=2,l.return=i,R.return=i,l.sibling=R,i.child=l,ta(i,t.child,null,r),l=i.child,l.memoizedState=$c(r),l.childLanes=qc(t,w,r),i.memoizedState=Ic,i=or(null,l));else if(gi(i),Rf(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var z=w.dgst;w=z,l=Error(s(419)),l.stack="",l.digest=w,Xs({value:l,source:null,stack:null}),i=Fc(t,i,r)}else if(ot||Ba(t,i,r,!1),w=(r&t.childLanes)!==0,ot||w){if(w=He,w!==null&&(l=tm(w,r),l!==0&&l!==M.retryLane))throw M.retryLane=l,Ki(t,l),Vt(w,t,l),Vc;Af(R)||cl(),i=Fc(t,i,r)}else Af(R)?(i.flags|=192,i.child=t.child,i=null):(t=M.treeContext,Ge=dn(R.nextSibling),_t=i,Oe=!0,ci=null,cn=!1,t!==null&&Qm(i,t),i=Gc(i,l.children),i.flags|=4096);return i}return d?(yi(),R=l.fallback,d=i.mode,M=t.child,z=M.sibling,l=Pn(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,z!==null?R=Pn(z,R):(R=Yi(R,d,r,null),R.flags|=2),R.return=i,l.return=i,l.sibling=R,i.child=l,or(null,l),l=i.child,R=t.child.memoizedState,R===null?R=$c(r):(d=R.cachePool,d!==null?(M=st._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=ip(),R={baseLanes:R.baseLanes|r,cachePool:d}),l.memoizedState=R,l.childLanes=qc(t,w,r),i.memoizedState=Ic,or(t.child,l)):(gi(i),r=t.child,t=r.sibling,r=Pn(r,{mode:"visible",children:l.children}),r.return=i,r.sibling=null,t!==null&&(w=i.deletions,w===null?(i.deletions=[t],i.flags|=16):w.push(t)),i.child=r,i.memoizedState=null,r)}function Gc(t,i){return i=tl({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function tl(t,i){return t=Ft(22,t,null,i),t.lanes=0,t}function Fc(t,i,r){return ta(i,t.child,null,r),t=Gc(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function gg(t,i,r){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),oc(t.return,i,r)}function Kc(t,i,r,l,d,y){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:d,treeForkCount:y}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=r,w.tailMode=d,w.treeForkCount=y)}function yg(t,i,r){var l=i.pendingProps,d=l.revealOrder,y=l.tail;l=l.children;var w=nt.current,R=(w&2)!==0;if(R?(w=w&1|2,i.flags|=128):w&=1,$(nt,w),wt(t,i,l,r),l=Oe?Ys:0,!R&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gg(t,r,i);else if(t.tag===19)gg(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(r=i.child,d=null;r!==null;)t=r.alternate,t!==null&&$o(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=i.child,i.child=null):(d=r.sibling,r.sibling=null),Kc(i,!1,d,r,y,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&$o(t)===null){i.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}Kc(i,!0,r,null,y,l);break;case"together":Kc(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Gn(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),bi|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(Ba(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,r=Pn(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=Pn(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Yc(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Lo(t)))}function lx(t,i,r){switch(i.tag){case 3:ue(i,i.stateNode.containerInfo),di(i,st,t.memoizedState.cache),Xi();break;case 27:case 5:Be(i);break;case 4:ue(i,i.stateNode.containerInfo);break;case 10:di(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,_c(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(gi(i),i.flags|=128,null):(r&i.child.childLanes)!==0?pg(t,i,r):(gi(i),t=Gn(t,i,r),t!==null?t.sibling:null);gi(i);break;case 19:var d=(t.flags&128)!==0;if(l=(r&i.childLanes)!==0,l||(Ba(t,i,r,!1),l=(r&i.childLanes)!==0),d){if(l)return yg(t,i,r);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$(nt,nt.current),l)break;return null;case 22:return i.lanes=0,ug(t,i,r,i.pendingProps);case 24:di(i,st,t.memoizedState.cache)}return Gn(t,i,r)}function vg(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)ot=!0;else{if(!Yc(t,r)&&(i.flags&128)===0)return ot=!1,lx(t,i,r);ot=(t.flags&131072)!==0}else ot=!1,Oe&&(i.flags&1048576)!==0&&Wm(i,Ys,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Zi(i.elementType),i.type=t,typeof t=="function")Zu(t)?(l=ia(t,l),i.tag=1,i=hg(null,i,t,l,r)):(i.tag=0,i=Hc(null,i,t,l,r));else{if(t!=null){var d=t.$$typeof;if(d===U){i.tag=11,i=rg(null,i,t,l,r);break e}else if(d===G){i.tag=14,i=og(null,i,t,l,r);break e}}throw i=be(t)||t,Error(s(306,i,""))}}return i;case 0:return Hc(t,i,i.type,i.pendingProps,r);case 1:return l=i.type,d=ia(l,i.pendingProps),hg(t,i,l,d,r);case 3:e:{if(ue(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var y=i.memoizedState;d=y.element,mc(t,i),nr(i,l,null,r);var w=i.memoizedState;if(l=w.cache,di(i,st,l),l!==y.cache&&lc(i,[st],r,!0),tr(),l=w.element,y.isDehydrated)if(y={element:l,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=mg(t,i,l,r);break e}else if(l!==d){d=on(Error(s(424)),i),Xs(d),i=mg(t,i,l,r);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Ge=dn(t.firstChild),_t=i,Oe=!0,ci=null,cn=!0,r=up(i,null,l,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xi(),l===d){i=Gn(t,i,r);break e}wt(t,i,l,r)}i=i.child}return i;case 26:return el(t,i),t===null?(r=Oy(i.type,null,i.pendingProps,null))?i.memoizedState=r:Oe||(r=i.type,t=i.pendingProps,l=yl(ne.current).createElement(r),l[vt]=i,l[kt]=t,St(l,r,t),gt(l),i.stateNode=l):i.memoizedState=Oy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Be(i),t===null&&Oe&&(l=i.stateNode=Ay(i.type,i.pendingProps,ne.current),_t=i,cn=!0,d=Ge,Ei(i.type)?(Cf=d,Ge=dn(l.firstChild)):Ge=d),wt(t,i,i.pendingProps.children,r),el(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Oe&&((d=l=Ge)&&(l=zx(l,i.type,i.pendingProps,cn),l!==null?(i.stateNode=l,_t=i,Ge=dn(l.firstChild),cn=!1,d=!0):d=!1),d||fi(i)),Be(i),d=i.type,y=i.pendingProps,w=t!==null?t.memoizedProps:null,l=y.children,xf(d,y)?l=null:w!==null&&xf(d,w)&&(i.flags|=32),i.memoizedState!==null&&(d=wc(t,i,ZS,null,null,r),Sr._currentValue=d),el(t,i),wt(t,i,l,r),i.child;case 6:return t===null&&Oe&&((t=r=Ge)&&(r=Px(r,i.pendingProps,cn),r!==null?(i.stateNode=r,_t=i,Ge=null,t=!0):t=!1),t||fi(i)),null;case 13:return pg(t,i,r);case 4:return ue(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ta(i,null,l,r):wt(t,i,l,r),i.child;case 11:return rg(t,i,i.type,i.pendingProps,r);case 7:return wt(t,i,i.pendingProps,r),i.child;case 8:return wt(t,i,i.pendingProps.children,r),i.child;case 12:return wt(t,i,i.pendingProps.children,r),i.child;case 10:return l=i.pendingProps,di(i,i.type,l.value),wt(t,i,l.children,r),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,Qi(i),d=bt(d),l=l(d),i.flags|=1,wt(t,i,l,r),i.child;case 14:return og(t,i,i.type,i.pendingProps,r);case 15:return lg(t,i,i.type,i.pendingProps,r);case 19:return yg(t,i,r);case 31:return ox(t,i,r);case 22:return ug(t,i,r,i.pendingProps);case 24:return Qi(i),l=bt(st),t===null?(d=fc(),d===null&&(d=He,y=uc(),d.pooledCache=y,y.refCount++,y!==null&&(d.pooledCacheLanes|=r),d=y),i.memoizedState={parent:l,cache:d},hc(i),di(i,st,d)):((t.lanes&r)!==0&&(mc(t,i),nr(i,null,null,r),tr()),d=t.memoizedState,y=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),di(i,st,l)):(l=y.cache,di(i,st,l),l!==d.cache&&lc(i,[st],r,!0))),wt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Fn(t){t.flags|=4}function Xc(t,i,r,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Gg())t.flags|=8192;else throw ea=Po,dc}else t.flags&=-16777217}function _g(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ky(i))if(Gg())t.flags|=8192;else throw ea=Po,dc}function nl(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Jh():536870912,t.lanes|=i,Xa|=i)}function lr(t,i){if(!Oe)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Fe(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(i)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=r,i}function ux(t,i,r){var l=i.pendingProps;switch(ic(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(i),null;case 1:return Fe(i),null;case 3:return r=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),In(st),me(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ua(i)?Fn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,sc())),Fe(i),null;case 26:var d=i.type,y=i.memoizedState;return t===null?(Fn(i),y!==null?(Fe(i),_g(i,y)):(Fe(i),Xc(i,d,null,l,r))):y?y!==t.memoizedState?(Fn(i),Fe(i),_g(i,y)):(Fe(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Fn(i),Fe(i),Xc(i,d,t,l,r)),null;case 27:if(Ne(i),r=ne.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Fn(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Fe(i),null}t=X.current,Ua(i)?Jm(i):(t=Ay(d,l,r),i.stateNode=t,Fn(i))}return Fe(i),null;case 5:if(Ne(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Fn(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Fe(i),null}if(y=X.current,Ua(i))Jm(i);else{var w=yl(ne.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof l.is=="string"?w.createElement("select",{is:l.is}):w.createElement("select"),l.multiple?y.multiple=!0:l.size&&(y.size=l.size);break;default:y=typeof l.is=="string"?w.createElement(d,{is:l.is}):w.createElement(d)}}y[vt]=i,y[kt]=l;e:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break e;for(;w.sibling===null;){if(w.return===null||w.return===i)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=y;e:switch(St(y,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Fn(i)}}return Fe(i),Xc(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Fn(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ne.current,Ua(i)){if(t=i.stateNode,r=i.memoizedProps,l=null,d=_t,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[vt]=i,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||py(t.nodeValue,r)),t||fi(i,!0)}else t=yl(t).createTextNode(l),t[vt]=i,i.stateNode=t}return Fe(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ua(i),r!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[vt]=i}else Xi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Fe(i),t=!1}else r=sc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(Yt(i),i):(Yt(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Fe(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ua(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[vt]=i}else Xi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Fe(i),d=!1}else d=sc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Yt(i),i):(Yt(i),null)}return Yt(i),(i.flags&128)!==0?(i.lanes=r,i):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),y=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==d&&(l.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),nl(i,i.updateQueue),Fe(i),null);case 4:return me(),t===null&&vf(i.stateNode.containerInfo),Fe(i),null;case 10:return In(i.type),Fe(i),null;case 19:if(N(nt),l=i.memoizedState,l===null)return Fe(i),null;if(d=(i.flags&128)!==0,y=l.rendering,y===null)if(d)lr(l,!1);else{if(Je!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(y=$o(t),y!==null){for(i.flags|=128,lr(l,!1),t=y.updateQueue,i.updateQueue=t,nl(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Km(r,t),r=r.sibling;return $(nt,nt.current&1|2),Oe&&Vn(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&At()>ol&&(i.flags|=128,d=!0,lr(l,!1),i.lanes=4194304)}else{if(!d)if(t=$o(y),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,nl(i,t),lr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!y.alternate&&!Oe)return Fe(i),null}else 2*At()-l.renderingStartTime>ol&&r!==536870912&&(i.flags|=128,d=!0,lr(l,!1),i.lanes=4194304);l.isBackwards?(y.sibling=i.child,i.child=y):(t=l.last,t!==null?t.sibling=y:i.child=y,l.last=y)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=At(),t.sibling=null,r=nt.current,$(nt,d?r&1|2:r&1),Oe&&Vn(i,l.treeForkCount),t):(Fe(i),null);case 22:case 23:return Yt(i),vc(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(r&536870912)!==0&&(i.flags&128)===0&&(Fe(i),i.subtreeFlags&6&&(i.flags|=8192)):Fe(i),r=i.updateQueue,r!==null&&nl(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==r&&(i.flags|=2048),t!==null&&N(Ji),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),In(st),Fe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function cx(t,i){switch(ic(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return In(st),me(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ne(i),null;case 31:if(i.memoizedState!==null){if(Yt(i),i.alternate===null)throw Error(s(340));Xi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Yt(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Xi()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return N(nt),null;case 4:return me(),null;case 10:return In(i.type),null;case 22:case 23:return Yt(i),vc(),t!==null&&N(Ji),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return In(st),null;case 25:return null;default:return null}}function bg(t,i){switch(ic(i),i.tag){case 3:In(st),me();break;case 26:case 27:case 5:Ne(i);break;case 4:me();break;case 31:i.memoizedState!==null&&Yt(i);break;case 13:Yt(i);break;case 19:N(nt);break;case 10:In(i.type);break;case 22:case 23:Yt(i),vc(),t!==null&&N(Ji);break;case 24:In(st)}}function ur(t,i){try{var r=i.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var d=l.next;r=d;do{if((r.tag&t)===t){l=void 0;var y=r.create,w=r.inst;l=y(),w.destroy=l}r=r.next}while(r!==d)}}catch(R){Ue(i,i.return,R)}}function vi(t,i,r){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var y=d.next;l=y;do{if((l.tag&t)===t){var w=l.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,d=i;var M=r,z=R;try{z()}catch(q){Ue(d,M,q)}}}l=l.next}while(l!==y)}}catch(q){Ue(i,i.return,q)}}function wg(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{fp(i,r)}catch(l){Ue(t,t.return,l)}}}function Sg(t,i,r){r.props=ia(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ue(t,i,l)}}function cr(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(d){Ue(t,i,d)}}function Dn(t,i){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(d){Ue(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Ue(t,i,d)}else r.current=null}function xg(t){var i=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(d){Ue(t,t.return,d)}}function Wc(t,i,r){try{var l=t.stateNode;Dx(l,t.type,r,i),l[kt]=i}catch(d){Ue(t,t.return,d)}}function Tg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ei(t.type)||t.tag===4}function Qc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ei(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jc(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Bn));else if(l!==4&&(l===27&&Ei(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(Jc(t,i,r),t=t.sibling;t!==null;)Jc(t,i,r),t=t.sibling}function il(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(l!==4&&(l===27&&Ei(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(il(t,i,r),t=t.sibling;t!==null;)il(t,i,r),t=t.sibling}function Eg(t){var i=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);St(i,l,r),i[vt]=t,i[kt]=r}catch(y){Ue(t,t.return,y)}}var Kn=!1,lt=!1,Zc=!1,Ag=typeof WeakSet=="function"?WeakSet:Set,yt=null;function fx(t,i){if(t=t.containerInfo,wf=Tl,t=zm(t),Fu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var d=l.anchorOffset,y=l.focusNode;l=l.focusOffset;try{r.nodeType,y.nodeType}catch{r=null;break e}var w=0,R=-1,M=-1,z=0,q=0,Y=t,P=null;t:for(;;){for(var V;Y!==r||d!==0&&Y.nodeType!==3||(R=w+d),Y!==y||l!==0&&Y.nodeType!==3||(M=w+l),Y.nodeType===3&&(w+=Y.nodeValue.length),(V=Y.firstChild)!==null;)P=Y,Y=V;for(;;){if(Y===t)break t;if(P===r&&++z===d&&(R=w),P===y&&++q===l&&(M=w),(V=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=V}r=R===-1||M===-1?null:{start:R,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sf={focusedElem:t,selectionRange:r},Tl=!1,yt=i;yt!==null;)if(i=yt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,yt=t;else for(;yt!==null;){switch(i=yt,y=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)d=t[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,r=i,d=y.memoizedProps,y=y.memoizedState,l=r.stateNode;try{var ae=ia(r.type,d);t=l.getSnapshotBeforeUpdate(ae,y),l.__reactInternalSnapshotBeforeUpdate=t}catch(ce){Ue(r,r.return,ce)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)Ef(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ef(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,yt=t;break}yt=i.return}}function Rg(t,i,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Xn(t,r),l&4&&ur(5,r);break;case 1:if(Xn(t,r),l&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(w){Ue(r,r.return,w)}else{var d=ia(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){Ue(r,r.return,w)}}l&64&&wg(r),l&512&&cr(r,r.return);break;case 3:if(Xn(t,r),l&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{fp(t,i)}catch(w){Ue(r,r.return,w)}}break;case 27:i===null&&l&4&&Eg(r);case 26:case 5:Xn(t,r),i===null&&l&4&&xg(r),l&512&&cr(r,r.return);break;case 12:Xn(t,r);break;case 31:Xn(t,r),l&4&&jg(t,r);break;case 13:Xn(t,r),l&4&&Mg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=bx.bind(null,r),Vx(t,r))));break;case 22:if(l=r.memoizedState!==null||Kn,!l){i=i!==null&&i.memoizedState!==null||lt,d=Kn;var y=lt;Kn=l,(lt=i)&&!y?Wn(t,r,(r.subtreeFlags&8772)!==0):Xn(t,r),Kn=d,lt=y}break;case 30:break;default:Xn(t,r)}}function Cg(t){var i=t.alternate;i!==null&&(t.alternate=null,Cg(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ou(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ke=null,Ut=!1;function Yn(t,i,r){for(r=r.child;r!==null;)Og(t,i,r),r=r.sibling}function Og(t,i,r){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Hi,r)}catch{}switch(r.tag){case 26:lt||Dn(r,i),Yn(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:lt||Dn(r,i);var l=Ke,d=Ut;Ei(r.type)&&(Ke=r.stateNode,Ut=!1),Yn(t,i,r),_r(r.stateNode),Ke=l,Ut=d;break;case 5:lt||Dn(r,i);case 6:if(l=Ke,d=Ut,Ke=null,Yn(t,i,r),Ke=l,Ut=d,Ke!==null)if(Ut)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(r.stateNode)}catch(y){Ue(r,i,y)}else try{Ke.removeChild(r.stateNode)}catch(y){Ue(r,i,y)}break;case 18:Ke!==null&&(Ut?(t=Ke,wy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),is(t)):wy(Ke,r.stateNode));break;case 4:l=Ke,d=Ut,Ke=r.stateNode.containerInfo,Ut=!0,Yn(t,i,r),Ke=l,Ut=d;break;case 0:case 11:case 14:case 15:vi(2,r,i),lt||vi(4,r,i),Yn(t,i,r);break;case 1:lt||(Dn(r,i),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Sg(r,i,l)),Yn(t,i,r);break;case 21:Yn(t,i,r);break;case 22:lt=(l=lt)||r.memoizedState!==null,Yn(t,i,r),lt=l;break;default:Yn(t,i,r)}}function jg(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{is(t)}catch(r){Ue(i,i.return,r)}}}function Mg(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{is(t)}catch(r){Ue(i,i.return,r)}}function dx(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ag),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ag),i;default:throw Error(s(435,t.tag))}}function al(t,i){var r=dx(t);i.forEach(function(l){if(!r.has(l)){r.add(l);var d=wx.bind(null,t,l);l.then(d,d)}})}function Bt(t,i){var r=i.deletions;if(r!==null)for(var l=0;l<r.length;l++){var d=r[l],y=t,w=i,R=w;e:for(;R!==null;){switch(R.tag){case 27:if(Ei(R.type)){Ke=R.stateNode,Ut=!1;break e}break;case 5:Ke=R.stateNode,Ut=!1;break e;case 3:case 4:Ke=R.stateNode.containerInfo,Ut=!0;break e}R=R.return}if(Ke===null)throw Error(s(160));Og(y,w,d),Ke=null,Ut=!1,y=d.alternate,y!==null&&(y.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Dg(i,t),i=i.sibling}var bn=null;function Dg(t,i){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bt(i,t),zt(t),l&4&&(vi(3,t,t.return),ur(3,t),vi(5,t,t.return));break;case 1:Bt(i,t),zt(t),l&512&&(lt||r===null||Dn(r,r.return)),l&64&&Kn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var d=bn;if(Bt(i,t),zt(t),l&512&&(lt||r===null||Dn(r,r.return)),l&4){var y=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":y=d.getElementsByTagName("title")[0],(!y||y[Bs]||y[vt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=d.createElement(l),d.head.insertBefore(y,d.querySelector("head > title"))),St(y,l,r),y[vt]=t,gt(y),l=y;break e;case"link":var w=Dy("link","href",d).get(l+(r.href||""));if(w){for(var R=0;R<w.length;R++)if(y=w[R],y.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&y.getAttribute("rel")===(r.rel==null?null:r.rel)&&y.getAttribute("title")===(r.title==null?null:r.title)&&y.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){w.splice(R,1);break t}}y=d.createElement(l),St(y,l,r),d.head.appendChild(y);break;case"meta":if(w=Dy("meta","content",d).get(l+(r.content||""))){for(R=0;R<w.length;R++)if(y=w[R],y.getAttribute("content")===(r.content==null?null:""+r.content)&&y.getAttribute("name")===(r.name==null?null:r.name)&&y.getAttribute("property")===(r.property==null?null:r.property)&&y.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&y.getAttribute("charset")===(r.charSet==null?null:r.charSet)){w.splice(R,1);break t}}y=d.createElement(l),St(y,l,r),d.head.appendChild(y);break;default:throw Error(s(468,l))}y[vt]=t,gt(y),l=y}t.stateNode=l}else Ny(d,t.type,t.stateNode);else t.stateNode=My(d,l,t.memoizedProps);else y!==l?(y===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):y.count--,l===null?Ny(d,t.type,t.stateNode):My(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wc(t,t.memoizedProps,r.memoizedProps)}break;case 27:Bt(i,t),zt(t),l&512&&(lt||r===null||Dn(r,r.return)),r!==null&&l&4&&Wc(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Bt(i,t),zt(t),l&512&&(lt||r===null||Dn(r,r.return)),t.flags&32){d=t.stateNode;try{Aa(d,"")}catch(ae){Ue(t,t.return,ae)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Wc(t,d,r!==null?r.memoizedProps:d)),l&1024&&(Zc=!0);break;case 6:if(Bt(i,t),zt(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ae){Ue(t,t.return,ae)}}break;case 3:if(bl=null,d=bn,bn=vl(i.containerInfo),Bt(i,t),bn=d,zt(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{is(i.containerInfo)}catch(ae){Ue(t,t.return,ae)}Zc&&(Zc=!1,Ng(t));break;case 4:l=bn,bn=vl(t.stateNode.containerInfo),Bt(i,t),zt(t),bn=l;break;case 12:Bt(i,t),zt(t);break;case 31:Bt(i,t),zt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,al(t,l)));break;case 13:Bt(i,t),zt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(rl=At()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,al(t,l)));break;case 22:d=t.memoizedState!==null;var M=r!==null&&r.memoizedState!==null,z=Kn,q=lt;if(Kn=z||d,lt=q||M,Bt(i,t),lt=q,Kn=z,zt(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(r===null||M||Kn||lt||aa(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){M=r=i;try{if(y=M.stateNode,d)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=M.stateNode;var Y=M.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;R.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ae){Ue(M,M.return,ae)}}}else if(i.tag===6){if(r===null){M=i;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(ae){Ue(M,M.return,ae)}}}else if(i.tag===18){if(r===null){M=i;try{var V=M.stateNode;d?Sy(V,!0):Sy(M.stateNode,!1)}catch(ae){Ue(M,M.return,ae)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,al(t,r))));break;case 19:Bt(i,t),zt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,al(t,l)));break;case 30:break;case 21:break;default:Bt(i,t),zt(t)}}function zt(t){var i=t.flags;if(i&2){try{for(var r,l=t.return;l!==null;){if(Tg(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var d=r.stateNode,y=Qc(t);il(t,y,d);break;case 5:var w=r.stateNode;r.flags&32&&(Aa(w,""),r.flags&=-33);var R=Qc(t);il(t,R,w);break;case 3:case 4:var M=r.stateNode.containerInfo,z=Qc(t);Jc(t,z,M);break;default:throw Error(s(161))}}catch(q){Ue(t,t.return,q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ng(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ng(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Xn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Rg(t,i.alternate,i),i=i.sibling}function aa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:vi(4,i,i.return),aa(i);break;case 1:Dn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&Sg(i,i.return,r),aa(i);break;case 27:_r(i.stateNode);case 26:case 5:Dn(i,i.return),aa(i);break;case 22:i.memoizedState===null&&aa(i);break;case 30:aa(i);break;default:aa(i)}t=t.sibling}}function Wn(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,y=i,w=y.flags;switch(y.tag){case 0:case 11:case 15:Wn(d,y,r),ur(4,y);break;case 1:if(Wn(d,y,r),l=y,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(z){Ue(l,l.return,z)}if(l=y,d=l.updateQueue,d!==null){var R=l.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)cp(M[d],R)}catch(z){Ue(l,l.return,z)}}r&&w&64&&wg(y),cr(y,y.return);break;case 27:Eg(y);case 26:case 5:Wn(d,y,r),r&&l===null&&w&4&&xg(y),cr(y,y.return);break;case 12:Wn(d,y,r);break;case 31:Wn(d,y,r),r&&w&4&&jg(d,y);break;case 13:Wn(d,y,r),r&&w&4&&Mg(d,y);break;case 22:y.memoizedState===null&&Wn(d,y,r),cr(y,y.return);break;case 30:break;default:Wn(d,y,r)}i=i.sibling}}function ef(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ws(r))}function tf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ws(t))}function wn(t,i,r,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kg(t,i,r,l),i=i.sibling}function kg(t,i,r,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:wn(t,i,r,l),d&2048&&ur(9,i);break;case 1:wn(t,i,r,l);break;case 3:wn(t,i,r,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ws(t)));break;case 12:if(d&2048){wn(t,i,r,l),t=i.stateNode;try{var y=i.memoizedProps,w=y.id,R=y.onPostCommit;typeof R=="function"&&R(w,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Ue(i,i.return,M)}}else wn(t,i,r,l);break;case 31:wn(t,i,r,l);break;case 13:wn(t,i,r,l);break;case 23:break;case 22:y=i.stateNode,w=i.alternate,i.memoizedState!==null?y._visibility&2?wn(t,i,r,l):fr(t,i):y._visibility&2?wn(t,i,r,l):(y._visibility|=2,Fa(t,i,r,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&ef(w,i);break;case 24:wn(t,i,r,l),d&2048&&tf(i.alternate,i);break;default:wn(t,i,r,l)}}function Fa(t,i,r,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var y=t,w=i,R=r,M=l,z=w.flags;switch(w.tag){case 0:case 11:case 15:Fa(y,w,R,M,d),ur(8,w);break;case 23:break;case 22:var q=w.stateNode;w.memoizedState!==null?q._visibility&2?Fa(y,w,R,M,d):fr(y,w):(q._visibility|=2,Fa(y,w,R,M,d)),d&&z&2048&&ef(w.alternate,w);break;case 24:Fa(y,w,R,M,d),d&&z&2048&&tf(w.alternate,w);break;default:Fa(y,w,R,M,d)}i=i.sibling}}function fr(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,l=i,d=l.flags;switch(l.tag){case 22:fr(r,l),d&2048&&ef(l.alternate,l);break;case 24:fr(r,l),d&2048&&tf(l.alternate,l);break;default:fr(r,l)}i=i.sibling}}var dr=8192;function Ka(t,i,r){if(t.subtreeFlags&dr)for(t=t.child;t!==null;)Lg(t,i,r),t=t.sibling}function Lg(t,i,r){switch(t.tag){case 26:Ka(t,i,r),t.flags&dr&&t.memoizedState!==null&&Jx(r,bn,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,i,r);break;case 3:case 4:var l=bn;bn=vl(t.stateNode.containerInfo),Ka(t,i,r),bn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=dr,dr=16777216,Ka(t,i,r),dr=l):Ka(t,i,r));break;default:Ka(t,i,r)}}function Ug(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function hr(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];yt=l,zg(l,t)}Ug(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bg(t),t=t.sibling}function Bg(t){switch(t.tag){case 0:case 11:case 15:hr(t),t.flags&2048&&vi(9,t,t.return);break;case 3:hr(t);break;case 12:hr(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,sl(t)):hr(t);break;default:hr(t)}}function sl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];yt=l,zg(l,t)}Ug(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:vi(8,i,i.return),sl(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,sl(i));break;default:sl(i)}t=t.sibling}}function zg(t,i){for(;yt!==null;){var r=yt;switch(r.tag){case 0:case 11:case 15:vi(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ws(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,yt=l;else e:for(r=t;yt!==null;){l=yt;var d=l.sibling,y=l.return;if(Cg(l),l===r){yt=null;break e}if(d!==null){d.return=y,yt=d;break e}yt=y}}}var hx={getCacheForType:function(t){var i=bt(st),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return bt(st).controller.signal}},mx=typeof WeakMap=="function"?WeakMap:Map,De=0,He=null,xe=null,Ae=0,Le=0,Xt=null,_i=!1,Ya=!1,nf=!1,Qn=0,Je=0,bi=0,sa=0,af=0,Wt=0,Xa=0,mr=null,Pt=null,sf=!1,rl=0,Pg=0,ol=1/0,ll=null,wi=null,dt=0,Si=null,Wa=null,Jn=0,rf=0,of=null,Vg=null,pr=0,lf=null;function Qt(){return(De&2)!==0&&Ae!==0?Ae&-Ae:I.T!==null?mf():nm()}function Hg(){if(Wt===0)if((Ae&536870912)===0||Oe){var t=go;go<<=1,(go&3932160)===0&&(go=262144),Wt=t}else Wt=536870912;return t=Kt.current,t!==null&&(t.flags|=32),Wt}function Vt(t,i,r){(t===He&&(Le===2||Le===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),xi(t,Ae,Wt,!1)),Us(t,r),((De&2)===0||t!==He)&&(t===He&&((De&2)===0&&(sa|=r),Je===4&&xi(t,Ae,Wt,!1)),Nn(t))}function Ig(t,i,r){if((De&6)!==0)throw Error(s(327));var l=!r&&(i&127)===0&&(i&t.expiredLanes)===0||Ls(t,i),d=l?yx(t,i):cf(t,i,!0),y=l;do{if(d===0){Ya&&!l&&xi(t,i,0,!1);break}else{if(r=t.current.alternate,y&&!px(r)){d=cf(t,i,!1),y=!1;continue}if(d===2){if(y=i,t.errorRecoveryDisabledLanes&y)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var R=t;d=mr;var M=R.current.memoizedState.isDehydrated;if(M&&(Qa(R,w).flags|=256),w=cf(R,w,!1),w!==2){if(nf&&!M){R.errorRecoveryDisabledLanes|=y,sa|=y,d=4;break e}y=Pt,Pt=d,y!==null&&(Pt===null?Pt=y:Pt.push.apply(Pt,y))}d=w}if(y=!1,d!==2)continue}}if(d===1){Qa(t,0),xi(t,i,0,!0);break}e:{switch(l=t,y=d,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:xi(l,i,Wt,!_i);break e;case 2:Pt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=rl+300-At(),10<d)){if(xi(l,i,Wt,!_i),vo(l,0,!0)!==0)break e;Jn=i,l.timeoutHandle=_y($g.bind(null,l,r,Pt,ll,sf,i,Wt,sa,Xa,_i,y,"Throttled",-0,0),d);break e}$g(l,r,Pt,ll,sf,i,Wt,sa,Xa,_i,y,null,-0,0)}}break}while(!0);Nn(t)}function $g(t,i,r,l,d,y,w,R,M,z,q,Y,P,V){if(t.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},Lg(i,y,Y);var ae=(y&62914560)===y?rl-At():(y&4194048)===y?Pg-At():0;if(ae=Zx(Y,ae),ae!==null){Jn=y,t.cancelPendingCommit=ae(Qg.bind(null,t,i,y,r,l,d,w,R,M,q,Y,null,P,V)),xi(t,y,w,!z);return}}Qg(t,i,y,r,l,d,w,R,M)}function px(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var d=r[l],y=d.getSnapshot;d=d.value;try{if(!Gt(y(),d))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xi(t,i,r,l){i&=~af,i&=~sa,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var y=31-qt(d),w=1<<y;l[y]=-1,d&=~w}r!==0&&Zh(t,r,i)}function ul(){return(De&6)===0?(gr(0),!1):!0}function uf(){if(xe!==null){if(Le===0)var t=xe.return;else t=xe,Hn=Wi=null,Tc(t),Ha=null,Js=0,t=xe;for(;t!==null;)bg(t.alternate,t),t=t.return;xe=null}}function Qa(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Lx(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Jn=0,uf(),He=t,xe=r=Pn(t.current,null),Ae=i,Le=0,Xt=null,_i=!1,Ya=Ls(t,i),nf=!1,Xa=Wt=af=sa=bi=Je=0,Pt=mr=null,sf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-qt(l),y=1<<d;i|=t[d],l&=~y}return Qn=i,jo(),r}function qg(t,i){_e=null,I.H=rr,i===Va||i===zo?(i=rp(),Le=3):i===dc?(i=rp(),Le=4):Le=i===Vc?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Xt=i,xe===null&&(Je=1,Jo(t,on(i,t.current)))}function Gg(){var t=Kt.current;return t===null?!0:(Ae&4194048)===Ae?fn===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?t===fn:!1}function Fg(){var t=I.H;return I.H=rr,t===null?rr:t}function Kg(){var t=I.A;return I.A=hx,t}function cl(){Je=4,_i||(Ae&4194048)!==Ae&&Kt.current!==null||(Ya=!0),(bi&134217727)===0&&(sa&134217727)===0||He===null||xi(He,Ae,Wt,!1)}function cf(t,i,r){var l=De;De|=2;var d=Fg(),y=Kg();(He!==t||Ae!==i)&&(ll=null,Qa(t,i)),i=!1;var w=Je;e:do try{if(Le!==0&&xe!==null){var R=xe,M=Xt;switch(Le){case 8:uf(),w=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(i=!0);var z=Le;if(Le=0,Xt=null,Ja(t,R,M,z),r&&Ya){w=0;break e}break;default:z=Le,Le=0,Xt=null,Ja(t,R,M,z)}}gx(),w=Je;break}catch(q){qg(t,q)}while(!0);return i&&t.shellSuspendCounter++,Hn=Wi=null,De=l,I.H=d,I.A=y,xe===null&&(He=null,Ae=0,jo()),w}function gx(){for(;xe!==null;)Yg(xe)}function yx(t,i){var r=De;De|=2;var l=Fg(),d=Kg();He!==t||Ae!==i?(ll=null,ol=At()+500,Qa(t,i)):Ya=Ls(t,i);e:do try{if(Le!==0&&xe!==null){i=xe;var y=Xt;t:switch(Le){case 1:Le=0,Xt=null,Ja(t,i,y,1);break;case 2:case 9:if(ap(y)){Le=0,Xt=null,Xg(i);break}i=function(){Le!==2&&Le!==9||He!==t||(Le=7),Nn(t)},y.then(i,i);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:ap(y)?(Le=0,Xt=null,Xg(i)):(Le=0,Xt=null,Ja(t,i,y,7));break;case 5:var w=null;switch(xe.tag){case 26:w=xe.memoizedState;case 5:case 27:var R=xe;if(w?ky(w):R.stateNode.complete){Le=0,Xt=null;var M=R.sibling;if(M!==null)xe=M;else{var z=R.return;z!==null?(xe=z,fl(z)):xe=null}break t}}Le=0,Xt=null,Ja(t,i,y,5);break;case 6:Le=0,Xt=null,Ja(t,i,y,6);break;case 8:uf(),Je=6;break e;default:throw Error(s(462))}}vx();break}catch(q){qg(t,q)}while(!0);return Hn=Wi=null,I.H=l,I.A=d,De=r,xe!==null?0:(He=null,Ae=0,jo(),Je)}function vx(){for(;xe!==null&&!wu();)Yg(xe)}function Yg(t){var i=vg(t.alternate,t,Qn);t.memoizedProps=t.pendingProps,i===null?fl(t):xe=i}function Xg(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=dg(r,i,i.pendingProps,i.type,void 0,Ae);break;case 11:i=dg(r,i,i.pendingProps,i.type.render,i.ref,Ae);break;case 5:Tc(i);default:bg(r,i),i=xe=Km(i,Qn),i=vg(r,i,Qn)}t.memoizedProps=t.pendingProps,i===null?fl(t):xe=i}function Ja(t,i,r,l){Hn=Wi=null,Tc(i),Ha=null,Js=0;var d=i.return;try{if(rx(t,d,i,r,Ae)){Je=1,Jo(t,on(r,t.current)),xe=null;return}}catch(y){if(d!==null)throw xe=d,y;Je=1,Jo(t,on(r,t.current)),xe=null;return}i.flags&32768?(Oe||l===1?t=!0:Ya||(Ae&536870912)!==0?t=!1:(_i=t=!0,(l===2||l===9||l===3||l===6)&&(l=Kt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wg(i,t)):fl(i)}function fl(t){var i=t;do{if((i.flags&32768)!==0){Wg(i,_i);return}t=i.return;var r=ux(i.alternate,i,Qn);if(r!==null){xe=r;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);Je===0&&(Je=5)}function Wg(t,i){do{var r=cx(t.alternate,t);if(r!==null){r.flags&=32767,xe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=r}while(t!==null);Je=6,xe=null}function Qg(t,i,r,l,d,y,w,R,M){t.cancelPendingCommit=null;do dl();while(dt!==0);if((De&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=Qu,Qw(t,r,y,w,R,M),t===He&&(xe=He=null,Ae=0),Wa=i,Si=t,Jn=r,rf=y,of=d,Vg=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Sx(_a,function(){return ny(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=I.T,I.T=null,d=Q.p,Q.p=2,w=De,De|=4;try{fx(t,i,r)}finally{De=w,Q.p=d,I.T=l}}dt=1,Jg(),Zg(),ey()}}function Jg(){if(dt===1){dt=0;var t=Si,i=Wa,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=I.T,I.T=null;var l=Q.p;Q.p=2;var d=De;De|=4;try{Dg(i,t);var y=Sf,w=zm(t.containerInfo),R=y.focusedElem,M=y.selectionRange;if(w!==R&&R&&R.ownerDocument&&Bm(R.ownerDocument.documentElement,R)){if(M!==null&&Fu(R)){var z=M.start,q=M.end;if(q===void 0&&(q=z),"selectionStart"in R)R.selectionStart=z,R.selectionEnd=Math.min(q,R.value.length);else{var Y=R.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var V=P.getSelection(),ae=R.textContent.length,ce=Math.min(M.start,ae),Ve=M.end===void 0?ce:Math.min(M.end,ae);!V.extend&&ce>Ve&&(w=Ve,Ve=ce,ce=w);var L=Um(R,ce),D=Um(R,Ve);if(L&&D&&(V.rangeCount!==1||V.anchorNode!==L.node||V.anchorOffset!==L.offset||V.focusNode!==D.node||V.focusOffset!==D.offset)){var B=Y.createRange();B.setStart(L.node,L.offset),V.removeAllRanges(),ce>Ve?(V.addRange(B),V.extend(D.node,D.offset)):(B.setEnd(D.node,D.offset),V.addRange(B))}}}}for(Y=[],V=R;V=V.parentNode;)V.nodeType===1&&Y.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<Y.length;R++){var F=Y[R];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Tl=!!wf,Sf=wf=null}finally{De=d,Q.p=l,I.T=r}}t.current=i,dt=2}}function Zg(){if(dt===2){dt=0;var t=Si,i=Wa,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=I.T,I.T=null;var l=Q.p;Q.p=2;var d=De;De|=4;try{Rg(t,i.alternate,i)}finally{De=d,Q.p=l,I.T=r}}dt=3}}function ey(){if(dt===4||dt===3){dt=0,Su();var t=Si,i=Wa,r=Jn,l=Vg;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dt=5:(dt=0,Wa=Si=null,ty(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(wi=null),Ru(r),i=i.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Hi,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=I.T,d=Q.p,Q.p=2,I.T=null;try{for(var y=t.onRecoverableError,w=0;w<l.length;w++){var R=l[w];y(R.value,{componentStack:R.stack})}}finally{I.T=i,Q.p=d}}(Jn&3)!==0&&dl(),Nn(t),d=t.pendingLanes,(r&261930)!==0&&(d&42)!==0?t===lf?pr++:(pr=0,lf=t):pr=0,gr(0)}}function ty(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ws(i)))}function dl(){return Jg(),Zg(),ey(),ny()}function ny(){if(dt!==5)return!1;var t=Si,i=rf;rf=0;var r=Ru(Jn),l=I.T,d=Q.p;try{Q.p=32>r?32:r,I.T=null,r=of,of=null;var y=Si,w=Jn;if(dt=0,Wa=Si=null,Jn=0,(De&6)!==0)throw Error(s(331));var R=De;if(De|=4,Bg(y.current),kg(y,y.current,w,r),De=R,gr(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Hi,y)}catch{}return!0}finally{Q.p=d,I.T=l,ty(t,i)}}function iy(t,i,r){i=on(r,i),i=Pc(t.stateNode,i,2),t=pi(t,i,2),t!==null&&(Us(t,2),Nn(t))}function Ue(t,i,r){if(t.tag===3)iy(t,t,r);else for(;i!==null;){if(i.tag===3){iy(i,t,r);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wi===null||!wi.has(l))){t=on(r,t),r=ag(2),l=pi(i,r,2),l!==null&&(sg(r,l,i,t),Us(l,2),Nn(l));break}}i=i.return}}function ff(t,i,r){var l=t.pingCache;if(l===null){l=t.pingCache=new mx;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(r)||(nf=!0,d.add(r),t=_x.bind(null,t,i,r),i.then(t,t))}function _x(t,i,r){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,He===t&&(Ae&r)===r&&(Je===4||Je===3&&(Ae&62914560)===Ae&&300>At()-rl?(De&2)===0&&Qa(t,0):af|=r,Xa===Ae&&(Xa=0)),Nn(t)}function ay(t,i){i===0&&(i=Jh()),t=Ki(t,i),t!==null&&(Us(t,i),Nn(t))}function bx(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),ay(t,r)}function wx(t,i){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),ay(t,r)}function Sx(t,i){return Nt(t,i)}var hl=null,Za=null,df=!1,ml=!1,hf=!1,Ti=0;function Nn(t){t!==Za&&t.next===null&&(Za===null?hl=Za=t:Za=Za.next=t),ml=!0,df||(df=!0,Tx())}function gr(t,i){if(!hf&&ml){hf=!0;do for(var r=!1,l=hl;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var y=0;else{var w=l.suspendedLanes,R=l.pingedLanes;y=(1<<31-qt(42|t)+1)-1,y&=d&~(w&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(r=!0,ly(l,y))}else y=Ae,y=vo(l,l===He?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(y&3)===0||Ls(l,y)||(r=!0,ly(l,y));l=l.next}while(r);hf=!1}}function xx(){sy()}function sy(){ml=df=!1;var t=0;Ti!==0&&kx()&&(t=Ti);for(var i=At(),r=null,l=hl;l!==null;){var d=l.next,y=ry(l,i);y===0?(l.next=null,r===null?hl=d:r.next=d,d===null&&(Za=r)):(r=l,(t!==0||(y&3)!==0)&&(ml=!0)),l=d}dt!==0&&dt!==5||gr(t),Ti!==0&&(Ti=0)}function ry(t,i){for(var r=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var w=31-qt(y),R=1<<w,M=d[w];M===-1?((R&r)===0||(R&l)!==0)&&(d[w]=Ww(R,i)):M<=i&&(t.expiredLanes|=R),y&=~R}if(i=He,r=Ae,r=vo(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===i&&(Le===2||Le===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ms(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ls(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(l!==null&&Ms(l),Ru(r)){case 2:case 8:r=ho;break;case 32:r=_a;break;case 268435456:r=Ns;break;default:r=_a}return l=oy.bind(null,t),r=Nt(r,l),t.callbackPriority=i,t.callbackNode=r,i}return l!==null&&l!==null&&Ms(l),t.callbackPriority=2,t.callbackNode=null,2}function oy(t,i){if(dt!==0&&dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(dl()&&t.callbackNode!==r)return null;var l=Ae;return l=vo(t,t===He?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ig(t,l,i),ry(t,At()),t.callbackNode!=null&&t.callbackNode===r?oy.bind(null,t):null)}function ly(t,i){if(dl())return null;Ig(t,i,!0)}function Tx(){Ux(function(){(De&6)!==0?Nt(Ds,xx):sy()})}function mf(){if(Ti===0){var t=za;t===0&&(t=po,po<<=1,(po&261888)===0&&(po=256)),Ti=t}return Ti}function uy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:So(""+t)}function cy(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function Ex(t,i,r,l,d){if(i==="submit"&&r&&r.stateNode===d){var y=uy((d[kt]||null).action),w=l.submitter;w&&(i=(i=w[kt]||null)?uy(i.formAction):w.getAttribute("formAction"),i!==null&&(y=i,w=null));var R=new Ao("action","action",null,l,d);t.push({event:R,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ti!==0){var M=w?cy(d,w):new FormData(d);Nc(r,{pending:!0,data:M,method:d.method,action:y},null,M)}}else typeof y=="function"&&(R.preventDefault(),M=w?cy(d,w):new FormData(d),Nc(r,{pending:!0,data:M,method:d.method,action:y},y,M))},currentTarget:d}]})}}for(var pf=0;pf<Wu.length;pf++){var gf=Wu[pf],Ax=gf.toLowerCase(),Rx=gf[0].toUpperCase()+gf.slice(1);_n(Ax,"on"+Rx)}_n(Hm,"onAnimationEnd"),_n(Im,"onAnimationIteration"),_n($m,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n($S,"onTransitionRun"),_n(qS,"onTransitionStart"),_n(GS,"onTransitionCancel"),_n(qm,"onTransitionEnd"),Ta("onMouseEnter",["mouseout","mouseover"]),Ta("onMouseLeave",["mouseout","mouseover"]),Ta("onPointerEnter",["pointerout","pointerover"]),Ta("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yr));function fy(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],d=l.event;l=l.listeners;e:{var y=void 0;if(i)for(var w=l.length-1;0<=w;w--){var R=l[w],M=R.instance,z=R.currentTarget;if(R=R.listener,M!==y&&d.isPropagationStopped())break e;y=R,d.currentTarget=z;try{y(d)}catch(q){Oo(q)}d.currentTarget=null,y=M}else for(w=0;w<l.length;w++){if(R=l[w],M=R.instance,z=R.currentTarget,R=R.listener,M!==y&&d.isPropagationStopped())break e;y=R,d.currentTarget=z;try{y(d)}catch(q){Oo(q)}d.currentTarget=null,y=M}}}}function Te(t,i){var r=i[Cu];r===void 0&&(r=i[Cu]=new Set);var l=t+"__bubble";r.has(l)||(dy(i,t,2,!1),r.add(l))}function yf(t,i,r){var l=0;i&&(l|=4),dy(r,t,l,i)}var pl="_reactListening"+Math.random().toString(36).slice(2);function vf(t){if(!t[pl]){t[pl]=!0,sm.forEach(function(r){r!=="selectionchange"&&(Cx.has(r)||yf(r,!1,t),yf(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[pl]||(i[pl]=!0,yf("selectionchange",!1,i))}}function dy(t,i,r,l){switch(Hy(i)){case 2:var d=nT;break;case 8:d=iT;break;default:d=Nf}r=d.bind(null,i,r,t),d=void 0,!Bu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,r,{capture:!0,passive:d}):t.addEventListener(i,r,!0):d!==void 0?t.addEventListener(i,r,{passive:d}):t.addEventListener(i,r,!1)}function _f(t,i,r,l,d){var y=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var R=l.stateNode.containerInfo;if(R===d)break;if(w===4)for(w=l.return;w!==null;){var M=w.tag;if((M===3||M===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;R!==null;){if(w=wa(R),w===null)return;if(M=w.tag,M===5||M===6||M===26||M===27){l=y=w;continue e}R=R.parentNode}}l=l.return}ym(function(){var z=y,q=Lu(r),Y=[];e:{var P=Gm.get(t);if(P!==void 0){var V=Ao,ae=t;switch(t){case"keypress":if(To(r)===0)break e;case"keydown":case"keyup":V=wS;break;case"focusin":ae="focus",V=Hu;break;case"focusout":ae="blur",V=Hu;break;case"beforeblur":case"afterblur":V=Hu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=uS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=TS;break;case Hm:case Im:case $m:V=dS;break;case qm:V=AS;break;case"scroll":case"scrollend":V=oS;break;case"wheel":V=CS;break;case"copy":case"cut":case"paste":V=mS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Sm;break;case"toggle":case"beforetoggle":V=jS}var ce=(i&4)!==0,Ve=!ce&&(t==="scroll"||t==="scrollend"),L=ce?P!==null?P+"Capture":null:P;ce=[];for(var D=z,B;D!==null;){var F=D;if(B=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||B===null||L===null||(F=Ps(D,L),F!=null&&ce.push(vr(D,F,B))),Ve)break;D=D.return}0<ce.length&&(P=new V(P,ae,null,r,q),Y.push({event:P,listeners:ce}))}}if((i&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",P&&r!==ku&&(ae=r.relatedTarget||r.fromElement)&&(wa(ae)||ae[ba]))break e;if((V||P)&&(P=q.window===q?q:(P=q.ownerDocument)?P.defaultView||P.parentWindow:window,V?(ae=r.relatedTarget||r.toElement,V=z,ae=ae?wa(ae):null,ae!==null&&(Ve=u(ae),ce=ae.tag,ae!==Ve||ce!==5&&ce!==27&&ce!==6)&&(ae=null)):(V=null,ae=z),V!==ae)){if(ce=bm,F="onMouseLeave",L="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ce=Sm,F="onPointerLeave",L="onPointerEnter",D="pointer"),Ve=V==null?P:zs(V),B=ae==null?P:zs(ae),P=new ce(F,D+"leave",V,r,q),P.target=Ve,P.relatedTarget=B,F=null,wa(q)===z&&(ce=new ce(L,D+"enter",ae,r,q),ce.target=B,ce.relatedTarget=Ve,F=ce),Ve=F,V&&ae)t:{for(ce=Ox,L=V,D=ae,B=0,F=L;F;F=ce(F))B++;F=0;for(var le=D;le;le=ce(le))F++;for(;0<B-F;)L=ce(L),B--;for(;0<F-B;)D=ce(D),F--;for(;B--;){if(L===D||D!==null&&L===D.alternate){ce=L;break t}L=ce(L),D=ce(D)}ce=null}else ce=null;V!==null&&hy(Y,P,V,ce,!1),ae!==null&&Ve!==null&&hy(Y,Ve,ae,ce,!0)}}e:{if(P=z?zs(z):window,V=P.nodeName&&P.nodeName.toLowerCase(),V==="select"||V==="input"&&P.type==="file")var je=jm;else if(Cm(P))if(Mm)je=VS;else{je=zS;var re=BS}else V=P.nodeName,!V||V.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&Nu(z.elementType)&&(je=jm):je=PS;if(je&&(je=je(t,z))){Om(Y,je,r,q);break e}re&&re(t,P,z),t==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&Du(P,"number",P.value)}switch(re=z?zs(z):window,t){case"focusin":(Cm(re)||re.contentEditable==="true")&&(ja=re,Ku=z,Ks=null);break;case"focusout":Ks=Ku=ja=null;break;case"mousedown":Yu=!0;break;case"contextmenu":case"mouseup":case"dragend":Yu=!1,Pm(Y,r,q);break;case"selectionchange":if(IS)break;case"keydown":case"keyup":Pm(Y,r,q)}var Se;if($u)e:{switch(t){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Oa?Am(t,r)&&(Re="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Re="onCompositionStart");Re&&(xm&&r.locale!=="ko"&&(Oa||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Oa&&(Se=vm()):(li=q,zu="value"in li?li.value:li.textContent,Oa=!0)),re=gl(z,Re),0<re.length&&(Re=new wm(Re,t,null,r,q),Y.push({event:Re,listeners:re}),Se?Re.data=Se:(Se=Rm(r),Se!==null&&(Re.data=Se)))),(Se=DS?NS(t,r):kS(t,r))&&(Re=gl(z,"onBeforeInput"),0<Re.length&&(re=new wm("onBeforeInput","beforeinput",null,r,q),Y.push({event:re,listeners:Re}),re.data=Se)),Ex(Y,t,z,r,q)}fy(Y,i)})}function vr(t,i,r){return{instance:t,listener:i,currentTarget:r}}function gl(t,i){for(var r=i+"Capture",l=[];t!==null;){var d=t,y=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||y===null||(d=Ps(t,r),d!=null&&l.unshift(vr(t,d,y)),d=Ps(t,i),d!=null&&l.push(vr(t,d,y))),t.tag===3)return l;t=t.return}return[]}function Ox(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function hy(t,i,r,l,d){for(var y=i._reactName,w=[];r!==null&&r!==l;){var R=r,M=R.alternate,z=R.stateNode;if(R=R.tag,M!==null&&M===l)break;R!==5&&R!==26&&R!==27||z===null||(M=z,d?(z=Ps(r,y),z!=null&&w.unshift(vr(r,z,M))):d||(z=Ps(r,y),z!=null&&w.push(vr(r,z,M)))),r=r.return}w.length!==0&&t.push({event:i,listeners:w})}var jx=/\r\n?/g,Mx=/\u0000|\uFFFD/g;function my(t){return(typeof t=="string"?t:""+t).replace(jx,`
`).replace(Mx,"")}function py(t,i){return i=my(i),my(t)===i}function Pe(t,i,r,l,d,y){switch(r){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Aa(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Aa(t,""+l);break;case"className":bo(t,"class",l);break;case"tabIndex":bo(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bo(t,r,l);break;case"style":pm(t,l,y);break;case"data":if(i!=="object"){bo(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=So(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(r==="formAction"?(i!=="input"&&Pe(t,i,"name",d.name,d,null),Pe(t,i,"formEncType",d.formEncType,d,null),Pe(t,i,"formMethod",d.formMethod,d,null),Pe(t,i,"formTarget",d.formTarget,d,null)):(Pe(t,i,"encType",d.encType,d,null),Pe(t,i,"method",d.method,d,null),Pe(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=So(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"onScroll":l!=null&&Te("scroll",t);break;case"onScrollEnd":l!=null&&Te("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=So(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Te("beforetoggle",t),Te("toggle",t),_o(t,"popover",l);break;case"xlinkActuate":Un(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Un(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Un(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Un(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Un(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Un(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Un(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Un(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Un(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_o(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=sS.get(r)||r,_o(t,r,l))}}function bf(t,i,r,l,d,y){switch(r){case"style":pm(t,l,y);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Aa(t,l):(typeof l=="number"||typeof l=="bigint")&&Aa(t,""+l);break;case"onScroll":l!=null&&Te("scroll",t);break;case"onScrollEnd":l!=null&&Te("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rm.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),i=r.slice(2,d?r.length-7:void 0),y=t[kt]||null,y=y!=null?y[r]:null,typeof y=="function"&&t.removeEventListener(i,y,d),typeof l=="function")){typeof y!="function"&&y!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,l,d);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):_o(t,r,l)}}}function St(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",t),Te("load",t);var l=!1,d=!1,y;for(y in r)if(r.hasOwnProperty(y)){var w=r[y];if(w!=null)switch(y){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Pe(t,i,y,w,r,null)}}d&&Pe(t,i,"srcSet",r.srcSet,r,null),l&&Pe(t,i,"src",r.src,r,null);return;case"input":Te("invalid",t);var R=y=w=d=null,M=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var q=r[l];if(q!=null)switch(l){case"name":d=q;break;case"type":w=q;break;case"checked":M=q;break;case"defaultChecked":z=q;break;case"value":y=q;break;case"defaultValue":R=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Pe(t,i,l,q,r,null)}}fm(t,y,R,M,z,w,d,!1);return;case"select":Te("invalid",t),l=w=y=null;for(d in r)if(r.hasOwnProperty(d)&&(R=r[d],R!=null))switch(d){case"value":y=R;break;case"defaultValue":w=R;break;case"multiple":l=R;default:Pe(t,i,d,R,r,null)}i=y,r=w,t.multiple=!!l,i!=null?Ea(t,!!l,i,!1):r!=null&&Ea(t,!!l,r,!0);return;case"textarea":Te("invalid",t),y=d=l=null;for(w in r)if(r.hasOwnProperty(w)&&(R=r[w],R!=null))switch(w){case"value":l=R;break;case"defaultValue":d=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:Pe(t,i,w,R,r,null)}hm(t,l,d,y);return;case"option":for(M in r)r.hasOwnProperty(M)&&(l=r[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Pe(t,i,M,l,r,null));return;case"dialog":Te("beforetoggle",t),Te("toggle",t),Te("cancel",t),Te("close",t);break;case"iframe":case"object":Te("load",t);break;case"video":case"audio":for(l=0;l<yr.length;l++)Te(yr[l],t);break;case"image":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"embed":case"source":case"link":Te("error",t),Te("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Pe(t,i,z,l,r,null)}return;default:if(Nu(i)){for(q in r)r.hasOwnProperty(q)&&(l=r[q],l!==void 0&&bf(t,i,q,l,r,void 0));return}}for(R in r)r.hasOwnProperty(R)&&(l=r[R],l!=null&&Pe(t,i,R,l,r,null))}function Dx(t,i,r,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,y=null,w=null,R=null,M=null,z=null,q=null;for(V in r){var Y=r[V];if(r.hasOwnProperty(V)&&Y!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":M=Y;default:l.hasOwnProperty(V)||Pe(t,i,V,null,l,Y)}}for(var P in l){var V=l[P];if(Y=r[P],l.hasOwnProperty(P)&&(V!=null||Y!=null))switch(P){case"type":y=V;break;case"name":d=V;break;case"checked":z=V;break;case"defaultChecked":q=V;break;case"value":w=V;break;case"defaultValue":R=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,i));break;default:V!==Y&&Pe(t,i,P,V,l,Y)}}Mu(t,w,R,M,z,q,y,d);return;case"select":V=w=R=P=null;for(y in r)if(M=r[y],r.hasOwnProperty(y)&&M!=null)switch(y){case"value":break;case"multiple":V=M;default:l.hasOwnProperty(y)||Pe(t,i,y,null,l,M)}for(d in l)if(y=l[d],M=r[d],l.hasOwnProperty(d)&&(y!=null||M!=null))switch(d){case"value":P=y;break;case"defaultValue":R=y;break;case"multiple":w=y;default:y!==M&&Pe(t,i,d,y,l,M)}i=R,r=w,l=V,P!=null?Ea(t,!!r,P,!1):!!l!=!!r&&(i!=null?Ea(t,!!r,i,!0):Ea(t,!!r,r?[]:"",!1));return;case"textarea":V=P=null;for(R in r)if(d=r[R],r.hasOwnProperty(R)&&d!=null&&!l.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Pe(t,i,R,null,l,d)}for(w in l)if(d=l[w],y=r[w],l.hasOwnProperty(w)&&(d!=null||y!=null))switch(w){case"value":P=d;break;case"defaultValue":V=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==y&&Pe(t,i,w,d,l,y)}dm(t,P,V);return;case"option":for(var ae in r)P=r[ae],r.hasOwnProperty(ae)&&P!=null&&!l.hasOwnProperty(ae)&&(ae==="selected"?t.selected=!1:Pe(t,i,ae,null,l,P));for(M in l)P=l[M],V=r[M],l.hasOwnProperty(M)&&P!==V&&(P!=null||V!=null)&&(M==="selected"?t.selected=P&&typeof P!="function"&&typeof P!="symbol":Pe(t,i,M,P,l,V));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in r)P=r[ce],r.hasOwnProperty(ce)&&P!=null&&!l.hasOwnProperty(ce)&&Pe(t,i,ce,null,l,P);for(z in l)if(P=l[z],V=r[z],l.hasOwnProperty(z)&&P!==V&&(P!=null||V!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,i));break;default:Pe(t,i,z,P,l,V)}return;default:if(Nu(i)){for(var Ve in r)P=r[Ve],r.hasOwnProperty(Ve)&&P!==void 0&&!l.hasOwnProperty(Ve)&&bf(t,i,Ve,void 0,l,P);for(q in l)P=l[q],V=r[q],!l.hasOwnProperty(q)||P===V||P===void 0&&V===void 0||bf(t,i,q,P,l,V);return}}for(var L in r)P=r[L],r.hasOwnProperty(L)&&P!=null&&!l.hasOwnProperty(L)&&Pe(t,i,L,null,l,P);for(Y in l)P=l[Y],V=r[Y],!l.hasOwnProperty(Y)||P===V||P==null&&V==null||Pe(t,i,Y,P,l,V)}function gy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Nx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var d=r[l],y=d.transferSize,w=d.initiatorType,R=d.duration;if(y&&R&&gy(w)){for(w=0,R=d.responseEnd,l+=1;l<r.length;l++){var M=r[l],z=M.startTime;if(z>R)break;var q=M.transferSize,Y=M.initiatorType;q&&gy(Y)&&(M=M.responseEnd,w+=q*(M<R?1:(R-z)/(M-z)))}if(--l,i+=8*(y+w)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var wf=null,Sf=null;function yl(t){return t.nodeType===9?t:t.ownerDocument}function yy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function xf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Tf=null;function kx(){var t=window.event;return t&&t.type==="popstate"?t===Tf?!1:(Tf=t,!0):(Tf=null,!1)}var _y=typeof setTimeout=="function"?setTimeout:void 0,Lx=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,Ux=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(t){return by.resolve(null).then(t).catch(Bx)}:_y;function Bx(t){setTimeout(function(){throw t})}function Ei(t){return t==="head"}function wy(t,i){var r=i,l=0;do{var d=r.nextSibling;if(t.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(d),is(i);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")_r(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,_r(r);for(var y=r.firstChild;y;){var w=y.nextSibling,R=y.nodeName;y[Bs]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=w}}else r==="body"&&_r(t.ownerDocument.body);r=d}while(r);is(i)}function Sy(t,i){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Ef(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ef(r),Ou(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function zx(t,i,r,l){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Bs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var y=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=dn(t.nextSibling),t===null)break}return null}function Px(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=dn(t.nextSibling),t===null))return null;return t}function xy(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=dn(t.nextSibling),t===null))return null;return t}function Af(t){return t.data==="$?"||t.data==="$~"}function Rf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Vx(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var l=function(){i(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function dn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Cf=null;function Ty(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return dn(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function Ey(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function Ay(t,i,r){switch(i=yl(r),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function _r(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ou(t)}var hn=new Map,Ry=new Set;function vl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zn=Q.d;Q.d={f:Hx,r:Ix,D:$x,C:qx,L:Gx,m:Fx,X:Yx,S:Kx,M:Xx};function Hx(){var t=Zn.f(),i=ul();return t||i}function Ix(t){var i=Sa(t);i!==null&&i.tag===5&&i.type==="form"?qp(i):Zn.r(t)}var es=typeof document>"u"?null:document;function Cy(t,i,r){var l=es;if(l&&typeof i=="string"&&i){var d=sn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),Ry.has(d)||(Ry.add(d),t={rel:t,crossOrigin:r,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),St(i,"link",t),gt(i),l.head.appendChild(i)))}}function $x(t){Zn.D(t),Cy("dns-prefetch",t,null)}function qx(t,i){Zn.C(t,i),Cy("preconnect",t,i)}function Gx(t,i,r){Zn.L(t,i,r);var l=es;if(l&&t&&i){var d='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+sn(r.imageSizes)+'"]')):d+='[href="'+sn(t)+'"]';var y=d;switch(i){case"style":y=ts(t);break;case"script":y=ns(t)}hn.has(y)||(t=f({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),hn.set(y,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(br(y))||i==="script"&&l.querySelector(wr(y))||(i=l.createElement("link"),St(i,"link",t),gt(i),l.head.appendChild(i)))}}function Fx(t,i){Zn.m(t,i);var r=es;if(r&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',y=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ns(t)}if(!hn.has(y)&&(t=f({rel:"modulepreload",href:t},i),hn.set(y,t),r.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(wr(y)))return}l=r.createElement("link"),St(l,"link",t),gt(l),r.head.appendChild(l)}}}function Kx(t,i,r){Zn.S(t,i,r);var l=es;if(l&&t){var d=xa(l).hoistableStyles,y=ts(t);i=i||"default";var w=d.get(y);if(!w){var R={loading:0,preload:null};if(w=l.querySelector(br(y)))R.loading=5;else{t=f({rel:"stylesheet",href:t,"data-precedence":i},r),(r=hn.get(y))&&Of(t,r);var M=w=l.createElement("link");gt(M),St(M,"link",t),M._p=new Promise(function(z,q){M.onload=z,M.onerror=q}),M.addEventListener("load",function(){R.loading|=1}),M.addEventListener("error",function(){R.loading|=2}),R.loading|=4,_l(w,i,l)}w={type:"stylesheet",instance:w,count:1,state:R},d.set(y,w)}}}function Yx(t,i){Zn.X(t,i);var r=es;if(r&&t){var l=xa(r).hoistableScripts,d=ns(t),y=l.get(d);y||(y=r.querySelector(wr(d)),y||(t=f({src:t,async:!0},i),(i=hn.get(d))&&jf(t,i),y=r.createElement("script"),gt(y),St(y,"link",t),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(d,y))}}function Xx(t,i){Zn.M(t,i);var r=es;if(r&&t){var l=xa(r).hoistableScripts,d=ns(t),y=l.get(d);y||(y=r.querySelector(wr(d)),y||(t=f({src:t,async:!0,type:"module"},i),(i=hn.get(d))&&jf(t,i),y=r.createElement("script"),gt(y),St(y,"link",t),r.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(d,y))}}function Oy(t,i,r,l){var d=(d=ne.current)?vl(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=ts(r.href),r=xa(d).hoistableStyles,l=r.get(i),l||(l={type:"style",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ts(r.href);var y=xa(d).hoistableStyles,w=y.get(t);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,w),(y=d.querySelector(br(t)))&&!y._p&&(w.instance=y,w.state.loading=5),hn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},hn.set(t,r),y||Wx(d,t,r,w.state))),i&&l===null)throw Error(s(528,""));return w}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ns(r),r=xa(d).hoistableScripts,l=r.get(i),l||(l={type:"script",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ts(t){return'href="'+sn(t)+'"'}function br(t){return'link[rel="stylesheet"]['+t+"]"}function jy(t){return f({},t,{"data-precedence":t.precedence,precedence:null})}function Wx(t,i,r,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),St(i,"link",r),gt(i),t.head.appendChild(i))}function ns(t){return'[src="'+sn(t)+'"]'}function wr(t){return"script[async]"+t}function My(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+sn(r.href)+'"]');if(l)return i.instance=l,gt(l),l;var d=f({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),gt(l),St(l,"style",d),_l(l,r.precedence,t),i.instance=l;case"stylesheet":d=ts(r.href);var y=t.querySelector(br(d));if(y)return i.state.loading|=4,i.instance=y,gt(y),y;l=jy(r),(d=hn.get(d))&&Of(l,d),y=(t.ownerDocument||t).createElement("link"),gt(y);var w=y;return w._p=new Promise(function(R,M){w.onload=R,w.onerror=M}),St(y,"link",l),i.state.loading|=4,_l(y,r.precedence,t),i.instance=y;case"script":return y=ns(r.src),(d=t.querySelector(wr(y)))?(i.instance=d,gt(d),d):(l=r,(d=hn.get(y))&&(l=f({},r),jf(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),gt(d),St(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,_l(l,r.precedence,t));return i.instance}function _l(t,i,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,y=d,w=0;w<l.length;w++){var R=l[w];if(R.dataset.precedence===i)y=R;else if(y!==d)break}y?y.parentNode.insertBefore(t,y.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function Of(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function jf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var bl=null;function Dy(t,i,r){if(bl===null){var l=new Map,d=bl=new Map;d.set(r,l)}else d=bl,l=d.get(r),l||(l=new Map,d.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var y=r[d];if(!(y[Bs]||y[vt]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(i)||"";w=t+w;var R=l.get(w);R?R.push(y):l.set(w,[y])}}return l}function Ny(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function Qx(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ky(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Jx(t,i,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=ts(l.href),y=i.querySelector(br(d));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=wl.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=y,gt(y);return}y=i.ownerDocument||i,l=jy(l),(d=hn.get(d))&&Of(l,d),y=y.createElement("link"),gt(y);var w=y;w._p=new Promise(function(R,M){w.onload=R,w.onerror=M}),St(y,"link",l),r.instance=y}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=wl.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var Mf=0;function Zx(t,i){return t.stylesheets&&t.count===0&&xl(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&xl(t,t.stylesheets),t.unsuspend){var y=t.unsuspend;t.unsuspend=null,y()}},6e4+i);0<t.imgBytes&&Mf===0&&(Mf=62500*Nx());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xl(t,t.stylesheets),t.unsuspend)){var y=t.unsuspend;t.unsuspend=null,y()}},(t.imgBytes>Mf?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function wl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sl=null;function xl(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sl=new Map,i.forEach(eT,t),Sl=null,wl.call(t))}function eT(t,i){if(!(i.state.loading&4)){var r=Sl.get(t);if(r)var l=r.get(null);else{r=new Map,Sl.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<d.length;y++){var w=d[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(r.set(w.dataset.precedence,w),l=w)}l&&r.set(null,l)}d=i.instance,w=d.getAttribute("data-precedence"),y=r.get(w)||l,y===l&&r.set(null,d),r.set(w,d),this.count++,l=wl.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),y?y.parentNode.insertBefore(d,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Sr={$$typeof:O,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function tT(t,i,r,l,d,y,w,R,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Eu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eu(0),this.hiddenUpdates=Eu(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Ly(t,i,r,l,d,y,w,R,M,z,q,Y){return t=new tT(t,i,r,w,M,z,q,Y,R),i=1,y===!0&&(i|=24),y=Ft(3,null,null,i),t.current=y,y.stateNode=t,i=uc(),i.refCount++,t.pooledCache=i,i.refCount++,y.memoizedState={element:l,isDehydrated:r,cache:i},hc(y),t}function Uy(t){return t?(t=Na,t):Na}function By(t,i,r,l,d,y){d=Uy(d),l.context===null?l.context=d:l.pendingContext=d,l=mi(i),l.payload={element:r},y=y===void 0?null:y,y!==null&&(l.callback=y),r=pi(t,l,i),r!==null&&(Vt(r,t,i),er(r,t,i))}function zy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function Df(t,i){zy(t,i),(t=t.alternate)&&zy(t,i)}function Py(t){if(t.tag===13||t.tag===31){var i=Ki(t,67108864);i!==null&&Vt(i,t,67108864),Df(t,67108864)}}function Vy(t){if(t.tag===13||t.tag===31){var i=Qt();i=Au(i);var r=Ki(t,i);r!==null&&Vt(r,t,i),Df(t,i)}}var Tl=!0;function nT(t,i,r,l){var d=I.T;I.T=null;var y=Q.p;try{Q.p=2,Nf(t,i,r,l)}finally{Q.p=y,I.T=d}}function iT(t,i,r,l){var d=I.T;I.T=null;var y=Q.p;try{Q.p=8,Nf(t,i,r,l)}finally{Q.p=y,I.T=d}}function Nf(t,i,r,l){if(Tl){var d=kf(l);if(d===null)_f(t,i,l,El,r),Iy(t,l);else if(sT(d,t,i,r,l))l.stopPropagation();else if(Iy(t,l),i&4&&-1<aT.indexOf(t)){for(;d!==null;){var y=Sa(d);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=Ii(y.pendingLanes);if(w!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var M=1<<31-qt(w);R.entanglements[1]|=M,w&=~M}Nn(y),(De&6)===0&&(ol=At()+500,gr(0))}}break;case 31:case 13:R=Ki(y,2),R!==null&&Vt(R,y,2),ul(),Df(y,2)}if(y=kf(l),y===null&&_f(t,i,l,El,r),y===d)break;d=y}d!==null&&l.stopPropagation()}else _f(t,i,l,null,r)}}function kf(t){return t=Lu(t),Lf(t)}var El=null;function Lf(t){if(El=null,t=wa(t),t!==null){var i=u(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=c(i),t!==null)return t;t=null}else if(r===31){if(t=m(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return El=t,null}function Hy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xu()){case Ds:return 2;case ho:return 8;case _a:case mo:return 32;case Ns:return 268435456;default:return 32}default:return 32}}var Uf=!1,Ai=null,Ri=null,Ci=null,xr=new Map,Tr=new Map,Oi=[],aT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iy(t,i){switch(t){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":xr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tr.delete(i.pointerId)}}function Er(t,i,r,l,d,y){return t===null||t.nativeEvent!==y?(t={blockedOn:i,domEventName:r,eventSystemFlags:l,nativeEvent:y,targetContainers:[d]},i!==null&&(i=Sa(i),i!==null&&Py(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function sT(t,i,r,l,d){switch(i){case"focusin":return Ai=Er(Ai,t,i,r,l,d),!0;case"dragenter":return Ri=Er(Ri,t,i,r,l,d),!0;case"mouseover":return Ci=Er(Ci,t,i,r,l,d),!0;case"pointerover":var y=d.pointerId;return xr.set(y,Er(xr.get(y)||null,t,i,r,l,d)),!0;case"gotpointercapture":return y=d.pointerId,Tr.set(y,Er(Tr.get(y)||null,t,i,r,l,d)),!0}return!1}function $y(t){var i=wa(t.target);if(i!==null){var r=u(i);if(r!==null){if(i=r.tag,i===13){if(i=c(r),i!==null){t.blockedOn=i,im(t.priority,function(){Vy(r)});return}}else if(i===31){if(i=m(r),i!==null){t.blockedOn=i,im(t.priority,function(){Vy(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Al(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=kf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ku=l,r.target.dispatchEvent(l),ku=null}else return i=Sa(r),i!==null&&Py(i),t.blockedOn=r,!1;i.shift()}return!0}function qy(t,i,r){Al(t)&&r.delete(i)}function rT(){Uf=!1,Ai!==null&&Al(Ai)&&(Ai=null),Ri!==null&&Al(Ri)&&(Ri=null),Ci!==null&&Al(Ci)&&(Ci=null),xr.forEach(qy),Tr.forEach(qy)}function Rl(t,i){t.blockedOn===i&&(t.blockedOn=null,Uf||(Uf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,rT)))}var Cl=null;function Gy(t){Cl!==t&&(Cl=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Cl===t&&(Cl=null);for(var i=0;i<t.length;i+=3){var r=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(Lf(l||r)===null)continue;break}var y=Sa(r);y!==null&&(t.splice(i,3),i-=3,Nc(y,{pending:!0,data:d,method:r.method,action:l},l,d))}}))}function is(t){function i(M){return Rl(M,t)}Ai!==null&&Rl(Ai,t),Ri!==null&&Rl(Ri,t),Ci!==null&&Rl(Ci,t),xr.forEach(i),Tr.forEach(i);for(var r=0;r<Oi.length;r++){var l=Oi[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Oi.length&&(r=Oi[0],r.blockedOn===null);)$y(r),r.blockedOn===null&&Oi.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var d=r[l],y=r[l+1],w=d[kt]||null;if(typeof y=="function")w||Gy(r);else if(w){var R=null;if(y&&y.hasAttribute("formAction")){if(d=y,w=y[kt]||null)R=w.formAction;else if(Lf(d)!==null)continue}else R=w.action;typeof R=="function"?r[l+1]=R:(r.splice(l,3),l-=3),Gy(r)}}}function Fy(){function t(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return d=w})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Bf(t){this._internalRoot=t}Ol.prototype.render=Bf.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var r=i.current,l=Qt();By(r,l,t,i,null,null)},Ol.prototype.unmount=Bf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;By(t.current,2,null,t,null,null),ul(),i[ba]=null}};function Ol(t){this._internalRoot=t}Ol.prototype.unstable_scheduleHydration=function(t){if(t){var i=nm();t={blockedOn:null,target:t,priority:i};for(var r=0;r<Oi.length&&i!==0&&i<Oi[r].priority;r++);Oi.splice(r,0,t),r===0&&$y(t)}};var Ky=e.version;if(Ky!=="19.2.4")throw Error(s(527,Ky,"19.2.4"));Q.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var oT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{Hi=jl.inject(oT),$t=jl}catch{}}return Cr.createRoot=function(t,i){if(!o(t))throw Error(s(299));var r=!1,l="",d=eg,y=tg,w=ng;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=Ly(t,1,!1,null,null,r,l,null,d,y,w,Fy),t[ba]=i.current,vf(t),new Bf(i)},Cr.hydrateRoot=function(t,i,r){if(!o(t))throw Error(s(299));var l=!1,d="",y=eg,w=tg,R=ng,M=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(R=r.onRecoverableError),r.formState!==void 0&&(M=r.formState)),i=Ly(t,1,!0,i,r??null,l,d,M,y,w,R,Fy),i.context=Uy(null),r=i.current,l=Qt(),l=Au(l),d=mi(l),d.callback=null,pi(r,d,l),r=l,i.current.lanes=r,Us(i,r),Nn(i),t[ba]=i.current,vf(t),new Ol(i)},Cr.version="19.2.4",Cr}var iv;function yT(){if(iv)return Vf.exports;iv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vf.exports=gT(),Vf.exports}var vT=yT();const _T=u_(vT);var av="popstate";function bT(n={}){function e(o,u){let{pathname:c="/",search:m="",hash:h=""}=va(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),_d("",{pathname:c,search:m,hash:h},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function a(o,u){let c=o.document.querySelector("base"),m="";if(c&&c.getAttribute("href")){let h=o.location.href,p=h.indexOf("#");m=p===-1?h:h.slice(0,p)}return m+"#"+(typeof u=="string"?u:$r(u))}function s(o,u){yn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return ST(e,a,s,n)}function Xe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function yn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wT(){return Math.random().toString(36).substring(2,10)}function sv(n,e){return{usr:n.state,key:n.key,idx:e}}function _d(n,e,a=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?va(e):e,state:a,key:e&&e.key||s||wT()}}function $r({pathname:n="/",search:e="",hash:a=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function va(n){let e={};if(n){let a=n.indexOf("#");a>=0&&(e.hash=n.substring(a),n=n.substring(0,a));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function ST(n,e,a,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,m="POP",h=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function f(){m="POP";let T=v(),A=T==null?null:T-p;p=T,h&&h({action:m,location:E.location,delta:A})}function g(T,A){m="PUSH";let C=_d(E.location,T,A);a&&a(C,T),p=v()+1;let O=sv(C,p),U=E.createHref(C);try{c.pushState(O,"",U)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;o.location.assign(U)}u&&h&&h({action:m,location:E.location,delta:1})}function _(T,A){m="REPLACE";let C=_d(E.location,T,A);a&&a(C,T),p=v();let O=sv(C,p),U=E.createHref(C);c.replaceState(O,"",U),u&&h&&h({action:m,location:E.location,delta:0})}function b(T){return xT(T)}let E={get action(){return m},get location(){return n(o,c)},listen(T){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(av,f),h=T,()=>{o.removeEventListener(av,f),h=null}},createHref(T){return e(o,T)},createURL:b,encodeLocation(T){let A=b(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:g,replace:_,go(T){return c.go(T)}};return E}function xT(n,e=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(a,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:$r(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function c_(n,e,a="/"){return TT(n,e,a,!1)}function TT(n,e,a,s){let o=typeof e=="string"?va(e):e,u=ii(o.pathname||"/",a);if(u==null)return null;let c=f_(n);ET(c);let m=null;for(let h=0;m==null&&h<c.length;++h){let p=UT(u);m=kT(c[h],p,s)}return m}function f_(n,e=[],a=[],s="",o=!1){let u=(c,m,h=o,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&h)return;Xe(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let f=ti([s,v.relativePath]),g=a.concat(v);c.children&&c.children.length>0&&(Xe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),f_(c.children,e,g,f,h)),!(c.path==null&&!c.index)&&e.push({path:f,score:DT(f,c.index),routesMeta:g})};return n.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let h of d_(c.path))u(c,m,!0,h)}),e}function d_(n){let e=n.split("/");if(e.length===0)return[];let[a,...s]=e,o=a.endsWith("?"),u=a.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=d_(s.join("/")),m=[];return m.push(...c.map(h=>h===""?u:[u,h].join("/"))),o&&m.push(...c),m.map(h=>n.startsWith("/")&&h===""?"/":h)}function ET(n){n.sort((e,a)=>e.score!==a.score?a.score-e.score:NT(e.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var AT=/^:[\w-]+$/,RT=3,CT=2,OT=1,jT=10,MT=-2,rv=n=>n==="*";function DT(n,e){let a=n.split("/"),s=a.length;return a.some(rv)&&(s+=MT),e&&(s+=CT),a.filter(o=>!rv(o)).reduce((o,u)=>o+(AT.test(u)?RT:u===""?OT:jT),s)}function NT(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function kT(n,e,a=!1){let{routesMeta:s}=n,o={},u="/",c=[];for(let m=0;m<s.length;++m){let h=s[m],p=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",f=Xl({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),g=h.route;if(!f&&p&&a&&!s[s.length-1].route.index&&(f=Xl({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!f)return null;Object.assign(o,f.params),c.push({params:o,pathname:ti([u,f.pathname]),pathnameBase:VT(ti([u,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(u=ti([u,f.pathnameBase]))}return c}function Xl(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[a,s]=LT(n.path,n.caseSensitive,n.end),o=e.match(a);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:f},g)=>{if(v==="*"){let b=m[g]||"";c=u.slice(0,u.length-b.length).replace(/(.)\/+$/,"$1")}const _=m[g];return f&&!_?p[v]=void 0:p[v]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:n}}function LT(n,e=!1,a=!0){yn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,h)=>(s.push({paramName:m,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function UT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ii(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,s=n.charAt(a);return s&&s!=="/"?null:n.slice(a)||"/"}var BT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function zT(n,e="/"){let{pathname:a,search:s="",hash:o=""}=typeof n=="string"?va(n):n,u;return a?(a=a.replace(/\/\/+/g,"/"),a.startsWith("/")?u=ov(a.substring(1),"/"):u=ov(a,e)):u=e,{pathname:u,search:HT(s),hash:IT(o)}}function ov(n,e){let a=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function qf(n,e,a,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PT(n){return n.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function ah(n){let e=PT(n);return e.map((a,s)=>s===e.length-1?a.pathname:a.pathnameBase)}function sh(n,e,a,s=!1){let o;typeof n=="string"?o=va(n):(o={...n},Xe(!o.pathname||!o.pathname.includes("?"),qf("?","pathname","search",o)),Xe(!o.pathname||!o.pathname.includes("#"),qf("#","pathname","hash",o)),Xe(!o.search||!o.search.includes("#"),qf("#","search","hash",o)));let u=n===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=a;else{let f=e.length-1;if(!s&&c.startsWith("..")){let g=c.split("/");for(;g[0]==="..";)g.shift(),f-=1;o.pathname=g.join("/")}m=f>=0?e[f]:"/"}let h=zT(o,m),p=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&a.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}var ti=n=>n.join("/").replace(/\/\/+/g,"/"),VT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),HT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,IT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,$T=class{constructor(n,e,a,s=!1){this.status=n,this.statusText=e||"",this.internal=s,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function qT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function GT(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var h_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function m_(n,e){let a=n;if(typeof a!="string"||!BT.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let s=a,o=!1;if(h_)try{let u=new URL(window.location.href),c=a.startsWith("//")?new URL(u.protocol+a):new URL(a),m=ii(c.pathname,e);c.origin===u.origin&&m!=null?a=m+c.search+c.hash:o=!0}catch{yn(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var p_=["POST","PUT","PATCH","DELETE"];new Set(p_);var FT=["GET",...p_];new Set(FT);var Es=j.createContext(null);Es.displayName="DataRouter";var uu=j.createContext(null);uu.displayName="DataRouterState";var KT=j.createContext(!1),g_=j.createContext({isTransitioning:!1});g_.displayName="ViewTransition";var YT=j.createContext(new Map);YT.displayName="Fetchers";var XT=j.createContext(null);XT.displayName="Await";var tn=j.createContext(null);tn.displayName="Navigation";var io=j.createContext(null);io.displayName="Location";var On=j.createContext({outlet:null,matches:[],isDataRoute:!1});On.displayName="Route";var rh=j.createContext(null);rh.displayName="RouteError";var y_="REACT_ROUTER_ERROR",WT="REDIRECT",QT="ROUTE_ERROR_RESPONSE";function JT(n){if(n.startsWith(`${y_}:${WT}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ZT(n){if(n.startsWith(`${y_}:${QT}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new $T(e.status,e.statusText,e.data)}catch{}}function e1(n,{relative:e}={}){Xe(As(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=j.useContext(tn),{hash:o,pathname:u,search:c}=so(n,{relative:e}),m=u;return a!=="/"&&(m=u==="/"?a:ti([a,u])),s.createHref({pathname:m,search:c,hash:o})}function As(){return j.useContext(io)!=null}function Pi(){return Xe(As(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(io).location}var v_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function __(n){j.useContext(tn).static||j.useLayoutEffect(n)}function oh(){let{isDataRoute:n}=j.useContext(On);return n?h1():t1()}function t1(){Xe(As(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(Es),{basename:e,navigator:a}=j.useContext(tn),{matches:s}=j.useContext(On),{pathname:o}=Pi(),u=JSON.stringify(ah(s)),c=j.useRef(!1);return __(()=>{c.current=!0}),j.useCallback((h,p={})=>{if(yn(c.current,v_),!c.current)return;if(typeof h=="number"){a.go(h);return}let v=sh(h,JSON.parse(u),o,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ti([e,v.pathname])),(p.replace?a.replace:a.push)(v,p.state,p)},[e,a,u,o,n])}j.createContext(null);function ao(){let{matches:n}=j.useContext(On),e=n[n.length-1];return e?e.params:{}}function so(n,{relative:e}={}){let{matches:a}=j.useContext(On),{pathname:s}=Pi(),o=JSON.stringify(ah(a));return j.useMemo(()=>sh(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function n1(n,e){return b_(n,e)}function b_(n,e,a,s,o){Xe(As(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=j.useContext(tn),{matches:c}=j.useContext(On),m=c[c.length-1],h=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",f=m&&m.route;{let C=f&&f.path||"";S_(p,!f||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=Pi(),_;if(e){let C=typeof e=="string"?va(e):e;Xe(v==="/"||C.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${C.pathname}" was given in the \`location\` prop.`),_=C}else _=g;let b=_.pathname||"/",E=b;if(v!=="/"){let C=v.replace(/^\//,"").split("/");E="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let T=c_(n,{pathname:E});yn(f||T!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),yn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=o1(T&&T.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:ti([v,u.encodeLocation?u.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?v:ti([v,u.encodeLocation?u.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),c,a,s,o);return e&&A?j.createElement(io.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},A):A}function i1(){let n=d1(),e=qT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),a=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),a?j.createElement("pre",{style:o},a):null,c)}var a1=j.createElement(i1,null),w_=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const a=ZT(n.digest);a&&(n=a)}let e=n!==void 0?j.createElement(On.Provider,{value:this.props.routeContext},j.createElement(rh.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?j.createElement(s1,{error:n},e):e}};w_.contextType=KT;var Gf=new WeakMap;function s1({children:n,error:e}){let{basename:a}=j.useContext(tn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=JT(e.digest);if(s){let o=Gf.get(e);if(o)throw o;let u=m_(s.location,a);if(h_&&!Gf.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Gf.set(e,c),c}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return n}function r1({routeContext:n,match:e,children:a}){let s=j.useContext(Es);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(On.Provider,{value:n},a)}function o1(n,e=[],a=null,s=null,o=null){if(n==null){if(!a)return null;if(a.errors)n=a.matches;else if(e.length===0&&!a.initialized&&a.matches.length>0)n=a.matches;else return null}let u=n,c=a?.errors;if(c!=null){let v=u.findIndex(f=>f.route.id&&c?.[f.route.id]!==void 0);Xe(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,h=-1;if(a)for(let v=0;v<u.length;v++){let f=u[v];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=v),f.route.id){let{loaderData:g,errors:_}=a,b=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||b){m=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}let p=a&&s?(v,f)=>{s(v,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:GT(a.matches),errorInfo:f})}:void 0;return u.reduceRight((v,f,g)=>{let _,b=!1,E=null,T=null;a&&(_=c&&f.route.id?c[f.route.id]:void 0,E=f.route.errorElement||a1,m&&(h<0&&g===0?(S_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,T=null):h===g&&(b=!0,T=f.route.hydrateFallbackElement||null)));let A=e.concat(u.slice(0,g+1)),C=()=>{let O;return _?O=E:b?O=T:f.route.Component?O=j.createElement(f.route.Component,null):f.route.element?O=f.route.element:O=v,j.createElement(r1,{match:f,routeContext:{outlet:v,matches:A,isDataRoute:a!=null},children:O})};return a&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?j.createElement(w_,{location:a.location,revalidation:a.revalidation,component:E,error:_,children:C(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:p}):C()},null)}function lh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l1(n){let e=j.useContext(Es);return Xe(e,lh(n)),e}function u1(n){let e=j.useContext(uu);return Xe(e,lh(n)),e}function c1(n){let e=j.useContext(On);return Xe(e,lh(n)),e}function uh(n){let e=c1(n),a=e.matches[e.matches.length-1];return Xe(a.route.id,`${n} can only be used on routes that contain a unique "id"`),a.route.id}function f1(){return uh("useRouteId")}function d1(){let n=j.useContext(rh),e=u1("useRouteError"),a=uh("useRouteError");return n!==void 0?n:e.errors?.[a]}function h1(){let{router:n}=l1("useNavigate"),e=uh("useNavigate"),a=j.useRef(!1);return __(()=>{a.current=!0}),j.useCallback(async(o,u={})=>{yn(a.current,v_),a.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...u}))},[n,e])}var lv={};function S_(n,e,a){!e&&!lv[n]&&(lv[n]=!0,yn(!1,a))}j.memo(m1);function m1({routes:n,future:e,state:a,onError:s}){return b_(n,void 0,a,s,e)}function p1({to:n,replace:e,state:a,relative:s}){Xe(As(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(tn);yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(On),{pathname:c}=Pi(),m=oh(),h=sh(n,ah(u),c,s==="path"),p=JSON.stringify(h);return j.useEffect(()=>{m(JSON.parse(p),{replace:e,state:a,relative:s})},[m,p,s,e,a]),null}function Mi(n){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function g1({basename:n="/",children:e=null,location:a,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){Xe(!As(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[m,o,u,c]);typeof a=="string"&&(a=va(a));let{pathname:p="/",search:v="",hash:f="",state:g=null,key:_="default"}=a,b=j.useMemo(()=>{let E=ii(p,m);return E==null?null:{location:{pathname:E,search:v,hash:f,state:g,key:_},navigationType:s}},[m,p,v,f,g,_,s]);return yn(b!=null,`<Router basename="${m}"> is not able to match the URL "${p}${v}${f}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:j.createElement(tn.Provider,{value:h},j.createElement(io.Provider,{children:e,value:b}))}function y1({children:n,location:e}){return n1(bd(n),e)}function bd(n,e=[]){let a=[];return j.Children.forEach(n,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){a.push.apply(a,bd(s.props.children,u));return}Xe(s.type===Mi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=bd(s.props.children,u)),a.push(c)}),a}var $l="get",ql="application/x-www-form-urlencoded";function cu(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function v1(n){return cu(n)&&n.tagName.toLowerCase()==="button"}function _1(n){return cu(n)&&n.tagName.toLowerCase()==="form"}function b1(n){return cu(n)&&n.tagName.toLowerCase()==="input"}function w1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function S1(n,e){return n.button===0&&(!e||e==="_self")&&!w1(n)}var Ml=null;function x1(){if(Ml===null)try{new FormData(document.createElement("form"),0),Ml=!1}catch{Ml=!0}return Ml}var T1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ff(n){return n!=null&&!T1.has(n)?(yn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ql}"`),null):n}function E1(n,e){let a,s,o,u,c;if(_1(n)){let m=n.getAttribute("action");s=m?ii(m,e):null,a=n.getAttribute("method")||$l,o=Ff(n.getAttribute("enctype"))||ql,u=new FormData(n)}else if(v1(n)||b1(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||m.getAttribute("action");if(s=h?ii(h,e):null,a=n.getAttribute("formmethod")||m.getAttribute("method")||$l,o=Ff(n.getAttribute("formenctype"))||Ff(m.getAttribute("enctype"))||ql,u=new FormData(m,n),!x1()){let{name:p,type:v,value:f}=n;if(v==="image"){let g=p?`${p}.`:"";u.append(`${g}x`,"0"),u.append(`${g}y`,"0")}else p&&u.append(p,f)}}else{if(cu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=$l,s=null,o=ql,c=n}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:a.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ch(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function A1(n,e,a,s){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return a?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&ii(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function R1(n,e){if(n.id in e)return e[n.id];try{let a=await import(n.module);return e[n.id]=a,a}catch(a){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function C1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function O1(n,e,a){let s=await Promise.all(n.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await R1(u,a);return c.links?c.links():[]}return[]}));return N1(s.flat(1).filter(C1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function uv(n,e,a,s,o,u){let c=(h,p)=>a[p]?h.route.id!==a[p].route.id:!0,m=(h,p)=>a[p].pathname!==h.pathname||a[p].route.path?.endsWith("*")&&a[p].params["*"]!==h.params["*"];return u==="assets"?e.filter((h,p)=>c(h,p)||m(h,p)):u==="data"?e.filter((h,p)=>{let v=s.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,p)||m(h,p))return!0;if(h.route.shouldRevalidate){let f=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function j1(n,e,{includeHydrateFallback:a}={}){return M1(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function M1(n){return[...new Set(n)]}function D1(n){let e={},a=Object.keys(n).sort();for(let s of a)e[s]=n[s];return e}function N1(n,e){let a=new Set;return new Set(e),n.reduce((s,o)=>{let u=JSON.stringify(D1(o));return a.has(u)||(a.add(u),s.push({key:u,link:o})),s},[])}function x_(){let n=j.useContext(Es);return ch(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function k1(){let n=j.useContext(uu);return ch(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var fh=j.createContext(void 0);fh.displayName="FrameworkContext";function T_(){let n=j.useContext(fh);return ch(n,"You must render this element inside a <HydratedRouter> element"),n}function L1(n,e){let a=j.useContext(fh),[s,o]=j.useState(!1),[u,c]=j.useState(!1),{onFocus:m,onBlur:h,onMouseEnter:p,onMouseLeave:v,onTouchStart:f}=e,g=j.useRef(null);j.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let E=A=>{A.forEach(C=>{c(C.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return g.current&&T.observe(g.current),()=>{T.disconnect()}}},[n]),j.useEffect(()=>{if(s){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[s]);let _=()=>{o(!0)},b=()=>{o(!1),c(!1)};return a?n!=="intent"?[u,g,{}]:[u,g,{onFocus:Or(m,_),onBlur:Or(h,b),onMouseEnter:Or(p,_),onMouseLeave:Or(v,b),onTouchStart:Or(f,_)}]:[!1,g,{}]}function Or(n,e){return a=>{n&&n(a),a.defaultPrevented||e(a)}}function U1({page:n,...e}){let{router:a}=x_(),s=j.useMemo(()=>c_(a.routes,n,a.basename),[a.routes,n,a.basename]);return s?j.createElement(z1,{page:n,matches:s,...e}):null}function B1(n){let{manifest:e,routeModules:a}=T_(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return O1(n,e,a).then(c=>{u||o(c)}),()=>{u=!0}},[n,e,a]),s}function z1({page:n,matches:e,...a}){let s=Pi(),{future:o,manifest:u,routeModules:c}=T_(),{basename:m}=x_(),{loaderData:h,matches:p}=k1(),v=j.useMemo(()=>uv(n,e,p,u,s,"data"),[n,e,p,u,s]),f=j.useMemo(()=>uv(n,e,p,u,s,"assets"),[n,e,p,u,s]),g=j.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let E=new Set,T=!1;if(e.forEach(C=>{let O=u.routes[C.route.id];!O||!O.hasLoader||(!v.some(U=>U.route.id===C.route.id)&&C.route.id in h&&c[C.route.id]?.shouldRevalidate||O.hasClientLoader?T=!0:E.add(C.route.id))}),E.size===0)return[];let A=A1(n,m,o.unstable_trailingSlashAwareDataRequests,"data");return T&&E.size>0&&A.searchParams.set("_routes",e.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[A.pathname+A.search]},[m,o.unstable_trailingSlashAwareDataRequests,h,s,u,v,e,n,c]),_=j.useMemo(()=>j1(f,u),[f,u]),b=B1(f);return j.createElement(j.Fragment,null,g.map(E=>j.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...a})),_.map(E=>j.createElement("link",{key:E,rel:"modulepreload",href:E,...a})),b.map(({key:E,link:T})=>j.createElement("link",{key:E,nonce:a.nonce,...T,crossOrigin:T.crossOrigin??a.crossOrigin})))}function P1(...n){return e=>{n.forEach(a=>{typeof a=="function"?a(e):a!=null&&(a.current=e)})}}var V1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{V1&&(window.__reactRouterVersion="7.13.0")}catch{}function H1({basename:n,children:e,unstable_useTransitions:a,window:s}){let o=j.useRef();o.current==null&&(o.current=bT({window:s,v5Compat:!0}));let u=o.current,[c,m]=j.useState({action:u.action,location:u.location}),h=j.useCallback(p=>{a===!1?m(p):j.startTransition(()=>m(p))},[a]);return j.useLayoutEffect(()=>u.listen(h),[u,h]),j.createElement(g1,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:a})}var E_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=j.forwardRef(function({onClick:e,discover:a="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:m,target:h,to:p,preventScrollReset:v,viewTransition:f,unstable_defaultShouldRevalidate:g,..._},b){let{basename:E,unstable_useTransitions:T}=j.useContext(tn),A=typeof p=="string"&&E_.test(p),C=m_(p,E);p=C.to;let O=e1(p,{relative:o}),[U,H,K]=L1(s,_),G=G1(p,{replace:c,state:m,target:h,preventScrollReset:v,relative:o,viewTransition:f,unstable_defaultShouldRevalidate:g,unstable_useTransitions:T});function W(he){e&&e(he),he.defaultPrevented||G(he)}let J=j.createElement("a",{..._,...K,href:C.absoluteURL||O,onClick:C.isExternal||u?e:W,ref:P1(b,H),target:h,"data-discover":!A&&a==="render"?"true":void 0});return U&&!A?j.createElement(j.Fragment,null,J,j.createElement(U1,{page:O})):J});Rn.displayName="Link";var I1=j.forwardRef(function({"aria-current":e="page",caseSensitive:a=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:m,children:h,...p},v){let f=so(c,{relative:p.relative}),g=Pi(),_=j.useContext(uu),{navigator:b,basename:E}=j.useContext(tn),T=_!=null&&W1(f)&&m===!0,A=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,C=g.pathname,O=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;a||(C=C.toLowerCase(),O=O?O.toLowerCase():null,A=A.toLowerCase()),O&&E&&(O=ii(O,E)||O);const U=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let H=C===A||!o&&C.startsWith(A)&&C.charAt(U)==="/",K=O!=null&&(O===A||!o&&O.startsWith(A)&&O.charAt(A.length)==="/"),G={isActive:H,isPending:K,isTransitioning:T},W=H?e:void 0,J;typeof s=="function"?J=s(G):J=[s,H?"active":null,K?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let he=typeof u=="function"?u(G):u;return j.createElement(Rn,{...p,"aria-current":W,className:J,ref:v,style:he,to:c,viewTransition:m},typeof h=="function"?h(G):h)});I1.displayName="NavLink";var $1=j.forwardRef(({discover:n="render",fetcherKey:e,navigate:a,reloadDocument:s,replace:o,state:u,method:c=$l,action:m,onSubmit:h,relative:p,preventScrollReset:v,viewTransition:f,unstable_defaultShouldRevalidate:g,..._},b)=>{let{unstable_useTransitions:E}=j.useContext(tn),T=Y1(),A=X1(m,{relative:p}),C=c.toLowerCase()==="get"?"get":"post",O=typeof m=="string"&&E_.test(m),U=H=>{if(h&&h(H),H.defaultPrevented)return;H.preventDefault();let K=H.nativeEvent.submitter,G=K?.getAttribute("formmethod")||c,W=()=>T(K||H.currentTarget,{fetcherKey:e,method:G,navigate:a,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:f,unstable_defaultShouldRevalidate:g});E&&a!==!1?j.startTransition(()=>W()):W()};return j.createElement("form",{ref:b,method:C,action:A,onSubmit:s?h:U,..._,"data-discover":!O&&n==="render"?"true":void 0})});$1.displayName="Form";function q1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A_(n){let e=j.useContext(Es);return Xe(e,q1(n)),e}function G1(n,{target:e,replace:a,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m,unstable_useTransitions:h}={}){let p=oh(),v=Pi(),f=so(n,{relative:u});return j.useCallback(g=>{if(S1(g,e)){g.preventDefault();let _=a!==void 0?a:$r(v)===$r(f),b=()=>p(n,{replace:_,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m});h?j.startTransition(()=>b()):b()}},[v,p,f,a,s,e,n,o,u,c,m,h])}var F1=0,K1=()=>`__${String(++F1)}__`;function Y1(){let{router:n}=A_("useSubmit"),{basename:e}=j.useContext(tn),a=f1(),s=n.fetch,o=n.navigate;return j.useCallback(async(u,c={})=>{let{action:m,method:h,encType:p,formData:v,body:f}=E1(u,e);if(c.navigate===!1){let g=c.fetcherKey||K1();await s(g,a,c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:f,formMethod:c.method||h,formEncType:c.encType||p,flushSync:c.flushSync})}else await o(c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:f,formMethod:c.method||h,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:a,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,a])}function X1(n,{relative:e}={}){let{basename:a}=j.useContext(tn),s=j.useContext(On);Xe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...so(n||".",{relative:e})},c=Pi();if(n==null){u.search=c.search;let m=new URLSearchParams(u.search),h=m.getAll("index");if(h.some(v=>v==="")){m.delete("index"),h.filter(f=>f).forEach(f=>m.append("index",f));let v=m.toString();u.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:ti([a,u.pathname])),$r(u)}function W1(n,{relative:e}={}){let a=j.useContext(g_);Xe(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=A_("useViewTransitionState"),o=so(n,{relative:e});if(!a.isTransitioning)return!1;let u=ii(a.currentLocation.pathname,s)||a.currentLocation.pathname,c=ii(a.nextLocation.pathname,s)||a.nextLocation.pathname;return Xl(o.pathname,c)!=null||Xl(o.pathname,u)!=null}const dh=j.createContext({});function hh(n){const e=j.useRef(null);return e.current===null&&(e.current=n()),e.current}const R_=typeof window<"u",C_=R_?j.useLayoutEffect:j.useEffect,fu=j.createContext(null);function mh(n,e){n.indexOf(e)===-1&&n.push(e)}function ph(n,e){const a=n.indexOf(e);a>-1&&n.splice(a,1)}const Ln=(n,e,a)=>a>e?e:a<n?n:a;let gh=()=>{};const ai={},O_=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function j_(n){return typeof n=="object"&&n!==null}const M_=n=>/^0[^.\s]+$/u.test(n);function yh(n){let e;return()=>(e===void 0&&(e=n()),e)}const gn=n=>n,Q1=(n,e)=>a=>e(n(a)),ro=(...n)=>n.reduce(Q1),qr=(n,e,a)=>{const s=e-n;return s===0?1:(a-n)/s};class vh{constructor(){this.subscriptions=[]}add(e){return mh(this.subscriptions,e),()=>ph(this.subscriptions,e)}notify(e,a,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,a,s);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(e,a,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ni=n=>n*1e3,pn=n=>n/1e3;function D_(n,e){return e?n*(1e3/e):0}const N_=(n,e,a)=>(((1-3*a+3*e)*n+(3*a-6*e))*n+3*e)*n,J1=1e-7,Z1=12;function eE(n,e,a,s,o){let u,c,m=0;do c=e+(a-e)/2,u=N_(c,s,o)-n,u>0?a=c:e=c;while(Math.abs(u)>J1&&++m<Z1);return c}function oo(n,e,a,s){if(n===e&&a===s)return gn;const o=u=>eE(u,0,1,n,a);return u=>u===0||u===1?u:N_(o(u),e,s)}const k_=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,L_=n=>e=>1-n(1-e),U_=oo(.33,1.53,.69,.99),_h=L_(U_),B_=k_(_h),z_=n=>(n*=2)<1?.5*_h(n):.5*(2-Math.pow(2,-10*(n-1))),bh=n=>1-Math.sin(Math.acos(n)),P_=L_(bh),V_=k_(bh),tE=oo(.42,0,1,1),nE=oo(0,0,.58,1),H_=oo(.42,0,.58,1),iE=n=>Array.isArray(n)&&typeof n[0]!="number",I_=n=>Array.isArray(n)&&typeof n[0]=="number",aE={linear:gn,easeIn:tE,easeInOut:H_,easeOut:nE,circIn:bh,circInOut:V_,circOut:P_,backIn:_h,backInOut:B_,backOut:U_,anticipate:z_},sE=n=>typeof n=="string",cv=n=>{if(I_(n)){gh(n.length===4);const[e,a,s,o]=n;return oo(e,a,s,o)}else if(sE(n))return aE[n];return n},Dl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function rE(n,e){let a=new Set,s=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function h(v){c.has(v)&&(p.schedule(v),n()),v(m)}const p={schedule:(v,f=!1,g=!1)=>{const b=g&&o?a:s;return f&&c.add(v),b.has(v)||b.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(m=v,o){u=!0;return}o=!0,[a,s]=[s,a],a.forEach(h),a.clear(),o=!1,u&&(u=!1,p.process(v))}};return p}const oE=40;function $_(n,e){let a=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>a=!0,c=Dl.reduce((O,U)=>(O[U]=rE(u),O),{}),{setup:m,read:h,resolveKeyframes:p,preUpdate:v,update:f,preRender:g,render:_,postRender:b}=c,E=()=>{const O=ai.useManualTiming?o.timestamp:performance.now();a=!1,ai.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(O-o.timestamp,oE),1)),o.timestamp=O,o.isProcessing=!0,m.process(o),h.process(o),p.process(o),v.process(o),f.process(o),g.process(o),_.process(o),b.process(o),o.isProcessing=!1,a&&e&&(s=!1,n(E))},T=()=>{a=!0,s=!0,o.isProcessing||n(E)};return{schedule:Dl.reduce((O,U)=>{const H=c[U];return O[U]=(K,G=!1,W=!1)=>(a||T(),H.schedule(K,G,W)),O},{}),cancel:O=>{for(let U=0;U<Dl.length;U++)c[Dl[U]].cancel(O)},state:o,steps:c}}const{schedule:qe,cancel:Bi,state:Et,steps:Kf}=$_(typeof requestAnimationFrame<"u"?requestAnimationFrame:gn,!0);let Gl;function lE(){Gl=void 0}const Mt={now:()=>(Gl===void 0&&Mt.set(Et.isProcessing||ai.useManualTiming?Et.timestamp:performance.now()),Gl),set:n=>{Gl=n,queueMicrotask(lE)}},q_=n=>e=>typeof e=="string"&&e.startsWith(n),G_=q_("--"),uE=q_("var(--"),wh=n=>uE(n)?cE.test(n.split("/*")[0].trim()):!1,cE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function fv(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Rs={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Gr={...Rs,transform:n=>Ln(0,1,n)},Nl={...Rs,default:1},Ur=n=>Math.round(n*1e5)/1e5,Sh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fE(n){return n==null}const dE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xh=(n,e)=>a=>!!(typeof a=="string"&&dE.test(a)&&a.startsWith(n)||e&&!fE(a)&&Object.prototype.hasOwnProperty.call(a,e)),F_=(n,e,a)=>s=>{if(typeof s!="string")return s;const[o,u,c,m]=s.match(Sh);return{[n]:parseFloat(o),[e]:parseFloat(u),[a]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},hE=n=>Ln(0,255,n),Yf={...Rs,transform:n=>Math.round(hE(n))},ha={test:xh("rgb","red"),parse:F_("red","green","blue"),transform:({red:n,green:e,blue:a,alpha:s=1})=>"rgba("+Yf.transform(n)+", "+Yf.transform(e)+", "+Yf.transform(a)+", "+Ur(Gr.transform(s))+")"};function mE(n){let e="",a="",s="",o="";return n.length>5?(e=n.substring(1,3),a=n.substring(3,5),s=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),a=n.substring(2,3),s=n.substring(3,4),o=n.substring(4,5),e+=e,a+=a,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(a,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const wd={test:xh("#"),parse:mE,transform:ha.transform},lo=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Di=lo("deg"),kn=lo("%"),se=lo("px"),pE=lo("vh"),gE=lo("vw"),dv={...kn,parse:n=>kn.parse(n)/100,transform:n=>kn.transform(n*100)},ps={test:xh("hsl","hue"),parse:F_("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:a,alpha:s=1})=>"hsla("+Math.round(n)+", "+kn.transform(Ur(e))+", "+kn.transform(Ur(a))+", "+Ur(Gr.transform(s))+")"},ft={test:n=>ha.test(n)||wd.test(n)||ps.test(n),parse:n=>ha.test(n)?ha.parse(n):ps.test(n)?ps.parse(n):wd.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ha.transform(n):ps.transform(n),getAnimatableNone:n=>{const e=ft.parse(n);return e.alpha=0,ft.transform(e)}},yE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vE(n){return isNaN(n)&&typeof n=="string"&&(n.match(Sh)?.length||0)+(n.match(yE)?.length||0)>0}const K_="number",Y_="color",_E="var",bE="var(",hv="${}",wE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fr(n){const e=n.toString(),a=[],s={color:[],number:[],var:[]},o=[];let u=0;const m=e.replace(wE,h=>(ft.test(h)?(s.color.push(u),o.push(Y_),a.push(ft.parse(h))):h.startsWith(bE)?(s.var.push(u),o.push(_E),a.push(h)):(s.number.push(u),o.push(K_),a.push(parseFloat(h))),++u,hv)).split(hv);return{values:a,split:m,indexes:s,types:o}}function X_(n){return Fr(n).values}function W_(n){const{split:e,types:a}=Fr(n),s=e.length;return o=>{let u="";for(let c=0;c<s;c++)if(u+=e[c],o[c]!==void 0){const m=a[c];m===K_?u+=Ur(o[c]):m===Y_?u+=ft.transform(o[c]):u+=o[c]}return u}}const SE=n=>typeof n=="number"?0:ft.test(n)?ft.getAnimatableNone(n):n;function xE(n){const e=X_(n);return W_(n)(e.map(SE))}const zi={test:vE,parse:X_,createTransformer:W_,getAnimatableNone:xE};function Xf(n,e,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?n+(e-n)*6*a:a<1/2?e:a<2/3?n+(e-n)*(2/3-a)*6:n}function TE({hue:n,saturation:e,lightness:a,alpha:s}){n/=360,e/=100,a/=100;let o=0,u=0,c=0;if(!e)o=u=c=a;else{const m=a<.5?a*(1+e):a+e-a*e,h=2*a-m;o=Xf(h,m,n+1/3),u=Xf(h,m,n),c=Xf(h,m,n-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function Wl(n,e){return a=>a>0?e:n}const We=(n,e,a)=>n+(e-n)*a,Wf=(n,e,a)=>{const s=n*n,o=a*(e*e-s)+s;return o<0?0:Math.sqrt(o)},EE=[wd,ha,ps],AE=n=>EE.find(e=>e.test(n));function mv(n){const e=AE(n);if(!e)return!1;let a=e.parse(n);return e===ps&&(a=TE(a)),a}const pv=(n,e)=>{const a=mv(n),s=mv(e);if(!a||!s)return Wl(n,e);const o={...a};return u=>(o.red=Wf(a.red,s.red,u),o.green=Wf(a.green,s.green,u),o.blue=Wf(a.blue,s.blue,u),o.alpha=We(a.alpha,s.alpha,u),ha.transform(o))},Sd=new Set(["none","hidden"]);function RE(n,e){return Sd.has(n)?a=>a<=0?n:e:a=>a>=1?e:n}function CE(n,e){return a=>We(n,e,a)}function Th(n){return typeof n=="number"?CE:typeof n=="string"?wh(n)?Wl:ft.test(n)?pv:ME:Array.isArray(n)?Q_:typeof n=="object"?ft.test(n)?pv:OE:Wl}function Q_(n,e){const a=[...n],s=a.length,o=n.map((u,c)=>Th(u)(u,e[c]));return u=>{for(let c=0;c<s;c++)a[c]=o[c](u);return a}}function OE(n,e){const a={...n,...e},s={};for(const o in a)n[o]!==void 0&&e[o]!==void 0&&(s[o]=Th(n[o])(n[o],e[o]));return o=>{for(const u in s)a[u]=s[u](o);return a}}function jE(n,e){const a=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const u=e.types[o],c=n.indexes[u][s[u]],m=n.values[c]??0;a[o]=m,s[u]++}return a}const ME=(n,e)=>{const a=zi.createTransformer(e),s=Fr(n),o=Fr(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Sd.has(n)&&!o.values.length||Sd.has(e)&&!s.values.length?RE(n,e):ro(Q_(jE(s,o),o.values),a):Wl(n,e)};function J_(n,e,a){return typeof n=="number"&&typeof e=="number"&&typeof a=="number"?We(n,e,a):Th(n)(n,e)}const DE=n=>{const e=({timestamp:a})=>n(a);return{start:(a=!0)=>qe.update(e,a),stop:()=>Bi(e),now:()=>Et.isProcessing?Et.timestamp:Mt.now()}},Z_=(n,e,a=10)=>{let s="";const o=Math.max(Math.round(e/a),2);for(let u=0;u<o;u++)s+=Math.round(n(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Ql=2e4;function Eh(n){let e=0;const a=50;let s=n.next(e);for(;!s.done&&e<Ql;)e+=a,s=n.next(e);return e>=Ql?1/0:e}function NE(n,e=100,a){const s=a({...n,keyframes:[0,e]}),o=Math.min(Eh(s),Ql);return{type:"keyframes",ease:u=>s.next(o*u).value/e,duration:pn(o)}}const kE=5;function eb(n,e,a){const s=Math.max(e-kE,0);return D_(a-n(s),e-s)}const tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qf=.001;function LE({duration:n=tt.duration,bounce:e=tt.bounce,velocity:a=tt.velocity,mass:s=tt.mass}){let o,u,c=1-e;c=Ln(tt.minDamping,tt.maxDamping,c),n=Ln(tt.minDuration,tt.maxDuration,pn(n)),c<1?(o=p=>{const v=p*c,f=v*n,g=v-a,_=xd(p,c),b=Math.exp(-f);return Qf-g/_*b},u=p=>{const f=p*c*n,g=f*a+a,_=Math.pow(c,2)*Math.pow(p,2)*n,b=Math.exp(-f),E=xd(Math.pow(p,2),c);return(-o(p)+Qf>0?-1:1)*((g-_)*b)/E}):(o=p=>{const v=Math.exp(-p*n),f=(p-a)*n+1;return-Qf+v*f},u=p=>{const v=Math.exp(-p*n),f=(a-p)*(n*n);return v*f});const m=5/n,h=BE(o,u,m);if(n=ni(n),isNaN(h))return{stiffness:tt.stiffness,damping:tt.damping,duration:n};{const p=Math.pow(h,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:n}}}const UE=12;function BE(n,e,a){let s=a;for(let o=1;o<UE;o++)s=s-n(s)/e(s);return s}function xd(n,e){return n*Math.sqrt(1-e*e)}const zE=["duration","bounce"],PE=["stiffness","damping","mass"];function gv(n,e){return e.some(a=>n[a]!==void 0)}function VE(n){let e={velocity:tt.velocity,stiffness:tt.stiffness,damping:tt.damping,mass:tt.mass,isResolvedFromDuration:!1,...n};if(!gv(n,PE)&&gv(n,zE))if(n.visualDuration){const a=n.visualDuration,s=2*Math.PI/(a*1.2),o=s*s,u=2*Ln(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:tt.mass,stiffness:o,damping:u}}else{const a=LE(n);e={...e,...a,mass:tt.mass},e.isResolvedFromDuration=!0}return e}function Jl(n=tt.visualDuration,e=tt.bounce){const a=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:s,restDelta:o}=a;const u=a.keyframes[0],c=a.keyframes[a.keyframes.length-1],m={done:!1,value:u},{stiffness:h,damping:p,mass:v,duration:f,velocity:g,isResolvedFromDuration:_}=VE({...a,velocity:-pn(a.velocity||0)}),b=g||0,E=p/(2*Math.sqrt(h*v)),T=c-u,A=pn(Math.sqrt(h/v)),C=Math.abs(T)<5;s||(s=C?tt.restSpeed.granular:tt.restSpeed.default),o||(o=C?tt.restDelta.granular:tt.restDelta.default);let O;if(E<1){const H=xd(A,E);O=K=>{const G=Math.exp(-E*A*K);return c-G*((b+E*A*T)/H*Math.sin(H*K)+T*Math.cos(H*K))}}else if(E===1)O=H=>c-Math.exp(-A*H)*(T+(b+A*T)*H);else{const H=A*Math.sqrt(E*E-1);O=K=>{const G=Math.exp(-E*A*K),W=Math.min(H*K,300);return c-G*((b+E*A*T)*Math.sinh(W)+H*T*Math.cosh(W))/H}}const U={calculatedDuration:_&&f||null,next:H=>{const K=O(H);if(_)m.done=H>=f;else{let G=H===0?b:0;E<1&&(G=H===0?ni(b):eb(O,H,K));const W=Math.abs(G)<=s,J=Math.abs(c-K)<=o;m.done=W&&J}return m.value=m.done?c:K,m},toString:()=>{const H=Math.min(Eh(U),Ql),K=Z_(G=>U.next(H*G).value,H,30);return H+"ms "+K},toTransition:()=>{}};return U}Jl.applyToOptions=n=>{const e=NE(n,100,Jl);return n.ease=e.ease,n.duration=ni(e.duration),n.type="keyframes",n};function Td({keyframes:n,velocity:e=0,power:a=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:h,restDelta:p=.5,restSpeed:v}){const f=n[0],g={done:!1,value:f},_=W=>m!==void 0&&W<m||h!==void 0&&W>h,b=W=>m===void 0?h:h===void 0||Math.abs(m-W)<Math.abs(h-W)?m:h;let E=a*e;const T=f+E,A=c===void 0?T:c(T);A!==T&&(E=A-f);const C=W=>-E*Math.exp(-W/s),O=W=>A+C(W),U=W=>{const J=C(W),he=O(W);g.done=Math.abs(J)<=p,g.value=g.done?A:he};let H,K;const G=W=>{_(g.value)&&(H=W,K=Jl({keyframes:[g.value,b(g.value)],velocity:eb(O,W,g.value),damping:o,stiffness:u,restDelta:p,restSpeed:v}))};return G(0),{calculatedDuration:null,next:W=>{let J=!1;return!K&&H===void 0&&(J=!0,U(W),G(W)),H!==void 0&&W>=H?K.next(W-H):(!J&&U(W),g)}}}function HE(n,e,a){const s=[],o=a||ai.mix||J_,u=n.length-1;for(let c=0;c<u;c++){let m=o(n[c],n[c+1]);if(e){const h=Array.isArray(e)?e[c]||gn:e;m=ro(h,m)}s.push(m)}return s}function IE(n,e,{clamp:a=!0,ease:s,mixer:o}={}){const u=n.length;if(gh(u===e.length),u===1)return()=>e[0];if(u===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[u-1]&&(n=[...n].reverse(),e=[...e].reverse());const m=HE(e,s,o),h=m.length,p=v=>{if(c&&v<n[0])return e[0];let f=0;if(h>1)for(;f<n.length-2&&!(v<n[f+1]);f++);const g=qr(n[f],n[f+1],v);return m[f](g)};return a?v=>p(Ln(n[0],n[u-1],v)):p}function $E(n,e){const a=n[n.length-1];for(let s=1;s<=e;s++){const o=qr(0,e,s);n.push(We(a,1,o))}}function qE(n){const e=[0];return $E(e,n.length-1),e}function GE(n,e){return n.map(a=>a*e)}function FE(n,e){return n.map(()=>e||H_).splice(0,n.length-1)}function Br({duration:n=300,keyframes:e,times:a,ease:s="easeInOut"}){const o=iE(s)?s.map(cv):cv(s),u={done:!1,value:e[0]},c=GE(a&&a.length===e.length?a:qE(e),n),m=IE(c,e,{ease:Array.isArray(o)?o:FE(e,o)});return{calculatedDuration:n,next:h=>(u.value=m(h),u.done=h>=n,u)}}const KE=n=>n!==null;function Ah(n,{repeat:e,repeatType:a="loop"},s,o=1){const u=n.filter(KE),m=o<0||e&&a!=="loop"&&e%2===1?0:u.length-1;return!m||s===void 0?u[m]:s}const YE={decay:Td,inertia:Td,tween:Br,keyframes:Br,spring:Jl};function tb(n){typeof n.type=="string"&&(n.type=YE[n.type])}class Rh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,a){return this.finished.then(e,a)}}const XE=n=>n/100;class Ch extends Rh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==Mt.now()&&this.tick(Mt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;tb(e);const{type:a=Br,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=e;let{keyframes:m}=e;const h=a||Br;h!==Br&&typeof m[0]!="number"&&(this.mixKeyframes=ro(XE,J_(m[0],m[1])),m=[0,100]);const p=h({...e,keyframes:m});u==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...m].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Eh(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=p}updateTime(e){const a=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(e,a=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:f,repeatType:g,repeatDelay:_,type:b,onUpdate:E,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),a?this.currentTime=e:this.updateTime(e);const A=this.currentTime-p*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?A<0:A>o;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let O=this.currentTime,U=s;if(f){const W=Math.min(this.currentTime,o)/m;let J=Math.floor(W),he=W%1;!he&&W>=1&&(he=1),he===1&&J--,J=Math.min(J,f+1),J%2&&(g==="reverse"?(he=1-he,_&&(he-=_/m)):g==="mirror"&&(U=c)),O=Ln(0,1,he)*m}const H=C?{done:!1,value:v[0]}:U.next(O);u&&(H.value=u(H.value));let{done:K}=H;!C&&h!==null&&(K=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const G=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return G&&b!==Td&&(H.value=Ah(v,this.options,T,this.speed)),E&&E(H.value),G&&this.finish(),H}then(e,a){return this.finished.then(e,a)}get duration(){return pn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pn(e)}get time(){return pn(this.currentTime)}set time(e){e=ni(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Mt.now());const a=this.playbackSpeed!==e;this.playbackSpeed=e,a&&(this.time=pn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=DE,startTime:a}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=a??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function WE(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const ma=n=>n*180/Math.PI,Ed=n=>{const e=ma(Math.atan2(n[1],n[0]));return Ad(e)},QE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Ed,rotateZ:Ed,skewX:n=>ma(Math.atan(n[1])),skewY:n=>ma(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Ad=n=>(n=n%360,n<0&&(n+=360),n),yv=Ed,vv=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),_v=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),JE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vv,scaleY:_v,scale:n=>(vv(n)+_v(n))/2,rotateX:n=>Ad(ma(Math.atan2(n[6],n[5]))),rotateY:n=>Ad(ma(Math.atan2(-n[2],n[0]))),rotateZ:yv,rotate:yv,skewX:n=>ma(Math.atan(n[4])),skewY:n=>ma(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Rd(n){return n.includes("scale")?1:0}function Cd(n,e){if(!n||n==="none")return Rd(e);const a=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(a)s=JE,o=a;else{const m=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=QE,o=m}if(!o)return Rd(e);const u=s[e],c=o[1].split(",").map(eA);return typeof u=="function"?u(c):c[u]}const ZE=(n,e)=>{const{transform:a="none"}=getComputedStyle(n);return Cd(a,e)};function eA(n){return parseFloat(n.trim())}const Cs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Os=new Set(Cs),bv=n=>n===Rs||n===se,tA=new Set(["x","y","z"]),nA=Cs.filter(n=>!tA.has(n));function iA(n){const e=[];return nA.forEach(a=>{const s=n.getValue(a);s!==void 0&&(e.push([a,s.get()]),s.set(a.startsWith("scale")?1:0))}),e}const Li={width:({x:n},{paddingLeft:e="0",paddingRight:a="0"})=>n.max-n.min-parseFloat(e)-parseFloat(a),height:({y:n},{paddingTop:e="0",paddingBottom:a="0"})=>n.max-n.min-parseFloat(e)-parseFloat(a),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Cd(e,"x"),y:(n,{transform:e})=>Cd(e,"y")};Li.translateX=Li.x;Li.translateY=Li.y;const ga=new Set;let Od=!1,jd=!1,Md=!1;function nb(){if(jd){const n=Array.from(ga).filter(s=>s.needsMeasurement),e=new Set(n.map(s=>s.element)),a=new Map;e.forEach(s=>{const o=iA(s);o.length&&(a.set(s,o),s.render())}),n.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=a.get(s);o&&o.forEach(([u,c])=>{s.getValue(u)?.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}jd=!1,Od=!1,ga.forEach(n=>n.complete(Md)),ga.clear()}function ib(){ga.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(jd=!0)})}function aA(){Md=!0,ib(),nb(),Md=!1}class Oh{constructor(e,a,s,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=a,this.name=s,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ga.add(this),Od||(Od=!0,qe.read(ib),qe.resolveKeyframes(nb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:a,element:s,motionValue:o}=this;if(e[0]===null){const u=o?.get(),c=e[e.length-1];if(u!==void 0)e[0]=u;else if(s&&a){const m=s.readValue(a,c);m!=null&&(e[0]=m)}e[0]===void 0&&(e[0]=c),o&&u===void 0&&o.set(e[0])}WE(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ga.delete(this)}cancel(){this.state==="scheduled"&&(ga.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sA=n=>n.startsWith("--");function rA(n,e,a){sA(e)?n.style.setProperty(e,a):n.style[e]=a}const oA=yh(()=>window.ScrollTimeline!==void 0),lA={};function uA(n,e){const a=yh(n);return()=>lA[e]??a()}const ab=uA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nr=([n,e,a,s])=>`cubic-bezier(${n}, ${e}, ${a}, ${s})`,wv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nr([0,.65,.55,1]),circOut:Nr([.55,0,1,.45]),backIn:Nr([.31,.01,.66,-.59]),backOut:Nr([.33,1.53,.69,.99])};function sb(n,e){if(n)return typeof n=="function"?ab()?Z_(n,e):"ease-out":I_(n)?Nr(n):Array.isArray(n)?n.map(a=>sb(a,e)||wv.easeOut):wv[n]}function cA(n,e,a,{delay:s=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:h}={},p=void 0){const v={[e]:a};h&&(v.offset=h);const f=sb(m,o);Array.isArray(f)&&(v.easing=f);const g={delay:s,duration:o,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return p&&(g.pseudoElement=p),n.animate(v,g)}function rb(n){return typeof n=="function"&&"applyToOptions"in n}function fA({type:n,...e}){return rb(n)&&ab()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class dA extends Rh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:a,name:s,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:h}=e;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=e,gh(typeof e.type!="string");const p=fA(e);this.animation=cA(a,s,o,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const v=Ah(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(v):rA(a,s,v),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return pn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+pn(e)}get time(){return pn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ni(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&oA()?(this.animation.timeline=e,gn):a(this)}}const ob={anticipate:z_,backInOut:B_,circInOut:V_};function hA(n){return n in ob}function mA(n){typeof n.ease=="string"&&hA(n.ease)&&(n.ease=ob[n.ease])}const Jf=10;class pA extends dA{constructor(e){mA(e),tb(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:a,onUpdate:s,onComplete:o,element:u,...c}=this.options;if(!a)return;if(e!==void 0){a.set(e);return}const m=new Ch({...c,autoplay:!1}),h=Math.max(Jf,Mt.now()-this.startTime),p=Ln(0,Jf,h-Jf);a.setWithVelocity(m.sample(Math.max(0,h-p)).value,m.sample(h).value,p),m.stop()}}const Sv=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(zi.test(n)||n==="0")&&!n.startsWith("url("));function gA(n){const e=n[0];if(n.length===1)return!0;for(let a=0;a<n.length;a++)if(n[a]!==e)return!0}function yA(n,e,a,s){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const u=n[n.length-1],c=Sv(o,e),m=Sv(u,e);return!c||!m?!1:gA(n)||(a==="spring"||rb(a))&&s}function Dd(n){n.duration=0,n.type="keyframes"}const vA=new Set(["opacity","clipPath","filter","transform"]),_A=yh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bA(n){const{motionValue:e,name:a,repeatDelay:s,repeatType:o,damping:u,type:c}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return _A()&&a&&vA.has(a)&&(a!=="transform"||!p)&&!h&&!s&&o!=="mirror"&&u!==0&&c!=="inertia"}const wA=40;class SA extends Rh{constructor({autoplay:e=!0,delay:a=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:h,motionValue:p,element:v,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Mt.now();const g={autoplay:e,delay:a,type:s,repeat:o,repeatDelay:u,repeatType:c,name:h,motionValue:p,element:v,...f},_=v?.KeyframeResolver||Oh;this.keyframeResolver=new _(m,(b,E,T)=>this.onKeyframesResolved(b,E,g,!T),h,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,a,s,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:h,isHandoff:p,onUpdate:v}=s;this.resolvedAt=Mt.now(),yA(e,u,c,m)||((ai.instantAnimations||!h)&&v?.(Ah(e,s,a)),e[0]=e[e.length-1],Dd(s),s.repeat=0);const g={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>wA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...s,keyframes:e},_=!p&&bA(g),b=g.motionValue?.owner?.current,E=_?new pA({...g,element:b}):new Ch(g);E.finished.then(()=>{this.notifyFinished()}).catch(gn),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,a){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),aA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function lb(n,e,a,s=0,o=1){const u=Array.from(n).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=n.size,m=(c-1)*s;return typeof a=="function"?a(u,c):o===1?u*s:m-u*s}const xA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TA(n){const e=xA.exec(n);if(!e)return[,];const[,a,s,o]=e;return[`--${a??s}`,o]}function ub(n,e,a=1){const[s,o]=TA(n);if(!s)return;const u=window.getComputedStyle(e).getPropertyValue(s);if(u){const c=u.trim();return O_(c)?parseFloat(c):c}return wh(o)?ub(o,e,a+1):o}const EA={type:"spring",stiffness:500,damping:25,restSpeed:10},AA=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),RA={type:"keyframes",duration:.8},CA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OA=(n,{keyframes:e})=>e.length>2?RA:Os.has(n)?n.startsWith("scale")?AA(e[1]):EA:CA,jA=n=>n!==null;function MA(n,{repeat:e,repeatType:a="loop"},s){const o=n.filter(jA),u=e&&a!=="loop"&&e%2===1?0:o.length-1;return o[u]}function jh(n,e){return n?.[e]??n?.default??n}function DA({when:n,delay:e,delayChildren:a,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:h,elapsed:p,...v}){return!!Object.keys(v).length}const Mh=(n,e,a,s={},o,u)=>c=>{const m=jh(s,n)||{},h=m.delay||s.delay||0;let{elapsed:p=0}=s;p=p-ni(h);const v={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:e.getVelocity(),...m,delay:-p,onUpdate:g=>{e.set(g),m.onUpdate&&m.onUpdate(g)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:n,motionValue:e,element:u?void 0:o};DA(m)||Object.assign(v,OA(n,v)),v.duration&&(v.duration=ni(v.duration)),v.repeatDelay&&(v.repeatDelay=ni(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let f=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(Dd(v),v.delay===0&&(f=!0)),(ai.instantAnimations||ai.skipAnimations||o?.shouldSkipAnimations)&&(f=!0,Dd(v),v.delay=0),v.allowFlatten=!m.type&&!m.ease,f&&!u&&e.get()!==void 0){const g=MA(v.keyframes,m);if(g!==void 0){qe.update(()=>{v.onUpdate(g),v.onComplete()});return}}return m.isSync?new Ch(v):new SA(v)};function xv(n){const e=[{},{}];return n?.values.forEach((a,s)=>{e[0][s]=a.get(),e[1][s]=a.getVelocity()}),e}function Dh(n,e,a,s){if(typeof e=="function"){const[o,u]=xv(s);e=e(a!==void 0?a:n.custom,o,u)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,u]=xv(s);e=e(a!==void 0?a:n.custom,o,u)}return e}function ws(n,e,a){const s=n.getProps();return Dh(s,e,a!==void 0?a:s.custom,n)}const cb=new Set(["width","height","top","left","right","bottom",...Cs]),Tv=30,NA=n=>!isNaN(parseFloat(n));class kA{constructor(e,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=Mt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=a.owner}setCurrent(e){this.current=e,this.updatedAt=Mt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=NA(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,a){this.events[e]||(this.events[e]=new vh);const s=this.events[e].add(a);return e==="change"?()=>{s(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,a){this.passiveEffect=e,this.stopPassiveEffect=a}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,a,s){this.set(a),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,a=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Tv)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,Tv);return D_(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(e){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=e(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xs(n,e){return new kA(n,e)}const Nd=n=>Array.isArray(n);function LA(n,e,a){n.hasValue(e)?n.getValue(e).set(a):n.addValue(e,xs(a))}function UA(n){return Nd(n)?n[n.length-1]||0:n}function BA(n,e){const a=ws(n,e);let{transitionEnd:s={},transition:o={},...u}=a||{};u={...u,...s};for(const c in u){const m=UA(u[c]);LA(n,c,m)}}const Ct=n=>!!(n&&n.getVelocity);function zA(n){return!!(Ct(n)&&n.add)}function kd(n,e){const a=n.getValue("willChange");if(zA(a))return a.add(e);if(!a&&ai.WillChange){const s=new ai.WillChange("auto");n.addValue("willChange",s),s.add(e)}}function Nh(n){return n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const PA="framerAppearId",fb="data-"+Nh(PA);function db(n){return n.props[fb]}function VA({protectedKeys:n,needsAnimating:e},a){const s=n.hasOwnProperty(a)&&e[a]!==!0;return e[a]=!1,s}function hb(n,e,{delay:a=0,transitionOverride:s,type:o}={}){let{transition:u=n.getDefaultTransition(),transitionEnd:c,...m}=e;const h=u?.reduceMotion;s&&(u=s);const p=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const f in m){const g=n.getValue(f,n.latestValues[f]??null),_=m[f];if(_===void 0||v&&VA(v,f))continue;const b={delay:a,...jh(u||{},f)},E=g.get();if(E!==void 0&&!g.isAnimating&&!Array.isArray(_)&&_===E&&!b.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const O=db(n);if(O){const U=window.MotionHandoffAnimation(O,f,qe);U!==null&&(b.startTime=U,T=!0)}}kd(n,f);const A=h??n.shouldReduceMotion;g.start(Mh(f,g,_,A&&cb.has(f)?{type:!1}:b,n,T));const C=g.animation;C&&p.push(C)}return c&&Promise.all(p).then(()=>{qe.update(()=>{c&&BA(n,c)})}),p}function Ld(n,e,a={}){const s=ws(n,e,a.type==="exit"?n.presenceContext?.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=s||{};a.transitionOverride&&(o=a.transitionOverride);const u=s?()=>Promise.all(hb(n,s,a)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:f}=o;return HA(n,e,h,p,v,f,a)}:()=>Promise.resolve(),{when:m}=o;if(m){const[h,p]=m==="beforeChildren"?[u,c]:[c,u];return h().then(()=>p())}else return Promise.all([u(),c(a.delay)])}function HA(n,e,a=0,s=0,o=0,u=1,c){const m=[];for(const h of n.variantChildren)h.notify("AnimationStart",e),m.push(Ld(h,e,{...c,delay:a+(typeof s=="function"?0:s)+lb(n.variantChildren,h,s,o,u)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(m)}function IA(n,e,a={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(u=>Ld(n,u,a));s=Promise.all(o)}else if(typeof e=="string")s=Ld(n,e,a);else{const o=typeof e=="function"?ws(n,e,a.custom):e;s=Promise.all(hb(n,o,a))}return s.then(()=>{n.notify("AnimationComplete",e)})}const $A={test:n=>n==="auto",parse:n=>n},mb=n=>e=>e.test(n),pb=[Rs,se,kn,Di,gE,pE,$A],Ev=n=>pb.find(mb(n));function qA(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||M_(n):!0}const GA=new Set(["brightness","contrast","saturate","opacity"]);function FA(n){const[e,a]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=a.match(Sh)||[];if(!s)return n;const o=a.replace(s,"");let u=GA.has(e)?1:0;return s!==a&&(u*=100),e+"("+u+o+")"}const KA=/\b([a-z-]*)\(.*?\)/gu,Ud={...zi,getAnimatableNone:n=>{const e=n.match(KA);return e?e.map(FA).join(" "):n}},Av={...Rs,transform:Math.round},YA={rotate:Di,rotateX:Di,rotateY:Di,rotateZ:Di,scale:Nl,scaleX:Nl,scaleY:Nl,scaleZ:Nl,skew:Di,skewX:Di,skewY:Di,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:Gr,originX:dv,originY:dv,originZ:se},kh={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,top:se,right:se,bottom:se,left:se,inset:se,insetBlock:se,insetBlockStart:se,insetBlockEnd:se,insetInline:se,insetInlineStart:se,insetInlineEnd:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,paddingBlock:se,paddingBlockStart:se,paddingBlockEnd:se,paddingInline:se,paddingInlineStart:se,paddingInlineEnd:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,marginBlock:se,marginBlockStart:se,marginBlockEnd:se,marginInline:se,marginInlineStart:se,marginInlineEnd:se,fontSize:se,backgroundPositionX:se,backgroundPositionY:se,...YA,zIndex:Av,fillOpacity:Gr,strokeOpacity:Gr,numOctaves:Av},XA={...kh,color:ft,backgroundColor:ft,outlineColor:ft,fill:ft,stroke:ft,borderColor:ft,borderTopColor:ft,borderRightColor:ft,borderBottomColor:ft,borderLeftColor:ft,filter:Ud,WebkitFilter:Ud},gb=n=>XA[n];function yb(n,e){let a=gb(n);return a!==Ud&&(a=zi),a.getAnimatableNone?a.getAnimatableNone(e):void 0}const WA=new Set(["auto","none","0"]);function QA(n,e,a){let s=0,o;for(;s<n.length&&!o;){const u=n[s];typeof u=="string"&&!WA.has(u)&&Fr(u).values.length&&(o=n[s]),s++}if(o&&a)for(const u of e)n[u]=yb(a,o)}class JA extends Oh{constructor(e,a,s,o,u){super(e,a,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:a,name:s}=this;if(!a||!a.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let f=e[v];if(typeof f=="string"&&(f=f.trim(),wh(f))){const g=ub(f,a.current);g!==void 0&&(e[v]=g),v===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!cb.has(s)||e.length!==2)return;const[o,u]=e,c=Ev(o),m=Ev(u),h=fv(o),p=fv(u);if(h!==p&&Li[s]){this.needsMeasurement=!0;return}if(c!==m)if(bv(c)&&bv(m))for(let v=0;v<e.length;v++){const f=e[v];typeof f=="string"&&(e[v]=parseFloat(f))}else Li[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:a}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||qA(e[o]))&&s.push(o);s.length&&QA(e,s,a)}measureInitialState(){const{element:e,unresolvedKeyframes:a,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Li[s](e.measureViewportBox(),window.getComputedStyle(e.current)),a[0]=this.measuredOrigin;const o=a[a.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:a,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(a);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=Li[a](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,h])=>{e.getValue(m).set(h)}),this.resolveNoneKeyframes()}}function ZA(n,e,a){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const o=a?.[n]??s.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n).filter(s=>s!=null)}const vb=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Bd(n){return j_(n)&&"offsetHeight"in n}const{schedule:Lh}=$_(queueMicrotask,!1),Tn={x:!1,y:!1};function _b(){return Tn.x||Tn.y}function eR(n){return n==="x"||n==="y"?Tn[n]?null:(Tn[n]=!0,()=>{Tn[n]=!1}):Tn.x||Tn.y?null:(Tn.x=Tn.y=!0,()=>{Tn.x=Tn.y=!1})}function bb(n,e){const a=ZA(n),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[a,o,()=>s.abort()]}function Rv(n){return!(n.pointerType==="touch"||_b())}function tR(n,e,a={}){const[s,o,u]=bb(n,a),c=m=>{if(!Rv(m))return;const{target:h}=m,p=e(h,m);if(typeof p!="function"||!h)return;const v=f=>{Rv(f)&&(p(f),h.removeEventListener("pointerleave",v))};h.addEventListener("pointerleave",v,o)};return s.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const wb=(n,e)=>e?n===e?!0:wb(n,e.parentElement):!1,Uh=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,nR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iR(n){return nR.has(n.tagName)||n.isContentEditable===!0}const aR=new Set(["INPUT","SELECT","TEXTAREA"]);function sR(n){return aR.has(n.tagName)||n.isContentEditable===!0}const Fl=new WeakSet;function Cv(n){return e=>{e.key==="Enter"&&n(e)}}function Zf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rR=(n,e)=>{const a=n.currentTarget;if(!a)return;const s=Cv(()=>{if(Fl.has(a))return;Zf(a,"down");const o=Cv(()=>{Zf(a,"up")}),u=()=>Zf(a,"cancel");a.addEventListener("keyup",o,e),a.addEventListener("blur",u,e)});a.addEventListener("keydown",s,e),a.addEventListener("blur",()=>a.removeEventListener("keydown",s),e)};function Ov(n){return Uh(n)&&!_b()}function oR(n,e,a={}){const[s,o,u]=bb(n,a),c=m=>{const h=m.currentTarget;if(!Ov(m))return;Fl.add(h);const p=e(h,m),v=(_,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),Fl.has(h)&&Fl.delete(h),Ov(_)&&typeof p=="function"&&p(_,{success:b})},f=_=>{v(_,h===window||h===document||a.useGlobalTarget||wb(h,_.target))},g=_=>{v(_,!1)};window.addEventListener("pointerup",f,o),window.addEventListener("pointercancel",g,o)};return s.forEach(m=>{(a.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),Bd(m)&&(m.addEventListener("focus",p=>rR(p,o)),!iR(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function Sb(n){return j_(n)&&"ownerSVGElement"in n}function lR(n){return Sb(n)&&n.tagName==="svg"}const uR=[...pb,ft,zi],cR=n=>uR.find(mb(n)),jv=()=>({translate:0,scale:1,origin:0,originPoint:0}),gs=()=>({x:jv(),y:jv()}),Mv=()=>({min:0,max:0}),mt=()=>({x:Mv(),y:Mv()}),zd={current:null},xb={current:!1},fR=typeof window<"u";function dR(){if(xb.current=!0,!!fR)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>zd.current=n.matches;n.addEventListener("change",e),e()}else zd.current=!1}const hR=new WeakMap;function du(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Kr(n){return typeof n=="string"||Array.isArray(n)}const Bh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zh=["initial",...Bh];function hu(n){return du(n.animate)||zh.some(e=>Kr(n[e]))}function Tb(n){return!!(hu(n)||n.variants)}function mR(n,e,a){for(const s in e){const o=e[s],u=a[s];if(Ct(o))n.addValue(s,o);else if(Ct(u))n.addValue(s,xs(o,{owner:n}));else if(u!==o)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(s);n.addValue(s,xs(c!==void 0?c:o,{owner:n}))}}for(const s in a)e[s]===void 0&&n.removeValue(s);return e}const Dv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Zl={};function Eb(n){Zl=n}function pR(){return Zl}class gR{scrapeMotionValuesFromProps(e,a,s){return{}}constructor({parent:e,props:a,presenceContext:s,reducedMotionConfig:o,skipAnimations:u,blockInitialAnimation:c,visualState:m},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Oh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Mt.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,qe.render(this.render,!1,!0))};const{latestValues:p,renderState:v}=m;this.latestValues=p,this.baseTarget={...p},this.initialValues=a.initial?{...p}:{},this.renderState=v,this.parent=e,this.props=a,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.skipAnimationsConfig=u,this.options=h,this.blockInitialAnimation=!!c,this.isControllingVariants=hu(a),this.isVariantNode=Tb(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(a,{},this);for(const _ in g){const b=g[_];p[_]!==void 0&&Ct(b)&&b.set(p[_])}}mount(e){this.current=e,hR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,s)=>this.bindToMotionValue(s,a)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(xb.current||dR(),this.shouldReduceMotion=zd.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Bi(this.notifyUpdate),Bi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const a=this.features[e];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,a){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Os.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=a.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&qe.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,a)),this.valueSubscriptions.set(e,()=>{o(),u&&u(),a.owner&&a.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zl){const a=Zl[e];if(!a)continue;const{isEnabled:s,Feature:o}=a;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,a){this.latestValues[e]=a}update(e,a){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let s=0;s<Dv.length;s++){const o=Dv[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=e[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=mR(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(e),()=>a.variantChildren.delete(e)}addValue(e,a){const s=this.values.get(e);a!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,a),this.values.set(e,a),this.latestValues[e]=a.get())}removeValue(e){this.values.delete(e);const a=this.valueSubscriptions.get(e);a&&(a(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,a){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&a!==void 0&&(s=xs(a===null?void 0:a,{owner:this}),this.addValue(e,s)),s}readValue(e,a){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(O_(s)||M_(s))?s=parseFloat(s):!cR(s)&&zi.test(a)&&(s=yb(e,a)),this.setBaseTarget(e,Ct(s)?s.get():s)),Ct(s)?s.get():s}setBaseTarget(e,a){this.baseTarget[e]=a}getBaseTarget(e){const{initial:a}=this.props;let s;if(typeof a=="string"||typeof a=="object"){const u=Dh(this.props,a,this.presenceContext?.custom);u&&(s=u[e])}if(a&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Ct(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,a){return this.events[e]||(this.events[e]=new vh),this.events[e].add(a)}notify(e,...a){this.events[e]&&this.events[e].notify(...a)}scheduleRenderMicrotask(){Lh.render(this.render)}}class Ab extends gR{constructor(){super(...arguments),this.KeyframeResolver=JA}sortInstanceNodePosition(e,a){return e.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(e,a){const s=e.style;return s?s[a]:void 0}removeValueFromRenderState(e,{vars:a,style:s}){delete a[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ct(e)&&(this.childSubscription=e.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}class Vi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Rb({top:n,left:e,right:a,bottom:s}){return{x:{min:e,max:a},y:{min:n,max:s}}}function yR({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function vR(n,e){if(!e)return n;const a=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:a.y,left:a.x,bottom:s.y,right:s.x}}function ed(n){return n===void 0||n===1}function Pd({scale:n,scaleX:e,scaleY:a}){return!ed(n)||!ed(e)||!ed(a)}function ua(n){return Pd(n)||Cb(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Cb(n){return Nv(n.x)||Nv(n.y)}function Nv(n){return n&&n!=="0%"}function eu(n,e,a){const s=n-a,o=e*s;return a+o}function kv(n,e,a,s,o){return o!==void 0&&(n=eu(n,o,s)),eu(n,a,s)+e}function Vd(n,e=0,a=1,s,o){n.min=kv(n.min,e,a,s,o),n.max=kv(n.max,e,a,s,o)}function Ob(n,{x:e,y:a}){Vd(n.x,e.translate,e.scale,e.originPoint),Vd(n.y,a.translate,a.scale,a.originPoint)}const Lv=.999999999999,Uv=1.0000000000001;function _R(n,e,a,s=!1){const o=a.length;if(!o)return;e.x=e.y=1;let u,c;for(let m=0;m<o;m++){u=a[m],c=u.projectionDelta;const{visualElement:h}=u.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&vs(n,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Ob(n,c)),s&&ua(u.latestValues)&&vs(n,u.latestValues))}e.x<Uv&&e.x>Lv&&(e.x=1),e.y<Uv&&e.y>Lv&&(e.y=1)}function ys(n,e){n.min=n.min+e,n.max=n.max+e}function Bv(n,e,a,s,o=.5){const u=We(n.min,n.max,o);Vd(n,e,a,u,s)}function vs(n,e){Bv(n.x,e.x,e.scaleX,e.scale,e.originX),Bv(n.y,e.y,e.scaleY,e.scale,e.originY)}function jb(n,e){return Rb(vR(n.getBoundingClientRect(),e))}function bR(n,e,a){const s=jb(n,a),{scroll:o}=e;return o&&(ys(s.x,o.offset.x),ys(s.y,o.offset.y)),s}const wR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SR=Cs.length;function xR(n,e,a){let s="",o=!0;for(let u=0;u<SR;u++){const c=Cs[u],m=n[c];if(m===void 0)continue;let h=!0;if(typeof m=="number")h=m===(c.startsWith("scale")?1:0);else{const p=parseFloat(m);h=c.startsWith("scale")?p===1:p===0}if(!h||a){const p=vb(m,kh[c]);if(!h){o=!1;const v=wR[c]||c;s+=`${v}(${p}) `}a&&(e[c]=p)}}return s=s.trim(),a?s=a(e,o?"":s):o&&(s="none"),s}function Ph(n,e,a){const{style:s,vars:o,transformOrigin:u}=n;let c=!1,m=!1;for(const h in e){const p=e[h];if(Os.has(h)){c=!0;continue}else if(G_(h)){o[h]=p;continue}else{const v=vb(p,kh[h]);h.startsWith("origin")?(m=!0,u[h]=v):s[h]=v}}if(e.transform||(c||a?s.transform=xR(e,n.transform,a):s.transform&&(s.transform="none")),m){const{originX:h="50%",originY:p="50%",originZ:v=0}=u;s.transformOrigin=`${h} ${p} ${v}`}}function Mb(n,{style:e,vars:a},s,o){const u=n.style;let c;for(c in e)u[c]=e[c];o?.applyProjectionStyles(u,s);for(c in a)u.setProperty(c,a[c])}function zv(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const jr={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(se.test(n))n=parseFloat(n);else return n;const a=zv(n,e.target.x),s=zv(n,e.target.y);return`${a}% ${s}%`}},TR={correct:(n,{treeScale:e,projectionDelta:a})=>{const s=n,o=zi.parse(n);if(o.length>5)return s;const u=zi.createTransformer(n),c=typeof o[0]!="number"?1:0,m=a.x.scale*e.x,h=a.y.scale*e.y;o[0+c]/=m,o[1+c]/=h;const p=We(m,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),u(o)}},Hd={borderRadius:{...jr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jr,borderTopRightRadius:jr,borderBottomLeftRadius:jr,borderBottomRightRadius:jr,boxShadow:TR};function Db(n,{layout:e,layoutId:a}){return Os.has(n)||n.startsWith("origin")||(e||a!==void 0)&&(!!Hd[n]||n==="opacity")}function Vh(n,e,a){const s=n.style,o=e?.style,u={};if(!s)return u;for(const c in s)(Ct(s[c])||o&&Ct(o[c])||Db(c,n)||a?.getValue(c)?.liveStyle!==void 0)&&(u[c]=s[c]);return u}function ER(n){return window.getComputedStyle(n)}class AR extends Ab{constructor(){super(...arguments),this.type="html",this.renderInstance=Mb}readValueFromInstance(e,a){if(Os.has(a))return this.projection?.isProjecting?Rd(a):ZE(e,a);{const s=ER(e),o=(G_(a)?s.getPropertyValue(a):s[a])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:a}){return jb(e,a)}build(e,a,s){Ph(e,a,s.transformTemplate)}scrapeMotionValuesFromProps(e,a,s){return Vh(e,a,s)}}const RR={offset:"stroke-dashoffset",array:"stroke-dasharray"},CR={offset:"strokeDashoffset",array:"strokeDasharray"};function OR(n,e,a=1,s=0,o=!0){n.pathLength=1;const u=o?RR:CR;n[u.offset]=`${-s}`,n[u.array]=`${e} ${a}`}const jR=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Nb(n,{attrX:e,attrY:a,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},h,p,v){if(Ph(n,m,p),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:f,style:g}=n;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=v?.transformBox??"fill-box",delete f.transformBox);for(const _ of jR)f[_]!==void 0&&(g[_]=f[_],delete f[_]);e!==void 0&&(f.x=e),a!==void 0&&(f.y=a),s!==void 0&&(f.scale=s),o!==void 0&&OR(f,o,u,c,!1)}const kb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Lb=n=>typeof n=="string"&&n.toLowerCase()==="svg";function MR(n,e,a,s){Mb(n,e,void 0,s);for(const o in e.attrs)n.setAttribute(kb.has(o)?o:Nh(o),e.attrs[o])}function Ub(n,e,a){const s=Vh(n,e,a);for(const o in n)if(Ct(n[o])||Ct(e[o])){const u=Cs.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=n[o]}return s}class DR extends Ab{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mt}getBaseTargetFromProps(e,a){return e[a]}readValueFromInstance(e,a){if(Os.has(a)){const s=gb(a);return s&&s.default||0}return a=kb.has(a)?a:Nh(a),e.getAttribute(a)}scrapeMotionValuesFromProps(e,a,s){return Ub(e,a,s)}build(e,a,s){Nb(e,a,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,a,s,o){MR(e,a,s,o)}mount(e){this.isSVGTag=Lb(e.tagName),super.mount(e)}}const NR=zh.length;function Bb(n){if(!n)return;if(!n.isControllingVariants){const a=n.parent?Bb(n.parent)||{}:{};return n.props.initial!==void 0&&(a.initial=n.props.initial),a}const e={};for(let a=0;a<NR;a++){const s=zh[a],o=n.props[s];(Kr(o)||o===!1)&&(e[s]=o)}return e}function zb(n,e){if(!Array.isArray(e))return!1;const a=e.length;if(a!==n.length)return!1;for(let s=0;s<a;s++)if(e[s]!==n[s])return!1;return!0}const kR=[...Bh].reverse(),LR=Bh.length;function UR(n){return e=>Promise.all(e.map(({animation:a,options:s})=>IA(n,a,s)))}function BR(n){let e=UR(n),a=Pv(),s=!0;const o=h=>(p,v)=>{const f=ws(n,v,h==="exit"?n.presenceContext?.custom:void 0);if(f){const{transition:g,transitionEnd:_,...b}=f;p={...p,...b,..._}}return p};function u(h){e=h(n)}function c(h){const{props:p}=n,v=Bb(n.parent)||{},f=[],g=new Set;let _={},b=1/0;for(let T=0;T<LR;T++){const A=kR[T],C=a[A],O=p[A]!==void 0?p[A]:v[A],U=Kr(O),H=A===h?C.isActive:null;H===!1&&(b=T);let K=O===v[A]&&O!==p[A]&&U;if(K&&s&&n.manuallyAnimateOnMount&&(K=!1),C.protectedKeys={..._},!C.isActive&&H===null||!O&&!C.prevProp||du(O)||typeof O=="boolean")continue;const G=zR(C.prevProp,O);let W=G||A===h&&C.isActive&&!K&&U||T>b&&U,J=!1;const he=Array.isArray(O)?O:[O];let ee=he.reduce(o(A),{});H===!1&&(ee={});const{prevResolvedValues:ge={}}=C,ke={...ge,...ee},be=Q=>{W=!0,g.has(Q)&&(J=!0,g.delete(Q)),C.needsAnimating[Q]=!0;const ie=n.getValue(Q);ie&&(ie.liveStyle=!1)};for(const Q in ke){const ie=ee[Q],ve=ge[Q];if(_.hasOwnProperty(Q))continue;let k=!1;Nd(ie)&&Nd(ve)?k=!zb(ie,ve):k=ie!==ve,k?ie!=null?be(Q):g.add(Q):ie!==void 0&&g.has(Q)?be(Q):C.protectedKeys[Q]=!0}C.prevProp=O,C.prevResolvedValues=ee,C.isActive&&(_={..._,...ee}),s&&n.blockInitialAnimation&&(W=!1);const Ce=K&&G;W&&(!Ce||J)&&f.push(...he.map(Q=>{const ie={type:A};if(typeof Q=="string"&&s&&!Ce&&n.manuallyAnimateOnMount&&n.parent){const{parent:ve}=n,k=ws(ve,Q);if(ve.enteringChildren&&k){const{delayChildren:x}=k.transition||{};ie.delay=lb(ve.enteringChildren,n,x)}}return{animation:Q,options:ie}}))}if(g.size){const T={};if(typeof p.initial!="boolean"){const A=ws(n,Array.isArray(p.initial)?p.initial[0]:p.initial);A&&A.transition&&(T.transition=A.transition)}g.forEach(A=>{const C=n.getBaseTarget(A),O=n.getValue(A);O&&(O.liveStyle=!0),T[A]=C??null}),f.push({animation:T})}let E=!!f.length;return s&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(E=!1),s=!1,E?e(f):Promise.resolve()}function m(h,p){if(a[h].isActive===p)return Promise.resolve();n.variantChildren?.forEach(f=>f.animationState?.setActive(h,p)),a[h].isActive=p;const v=c(h);for(const f in a)a[f].protectedKeys={};return v}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>a,reset:()=>{a=Pv()}}}function zR(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!zb(e,n):!1}function ra(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pv(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}function Vv(n,e){n.min=e.min,n.max=e.max}function Sn(n,e){Vv(n.x,e.x),Vv(n.y,e.y)}function Hv(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}const Pb=1e-4,PR=1-Pb,VR=1+Pb,Vb=.01,HR=0-Vb,IR=0+Vb;function Dt(n){return n.max-n.min}function $R(n,e,a){return Math.abs(n-e)<=a}function Iv(n,e,a,s=.5){n.origin=s,n.originPoint=We(e.min,e.max,n.origin),n.scale=Dt(a)/Dt(e),n.translate=We(a.min,a.max,n.origin)-n.originPoint,(n.scale>=PR&&n.scale<=VR||isNaN(n.scale))&&(n.scale=1),(n.translate>=HR&&n.translate<=IR||isNaN(n.translate))&&(n.translate=0)}function zr(n,e,a,s){Iv(n.x,e.x,a.x,s?s.originX:void 0),Iv(n.y,e.y,a.y,s?s.originY:void 0)}function $v(n,e,a){n.min=a.min+e.min,n.max=n.min+Dt(e)}function qR(n,e,a){$v(n.x,e.x,a.x),$v(n.y,e.y,a.y)}function qv(n,e,a){n.min=e.min-a.min,n.max=n.min+Dt(e)}function tu(n,e,a){qv(n.x,e.x,a.x),qv(n.y,e.y,a.y)}function Gv(n,e,a,s,o){return n-=e,n=eu(n,1/a,s),o!==void 0&&(n=eu(n,1/o,s)),n}function GR(n,e=0,a=1,s=.5,o,u=n,c=n){if(kn.test(e)&&(e=parseFloat(e),e=We(c.min,c.max,e/100)-c.min),typeof e!="number")return;let m=We(u.min,u.max,s);n===u&&(m-=e),n.min=Gv(n.min,e,a,m,o),n.max=Gv(n.max,e,a,m,o)}function Fv(n,e,[a,s,o],u,c){GR(n,e[a],e[s],e[o],e.scale,u,c)}const FR=["x","scaleX","originX"],KR=["y","scaleY","originY"];function Kv(n,e,a,s){Fv(n.x,e,FR,a?a.x:void 0,s?s.x:void 0),Fv(n.y,e,KR,a?a.y:void 0,s?s.y:void 0)}function Yv(n){return n.translate===0&&n.scale===1}function Hb(n){return Yv(n.x)&&Yv(n.y)}function Xv(n,e){return n.min===e.min&&n.max===e.max}function YR(n,e){return Xv(n.x,e.x)&&Xv(n.y,e.y)}function Wv(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Ib(n,e){return Wv(n.x,e.x)&&Wv(n.y,e.y)}function Qv(n){return Dt(n.x)/Dt(n.y)}function Jv(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}function mn(n){return[n("x"),n("y")]}function XR(n,e,a){let s="";const o=n.x.translate/e.x,u=n.y.translate/e.y,c=a?.z||0;if((o||u||c)&&(s=`translate3d(${o}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),a){const{transformPerspective:p,rotate:v,rotateX:f,rotateY:g,skewX:_,skewY:b}=a;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),f&&(s+=`rotateX(${f}deg) `),g&&(s+=`rotateY(${g}deg) `),_&&(s+=`skewX(${_}deg) `),b&&(s+=`skewY(${b}deg) `)}const m=n.x.scale*e.x,h=n.y.scale*e.y;return(m!==1||h!==1)&&(s+=`scale(${m}, ${h})`),s||"none"}const $b=["TopLeft","TopRight","BottomLeft","BottomRight"],WR=$b.length,Zv=n=>typeof n=="string"?parseFloat(n):n,e0=n=>typeof n=="number"||se.test(n);function QR(n,e,a,s,o,u){o?(n.opacity=We(0,a.opacity??1,JR(s)),n.opacityExit=We(e.opacity??1,0,ZR(s))):u&&(n.opacity=We(e.opacity??1,a.opacity??1,s));for(let c=0;c<WR;c++){const m=`border${$b[c]}Radius`;let h=t0(e,m),p=t0(a,m);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||e0(h)===e0(p)?(n[m]=Math.max(We(Zv(h),Zv(p),s),0),(kn.test(p)||kn.test(h))&&(n[m]+="%")):n[m]=p}(e.rotate||a.rotate)&&(n.rotate=We(e.rotate||0,a.rotate||0,s))}function t0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const JR=qb(0,.5,P_),ZR=qb(.5,.95,gn);function qb(n,e,a){return s=>s<n?0:s>e?1:a(qr(n,e,s))}function eC(n,e,a){const s=Ct(n)?n:xs(n);return s.start(Mh("",s,e,a)),s.animation}function Yr(n,e,a,s={passive:!0}){return n.addEventListener(e,a,s),()=>n.removeEventListener(e,a)}const tC=(n,e)=>n.depth-e.depth;class nC{constructor(){this.children=[],this.isDirty=!1}add(e){mh(this.children,e),this.isDirty=!0}remove(e){ph(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tC),this.isDirty=!1,this.children.forEach(e)}}function iC(n,e){const a=Mt.now(),s=({timestamp:o})=>{const u=o-a;u>=e&&(Bi(s),n(u-e))};return qe.setup(s,!0),()=>Bi(s)}function Kl(n){return Ct(n)?n.get():n}class aC{constructor(){this.members=[]}add(e){mh(this.members,e),e.scheduleRender()}remove(e){if(ph(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(e){const a=this.members.findIndex(o=>e===o);if(a===0)return!1;let s;for(let o=a;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(e,a){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const o=s.options.layoutDependency,u=e.options.layoutDependency;o!==void 0&&u!==void 0&&o===u||(e.resumeFrom=s,a&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:m}=e.options;m===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:a,resumingFrom:s}=e;a.onExitComplete&&a.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Yl={hasAnimatedSinceResize:!0,hasEverUpdated:!1},td=["","X","Y","Z"],sC=1e3;let rC=0;function nd(n,e,a,s){const{latestValues:o}=e;o[n]&&(a[n]=o[n],e.setStaticValue(n,0),s&&(s[n]=0))}function Gb(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const a=db(e);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:o,layoutId:u}=n.options;window.MotionCancelOptimisedAnimation(a,"transform",qe,!(o||u))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&Gb(s)}function Fb({attachResizeListener:n,defaultParent:e,measureScroll:a,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},m=e?.()){this.id=rC++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uC),this.nodes.forEach(hC),this.nodes.forEach(mC),this.nodes.forEach(cC)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new nC)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new vh),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const h=this.eventHandlers.get(c);h&&h.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Sb(c)&&!lR(c),this.instance=c;const{layoutId:m,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||m)&&(this.isLayoutDirty=!0),n){let v,f=0;const g=()=>this.root.updateBlockedByResize=!1;qe.read(()=>{f=window.innerWidth}),n(c,()=>{const _=window.innerWidth;_!==f&&(f=_,this.root.updateBlockedByResize=!0,v&&v(),v=iC(g,250),Yl.hasAnimatedSinceResize&&(Yl.hasAnimatedSinceResize=!1,this.nodes.forEach(a0)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&p&&(m||h)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||p.getDefaultTransition()||_C,{onLayoutAnimationStart:E,onLayoutAnimationComplete:T}=p.getProps(),A=!this.targetLayout||!Ib(this.targetLayout,_),C=!f&&g;if(this.options.layoutRoot||this.resumeFrom||C||f&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...jh(b,"layout"),onPlay:E,onComplete:T};(p.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(v,C)}else f||a0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pC),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Gb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const f=this.path[v];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:m,layout:h}=this.options;if(m===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(i0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dC),this.nodes.forEach(oC),this.nodes.forEach(lC)):this.nodes.forEach(i0),this.clearAllSnapshots();const m=Mt.now();Et.delta=Ln(0,1e3/60,m-Et.timestamp),Et.timestamp=m,Et.isProcessing=!0,Kf.update.process(Et),Kf.preRender.process(Et),Kf.render.process(Et),Et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fC),this.sharedNodes.forEach(gC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dt(this.snapshot.measuredBox.x)&&!Dt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Hb(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(m||ua(this.latestValues)||v)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let h=this.removeElementScroll(m);return c&&(h=this.removeTransform(h)),bC(h),{animationId:this.root.animationId,measuredBox:m,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return mt();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(wC))){const{scroll:p}=this.root;p&&(ys(m.x,p.offset.x),ys(m.y,p.offset.y))}return m}removeElementScroll(c){const m=mt();if(Sn(m,c),this.scroll?.wasRoot)return m;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:v,options:f}=p;p!==this.root&&v&&f.layoutScroll&&(v.wasRoot&&Sn(m,c),ys(m.x,v.offset.x),ys(m.y,v.offset.y))}return m}applyTransform(c,m=!1){const h=mt();Sn(h,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&vs(h,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ua(v.latestValues)&&vs(h,v.latestValues)}return ua(this.latestValues)&&vs(h,this.latestValues),h}removeTransform(c){const m=mt();Sn(m,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!ua(p.latestValues))continue;Pd(p.latestValues)&&p.updateSnapshot();const v=mt(),f=p.measurePageBox();Sn(v,f),Kv(m,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return ua(this.latestValues)&&Kv(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==m;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:f}=this.options;if(!this.layout||!(v||f))return;this.resolvedRelativeTargetAt=Et.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sn(this.target,this.layout.layoutBox),Ob(this.target,this.targetDelta)):Sn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Pd(this.parent.latestValues)||Cb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,m,h){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),tu(this.relativeTargetOrigin,m,h),Sn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Et.timestamp&&(h=!1),h)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Sn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;_R(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=mt());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hv(this.prevProjectionDelta.x,this.projectionDelta.x),Hv(this.prevProjectionDelta.y,this.projectionDelta.y)),zr(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!Jv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Jv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gs(),this.projectionDelta=gs(),this.projectionDeltaWithTransform=gs()}setAnimationOrigin(c,m=!1){const h=this.snapshot,p=h?h.latestValues:{},v={...this.latestValues},f=gs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const g=mt(),_=h?h.source:void 0,b=this.layout?this.layout.source:void 0,E=_!==b,T=this.getStack(),A=!T||T.members.length<=1,C=!!(E&&!A&&this.options.crossfade===!0&&!this.path.some(vC));this.animationProgress=0;let O;this.mixTargetDelta=U=>{const H=U/1e3;s0(f.x,c.x,H),s0(f.y,c.y,H),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tu(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yC(this.relativeTarget,this.relativeTargetOrigin,g,H),O&&YR(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=mt()),Sn(O,this.relativeTarget)),E&&(this.animationValues=v,QR(v,p,this.latestValues,H,C,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Bi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{Yl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xs(0)),this.currentAnimation=eC(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:h,layout:p,latestValues:v}=c;if(!(!m||!h||!p)){if(this!==c&&this.layout&&p&&Kb(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||mt();const f=Dt(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+f;const g=Dt(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+g}Sn(m,h),vs(m,v),zr(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new aC),this.sharedNodes.get(c).add(m);const p=m.options.initialPromotionConfig;m.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(m=!0),!m)return;const p={};h.z&&nd("z",c,p,this.animationValues);for(let v=0;v<td.length;v++)nd(`rotate${td[v]}`,c,p,this.animationValues),nd(`skew${td[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Kl(m?.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Kl(m?.pointerEvents)||""),this.hasProjected&&!ua(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let f=XR(this.projectionDeltaWithTransform,this.treeScale,v);h&&(f=h(v,f)),c.transform=f;const{x:g,y:_}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${_.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const b in Hd){if(v[b]===void 0)continue;const{correct:E,applyTo:T,isCSSVariable:A}=Hd[b],C=f==="none"?v[b]:E(v[b],p);if(T){const O=T.length;for(let U=0;U<O;U++)c[T[U]]=C}else A?this.options.visualElement.renderState.vars[b]=C:c[b]=C}this.options.layoutId&&(c.pointerEvents=p===this?Kl(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(n0),this.root.sharedNodes.clear()}}}function oC(n){n.updateLayout()}function lC(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=n.layout,{animationType:o}=n.options,u=e.source!==n.layout.source;o==="size"?mn(v=>{const f=u?e.measuredBox[v]:e.layoutBox[v],g=Dt(f);f.min=a[v].min,f.max=f.min+g}):Kb(o,e.layoutBox,a)&&mn(v=>{const f=u?e.measuredBox[v]:e.layoutBox[v],g=Dt(a[v]);f.max=f.min+g,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+g)});const c=gs();zr(c,a,e.layoutBox);const m=gs();u?zr(m,n.applyTransform(s,!0),e.measuredBox):zr(m,a,e.layoutBox);const h=!Hb(c);let p=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:f,layout:g}=v;if(f&&g){const _=mt();tu(_,e.layoutBox,f.layoutBox);const b=mt();tu(b,a,g.layoutBox),Ib(_,b)||(p=!0),v.options.layoutRoot&&(n.relativeTarget=b,n.relativeTargetOrigin=_,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:a,snapshot:e,delta:m,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:a}=n.options;a&&a()}n.options.transition=void 0}function uC(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function cC(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function fC(n){n.clearSnapshot()}function n0(n){n.clearMeasurements()}function i0(n){n.isLayoutDirty=!1}function dC(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function a0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function hC(n){n.resolveTargetDelta()}function mC(n){n.calcProjection()}function pC(n){n.resetSkewAndRotation()}function gC(n){n.removeLeadSnapshot()}function s0(n,e,a){n.translate=We(e.translate,0,a),n.scale=We(e.scale,1,a),n.origin=e.origin,n.originPoint=e.originPoint}function r0(n,e,a,s){n.min=We(e.min,a.min,s),n.max=We(e.max,a.max,s)}function yC(n,e,a,s){r0(n.x,e.x,a.x,s),r0(n.y,e.y,a.y,s)}function vC(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const _C={duration:.45,ease:[.4,0,.1,1]},o0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),l0=o0("applewebkit/")&&!o0("chrome/")?Math.round:gn;function u0(n){n.min=l0(n.min),n.max=l0(n.max)}function bC(n){u0(n.x),u0(n.y)}function Kb(n,e,a){return n==="position"||n==="preserve-aspect"&&!$R(Qv(e),Qv(a),.2)}function wC(n){return n!==n.root&&n.scroll?.wasRoot}const SC=Fb({attachResizeListener:(n,e)=>Yr(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),id={current:void 0},Yb=Fb({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!id.current){const n=new SC({});n.mount(window),n.setOptions({layoutScroll:!0}),id.current=n}return id.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Hh=j.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function c0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function xC(...n){return e=>{let a=!1;const s=n.map(o=>{const u=c0(o,e);return!a&&typeof u=="function"&&(a=!0),u});if(a)return()=>{for(let o=0;o<s.length;o++){const u=s[o];typeof u=="function"?u():c0(n[o],null)}}}}function TC(...n){return j.useCallback(xC(...n),n)}class EC extends j.Component{getSnapshotBeforeUpdate(e){const a=this.props.childRef.current;if(a&&e.isPresent&&!this.props.isPresent){const s=a.offsetParent,o=Bd(s)&&s.offsetWidth||0,u=Bd(s)&&s.offsetHeight||0,c=this.props.sizeRef.current;c.height=a.offsetHeight||0,c.width=a.offsetWidth||0,c.top=a.offsetTop,c.left=a.offsetLeft,c.right=o-c.width-c.left,c.bottom=u-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function AC({children:n,isPresent:e,anchorX:a,anchorY:s,root:o}){const u=j.useId(),c=j.useRef(null),m=j.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=j.useContext(Hh),p=n.props?.ref??n?.ref,v=TC(c,p);return j.useInsertionEffect(()=>{const{width:f,height:g,top:_,left:b,right:E,bottom:T}=m.current;if(e||!c.current||!f||!g)return;const A=a==="left"?`left: ${b}`:`right: ${E}`,C=s==="bottom"?`bottom: ${T}`:`top: ${_}`;c.current.dataset.motionPopId=u;const O=document.createElement("style");h&&(O.nonce=h);const U=o??document.head;return U.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${g}px !important;
            ${A}px !important;
            ${C}px !important;
          }
        `),()=>{U.contains(O)&&U.removeChild(O)}},[e]),S.jsx(EC,{isPresent:e,childRef:c,sizeRef:m,children:j.cloneElement(n,{ref:v})})}const RC=({children:n,initial:e,isPresent:a,onExitComplete:s,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m,anchorY:h,root:p})=>{const v=hh(CC),f=j.useId();let g=!0,_=j.useMemo(()=>(g=!1,{id:f,initial:e,isPresent:a,custom:o,onExitComplete:b=>{v.set(b,!0);for(const E of v.values())if(!E)return;s&&s()},register:b=>(v.set(b,!1),()=>v.delete(b))}),[a,v,s]);return u&&g&&(_={..._}),j.useMemo(()=>{v.forEach((b,E)=>v.set(E,!1))},[a]),j.useEffect(()=>{!a&&!v.size&&s&&s()},[a]),c==="popLayout"&&(n=S.jsx(AC,{isPresent:a,anchorX:m,anchorY:h,root:p,children:n})),S.jsx(fu.Provider,{value:_,children:n})};function CC(){return new Map}function Xb(n=!0){const e=j.useContext(fu);if(e===null)return[!0,null];const{isPresent:a,onExitComplete:s,register:o}=e,u=j.useId();j.useEffect(()=>{if(n)return o(u)},[n]);const c=j.useCallback(()=>n&&s&&s(u),[u,s,n]);return!a&&s?[!1,c]:[!0]}const kl=n=>n.key||"";function f0(n){const e=[];return j.Children.forEach(n,a=>{j.isValidElement(a)&&e.push(a)}),e}const Ts=({children:n,custom:e,initial:a=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left",anchorY:h="top",root:p})=>{const[v,f]=Xb(c),g=j.useMemo(()=>f0(n),[n]),_=c&&!v?[]:g.map(kl),b=j.useRef(!0),E=j.useRef(g),T=hh(()=>new Map),A=j.useRef(new Set),[C,O]=j.useState(g),[U,H]=j.useState(g);C_(()=>{b.current=!1,E.current=g;for(let W=0;W<U.length;W++){const J=kl(U[W]);_.includes(J)?(T.delete(J),A.current.delete(J)):T.get(J)!==!0&&T.set(J,!1)}},[U,_.length,_.join("-")]);const K=[];if(g!==C){let W=[...g];for(let J=0;J<U.length;J++){const he=U[J],ee=kl(he);_.includes(ee)||(W.splice(J,0,he),K.push(he))}return u==="wait"&&K.length&&(W=K),H(f0(W)),O(g),null}const{forceRender:G}=j.useContext(dh);return S.jsx(S.Fragment,{children:U.map(W=>{const J=kl(W),he=c&&!v?!1:g===U||_.includes(J),ee=()=>{if(A.current.has(J))return;if(A.current.add(J),T.has(J))T.set(J,!0);else return;let ge=!0;T.forEach(ke=>{ke||(ge=!1)}),ge&&(G?.(),H(E.current),c&&f?.(),s&&s())};return S.jsx(RC,{isPresent:he,initial:!b.current||a?void 0:!1,custom:e,presenceAffectsLayout:o,mode:u,root:p,onExitComplete:he?void 0:ee,anchorX:m,anchorY:h,children:W},J)})})},Wb=j.createContext({strict:!1}),d0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let h0=!1;function OC(){if(h0)return;const n={};for(const e in d0)n[e]={isEnabled:a=>d0[e].some(s=>!!a[s])};Eb(n),h0=!0}function Qb(){return OC(),pR()}function jC(n){const e=Qb();for(const a in n)e[a]={...e[a],...n[a]};Eb(e)}const MC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nu(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||MC.has(n)}let Jb=n=>!nu(n);function DC(n){typeof n=="function"&&(Jb=e=>e.startsWith("on")?!nu(e):n(e))}try{DC(require("@emotion/is-prop-valid").default)}catch{}function NC(n,e,a){const s={};for(const o in n)o==="values"&&typeof n.values=="object"||(Jb(o)||a===!0&&nu(o)||!e&&!nu(o)||n.draggable&&o.startsWith("onDrag"))&&(s[o]=n[o]);return s}const mu=j.createContext({});function kC(n,e){if(hu(n)){const{initial:a,animate:s}=n;return{initial:a===!1||Kr(a)?a:void 0,animate:Kr(s)?s:void 0}}return n.inherit!==!1?e:{}}function LC(n){const{initial:e,animate:a}=kC(n,j.useContext(mu));return j.useMemo(()=>({initial:e,animate:a}),[m0(e),m0(a)])}function m0(n){return Array.isArray(n)?n.join(" "):n}const Ih=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Zb(n,e,a){for(const s in e)!Ct(e[s])&&!Db(s,a)&&(n[s]=e[s])}function UC({transformTemplate:n},e){return j.useMemo(()=>{const a=Ih();return Ph(a,e,n),Object.assign({},a.vars,a.style)},[e])}function BC(n,e){const a=n.style||{},s={};return Zb(s,a,n),Object.assign(s,UC(n,e)),s}function zC(n,e){const a={},s=BC(n,e);return n.drag&&n.dragListener!==!1&&(a.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(a.tabIndex=0),a.style=s,a}const ew=()=>({...Ih(),attrs:{}});function PC(n,e,a,s){const o=j.useMemo(()=>{const u=ew();return Nb(u,e,Lb(s),n.transformTemplate,n.style),{...u.attrs,style:{...u.style}}},[e]);if(n.style){const u={};Zb(u,n.style,n),o.style={...u,...o.style}}return o}const VC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $h(n){return typeof n!="string"||n.includes("-")?!1:!!(VC.indexOf(n)>-1||/[A-Z]/u.test(n))}function HC(n,e,a,{latestValues:s},o,u=!1,c){const h=(c??$h(n)?PC:zC)(e,s,o,n),p=NC(e,typeof n=="string",u),v=n!==j.Fragment?{...p,...h,ref:a}:{},{children:f}=e,g=j.useMemo(()=>Ct(f)?f.get():f,[f]);return j.createElement(n,{...v,children:g})}function IC({scrapeMotionValuesFromProps:n,createRenderState:e},a,s,o){return{latestValues:$C(a,s,o,n),renderState:e()}}function $C(n,e,a,s){const o={},u=s(n,{});for(const g in u)o[g]=Kl(u[g]);let{initial:c,animate:m}=n;const h=hu(n),p=Tb(n);e&&p&&!h&&n.inherit!==!1&&(c===void 0&&(c=e.initial),m===void 0&&(m=e.animate));let v=a?a.initial===!1:!1;v=v||c===!1;const f=v?m:c;if(f&&typeof f!="boolean"&&!du(f)){const g=Array.isArray(f)?f:[f];for(let _=0;_<g.length;_++){const b=Dh(n,g[_]);if(b){const{transitionEnd:E,transition:T,...A}=b;for(const C in A){let O=A[C];if(Array.isArray(O)){const U=v?O.length-1:0;O=O[U]}O!==null&&(o[C]=O)}for(const C in E)o[C]=E[C]}}}return o}const tw=n=>(e,a)=>{const s=j.useContext(mu),o=j.useContext(fu),u=()=>IC(n,e,s,o);return a?u():hh(u)},qC=tw({scrapeMotionValuesFromProps:Vh,createRenderState:Ih}),GC=tw({scrapeMotionValuesFromProps:Ub,createRenderState:ew}),FC=Symbol.for("motionComponentSymbol");function KC(n,e,a){const s=j.useRef(a);j.useInsertionEffect(()=>{s.current=a});const o=j.useRef(null);return j.useCallback(u=>{u&&n.onMount?.(u),e&&(u?e.mount(u):e.unmount());const c=s.current;if(typeof c=="function")if(u){const m=c(u);typeof m=="function"&&(o.current=m)}else o.current?(o.current(),o.current=null):c(u);else c&&(c.current=u)},[e])}const nw=j.createContext({});function kr(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function YC(n,e,a,s,o,u){const{visualElement:c}=j.useContext(mu),m=j.useContext(Wb),h=j.useContext(fu),p=j.useContext(Hh),v=p.reducedMotion,f=p.skipAnimations,g=j.useRef(null),_=j.useRef(!1);s=s||m.renderer,!g.current&&s&&(g.current=s(n,{visualState:e,parent:c,props:a,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:v,skipAnimations:f,isSVG:u}),_.current&&g.current&&(g.current.manuallyAnimateOnMount=!0));const b=g.current,E=j.useContext(nw);b&&!b.projection&&o&&(b.type==="html"||b.type==="svg")&&XC(g.current,a,o,E);const T=j.useRef(!1);j.useInsertionEffect(()=>{b&&T.current&&b.update(a,h)});const A=a[fb],C=j.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return C_(()=>{_.current=!0,b&&(T.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),C.current&&b.animationState&&b.animationState.animateChanges())}),j.useEffect(()=>{b&&(!C.current&&b.animationState&&b.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),C.current=!1),b.enteringChildren=void 0)}),b}function XC(n,e,a,s){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:h,layoutRoot:p,layoutCrossfade:v}=e;n.projection=new a(n.latestValues,e["data-framer-portal-id"]?void 0:iw(n.parent)),n.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&kr(m),visualElement:n,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:h,layoutRoot:p})}function iw(n){if(n)return n.options.allowProjection!==!1?n.projection:iw(n.parent)}function ad(n,{forwardMotionProps:e=!1,type:a}={},s,o){s&&jC(s);const u=a?a==="svg":$h(n),c=u?GC:qC;function m(p,v){let f;const g={...j.useContext(Hh),...p,layoutId:WC(p)},{isStatic:_}=g,b=LC(p),E=c(p,_);if(!_&&R_){QC();const T=JC(g);f=T.MeasureLayout,b.visualElement=YC(n,E,g,o,T.ProjectionNode,u)}return S.jsxs(mu.Provider,{value:b,children:[f&&b.visualElement?S.jsx(f,{visualElement:b.visualElement,...g}):null,HC(n,p,KC(E,b.visualElement,v),E,_,e,u)]})}m.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const h=j.forwardRef(m);return h[FC]=n,h}function WC({layoutId:n}){const e=j.useContext(dh).id;return e&&n!==void 0?e+"-"+n:n}function QC(n,e){j.useContext(Wb).strict}function JC(n){const e=Qb(),{drag:a,layout:s}=e;if(!a&&!s)return{};const o={...a,...s};return{MeasureLayout:a?.isEnabled(n)||s?.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function ZC(n,e){if(typeof Proxy>"u")return ad;const a=new Map,s=(u,c)=>ad(u,c,n,e),o=(u,c)=>s(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?s:(a.has(c)||a.set(c,ad(c,void 0,n,e)),a.get(c))})}const e2=(n,e)=>e.isSVG??$h(n)?new DR(e):new AR(e,{allowProjection:n!==j.Fragment});class t2 extends Vi{constructor(e){super(e),e.animationState||(e.animationState=BR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();du(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:a}=this.node.prevProps||{};e!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let n2=0;class i2 extends Vi{constructor(){super(...arguments),this.id=n2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:a}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);a&&!e&&o.then(()=>{a(this.id)})}mount(){const{register:e,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const a2={animation:{Feature:t2},exit:{Feature:i2}};function uo(n){return{point:{x:n.pageX,y:n.pageY}}}const s2=n=>e=>Uh(e)&&n(e,uo(e));function Pr(n,e,a,s){return Yr(n,e,s2(a),s)}const aw=({current:n})=>n?n.ownerDocument.defaultView:null,p0=(n,e)=>Math.abs(n-e);function r2(n,e){const a=p0(n.x,e.x),s=p0(n.y,e.y);return Math.sqrt(a**2+s**2)}const g0=new Set(["auto","scroll"]);class sw{constructor(e,a,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=_=>{this.handleScroll(_.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=rd(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,E=r2(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!E)return;const{point:T}=_,{timestamp:A}=Et;this.history.push({...T,timestamp:A});const{onStart:C,onMove:O}=this.handlers;b||(C&&C(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,_)},this.handlePointerMove=(_,b)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=sd(b,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(_,b)=>{this.end();const{onEnd:E,onSessionEnd:T,resumeAnimation:A}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=rd(_.type==="pointercancel"?this.lastMoveEventInfo:sd(b,this.transformPagePoint),this.history);this.startEvent&&E&&E(_,C),T&&T(_,C)},!Uh(e))return;this.dragSnapToOrigin=u,this.handlers=a,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const h=uo(e),p=sd(h,this.transformPagePoint),{point:v}=p,{timestamp:f}=Et;this.history=[{...v,timestamp:f}];const{onSessionStart:g}=a;g&&g(e,rd(p,this.history)),this.removeListeners=ro(Pr(this.contextWindow,"pointermove",this.handlePointerMove),Pr(this.contextWindow,"pointerup",this.handlePointerUp),Pr(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(e){let a=e.parentElement;for(;a;){const s=getComputedStyle(a);(g0.has(s.overflowX)||g0.has(s.overflowY))&&this.scrollPositions.set(a,{x:a.scrollLeft,y:a.scrollTop}),a=a.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const a=this.scrollPositions.get(e);if(!a)return;const s=e===window,o=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},u={x:o.x-a.x,y:o.y-a.y};u.x===0&&u.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(e,o),qe.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Bi(this.updatePoint)}}function sd(n,e){return e?{point:e(n.point)}:n}function y0(n,e){return{x:n.x-e.x,y:n.y-e.y}}function rd({point:n},e){return{point:n,delta:y0(n,rw(e)),offset:y0(n,o2(e)),velocity:l2(e,.1)}}function o2(n){return n[0]}function rw(n){return n[n.length-1]}function l2(n,e){if(n.length<2)return{x:0,y:0};let a=n.length-1,s=null;const o=rw(n);for(;a>=0&&(s=n[a],!(o.timestamp-s.timestamp>ni(e)));)a--;if(!s)return{x:0,y:0};const u=pn(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function u2(n,{min:e,max:a},s){return e!==void 0&&n<e?n=s?We(e,n,s.min):Math.max(n,e):a!==void 0&&n>a&&(n=s?We(a,n,s.max):Math.min(n,a)),n}function v0(n,e,a){return{min:e!==void 0?n.min+e:void 0,max:a!==void 0?n.max+a-(n.max-n.min):void 0}}function c2(n,{top:e,left:a,bottom:s,right:o}){return{x:v0(n.x,a,o),y:v0(n.y,e,s)}}function _0(n,e){let a=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([a,s]=[s,a]),{min:a,max:s}}function f2(n,e){return{x:_0(n.x,e.x),y:_0(n.y,e.y)}}function d2(n,e){let a=.5;const s=Dt(n),o=Dt(e);return o>s?a=qr(e.min,e.max-s,n.min):s>o&&(a=qr(n.min,n.max-o,e.min)),Ln(0,1,a)}function h2(n,e){const a={};return e.min!==void 0&&(a.min=e.min-n.min),e.max!==void 0&&(a.max=e.max-n.min),a}const Id=.35;function m2(n=Id){return n===!1?n=0:n===!0&&(n=Id),{x:b0(n,"left","right"),y:b0(n,"top","bottom")}}function b0(n,e,a){return{min:w0(n,e),max:w0(n,a)}}function w0(n,e){return typeof n=="number"?n:n[e]||0}const p2=new WeakMap;class g2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:a=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=f=>{a?(this.stopAnimation(),this.snapToCursor(uo(f).point)):this.pauseAnimation()},c=(f,g)=>{this.stopAnimation();const{drag:_,dragPropagation:b,onDragStart:E}=this.getProps();if(_&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=eR(_),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mn(A=>{let C=this.getAxisMotionValue(A).get()||0;if(kn.test(C)){const{projection:O}=this.visualElement;if(O&&O.layout){const U=O.layout.layoutBox[A];U&&(C=Dt(U)*(parseFloat(C)/100))}}this.originPoint[A]=C}),E&&qe.update(()=>E(f,g),!1,!0),kd(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},m=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g;const{dragPropagation:_,dragDirectionLock:b,onDirectionLock:E,onDrag:T}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:A}=g;if(b&&this.currentDirection===null){this.currentDirection=y2(A),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",g.point,A),this.updateAxis("y",g.point,A),this.visualElement.render(),T&&qe.update(()=>T(f,g),!1,!0)},h=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g,this.stop(f,g),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>mn(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new sw(e,{onSessionStart:u,onStart:c,onMove:m,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:aw(this.visualElement),element:this.visualElement.current})}stop(e,a){const s=e||this.latestPointerEvent,o=a||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:m}=this.getProps();m&&qe.postRender(()=>m(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:a}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,a,s){const{drag:o}=this.getProps();if(!s||!Ll(e,o,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=u2(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:a}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&kr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=c2(s.layoutBox,e):this.constraints=!1,this.elastic=m2(a),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&mn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=h2(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:a}=this.getProps();if(!e||!kr(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=bR(s,o.root,this.visualElement.getTransformPagePoint());let c=f2(o.layout.layoutBox,u);if(a){const m=a(yR(c));this.hasMutatedConstraints=!!m,m&&(c=Rb(m))}return c}startAnimation(e){const{drag:a,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),h=this.constraints||{},p=mn(v=>{if(!Ll(v,a,this.currentDirection))return;let f=h&&h[v]||{};c&&(f={min:0,max:0});const g=o?200:1e6,_=o?40:1e7,b={type:"inertia",velocity:s?e[v]:0,bounceStiffness:g,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...u,...f};return this.startAxisValueAnimation(v,b)});return Promise.all(p).then(m)}startAxisValueAnimation(e,a){const s=this.getAxisMotionValue(e);return kd(this.visualElement,e),s.start(Mh(e,s,0,a,this.visualElement,!1))}stopAnimation(){mn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){mn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const a=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[a];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){mn(a=>{const{drag:s}=this.getProps();if(!Ll(a,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(a);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[a],h=u.get()||0;u.set(e[a]-We(c,m,.5)+h)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:a}=this.getProps(),{projection:s}=this.visualElement;if(!kr(a)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};mn(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const h=m.get();o[c]=d2({min:h,max:h},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),mn(c=>{if(!Ll(c,e,null))return;const m=this.getAxisMotionValue(c),{min:h,max:p}=this.constraints[c];m.set(We(h,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;p2.set(this.visualElement,this);const e=this.visualElement.current,a=Pr(e,"pointerdown",h=>{const{drag:p,dragListener:v=!0}=this.getProps(),f=h.target,g=f!==e&&sR(f);p&&v&&!g&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();kr(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),qe.read(s);const c=Yr(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(mn(v=>{const f=this.getAxisMotionValue(v);f&&(this.originPoint[v]+=h[v].translate,f.set(f.get()+h[v].translate))}),this.visualElement.render())}));return()=>{c(),a(),u(),m&&m()}}getProps(){const e=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Id,dragMomentum:m=!0}=e;return{...e,drag:a,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function Ll(n,e,a){return(e===!0||e===n)&&(a===null||a===n)}function y2(n,e=10){let a=null;return Math.abs(n.y)>e?a="y":Math.abs(n.x)>e&&(a="x"),a}class v2 extends Vi{constructor(e){super(e),this.removeGroupControls=gn,this.removeListeners=gn,this.controls=new g2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:a}=this.node.prevProps||{};e!==a&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const od=n=>(e,a)=>{n&&qe.update(()=>n(e,a),!1,!0)};class _2 extends Vi{constructor(){super(...arguments),this.removePointerDownListener=gn}onPointerDown(e){this.session=new sw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:a,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:od(e),onStart:od(a),onMove:od(s),onEnd:(u,c)=>{delete this.session,o&&qe.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Pr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let ld=!1;class b2 extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:a,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=e;u&&(a.group&&a.group.add(u),s&&s.register&&o&&s.register(u),ld&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Yl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:a,visualElement:s,drag:o,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,e.layoutDependency!==a&&c.setOptions({...c.options,layoutDependency:a}),ld=!0,o||e.layoutDependency!==a||a===void 0||e.isPresent!==u?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||qe.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Lh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:a,switchLayoutGroup:s}=this.props,{projection:o}=e;ld=!0,o&&(o.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ow(n){const[e,a]=Xb(),s=j.useContext(dh);return S.jsx(b2,{...n,layoutGroup:s,switchLayoutGroup:j.useContext(nw),isPresent:e,safeToRemove:a})}const w2={pan:{Feature:_2},drag:{Feature:v2,ProjectionNode:Yb,MeasureLayout:ow}};function S0(n,e,a){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",a==="Start");const o="onHover"+a,u=s[o];u&&qe.postRender(()=>u(e,uo(e)))}class S2 extends Vi{mount(){const{current:e}=this.node;e&&(this.unmount=tR(e,(a,s)=>(S0(this.node,s,"Start"),o=>S0(this.node,o,"End"))))}unmount(){}}class x2 extends Vi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ro(Yr(this.node.current,"focus",()=>this.onFocus()),Yr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function x0(n,e,a){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",a==="Start");const o="onTap"+(a==="End"?"":a),u=s[o];u&&qe.postRender(()=>u(e,uo(e)))}class T2 extends Vi{mount(){const{current:e}=this.node;e&&(this.unmount=oR(e,(a,s)=>(x0(this.node,s,"Start"),(o,{success:u})=>x0(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $d=new WeakMap,ud=new WeakMap,E2=n=>{const e=$d.get(n.target);e&&e(n)},A2=n=>{n.forEach(E2)};function R2({root:n,...e}){const a=n||document;ud.has(a)||ud.set(a,{});const s=ud.get(a),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(A2,{root:n,...e})),s[o]}function C2(n,e,a){const s=R2(e);return $d.set(n,a),s.observe(n),()=>{$d.delete(n),s.unobserve(n)}}const O2={some:0,all:1};class j2 extends Vi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:a,margin:s,amount:o="some",once:u}=e,c={root:a?a.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:O2[o]},m=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:f}=this.node.getProps(),g=p?v:f;g&&g(h)};return C2(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:a}=this.node;["amount","margin","root"].some(M2(e,a))&&this.startObserver()}unmount(){}}function M2({viewport:n={}},{viewport:e={}}={}){return a=>n[a]!==e[a]}const D2={inView:{Feature:j2},tap:{Feature:T2},focus:{Feature:x2},hover:{Feature:S2}},N2={layout:{ProjectionNode:Yb,MeasureLayout:ow}},k2={...a2,...D2,...w2,...N2},pe=ZC(k2,e2);function pu(n,e){var a={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(a[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(a[s[o]]=n[s[o]]);return a}function L2(n,e,a,s){function o(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function m(v){try{p(s.next(v))}catch(f){c(f)}}function h(v){try{p(s.throw(v))}catch(f){c(f)}}function p(v){v.done?u(v.value):o(v.value).then(m,h)}p((s=s.apply(n,e||[])).next())})}const U2=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class qh extends Error{constructor(e,a="FunctionsError",s){super(e),this.name=a,this.context=s}}class B2 extends qh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class T0 extends qh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class E0 extends qh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qd;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(qd||(qd={}));class z2{constructor(e,{headers:a={},customFetch:s,region:o=qd.Any}={}){this.url=e,this.headers=a,this.region=o,this.fetch=U2(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return L2(this,arguments,void 0,function*(a,s={}){var o;let u,c;try{const{headers:m,method:h,body:p,signal:v,timeout:f}=s;let g={},{region:_}=s;_||(_=this.region);const b=new URL(`${this.url}/${a}`);_&&_!=="any"&&(g["x-region"]=_,b.searchParams.set("forceFunctionRegion",_));let E;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",E=p):typeof p=="string"?(g["Content-Type"]="text/plain",E=p):typeof FormData<"u"&&p instanceof FormData?E=p:(g["Content-Type"]="application/json",E=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?E=JSON.stringify(p):E=p;let T=v;f&&(c=new AbortController,u=setTimeout(()=>c.abort(),f),v?(T=c.signal,v.addEventListener("abort",()=>c.abort())):T=c.signal);const A=yield this.fetch(b.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),m),body:E,signal:T}).catch(H=>{throw new B2(H)}),C=A.headers.get("x-relay-error");if(C&&C==="true")throw new T0(A);if(!A.ok)throw new E0(A);let O=((o=A.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),U;return O==="application/json"?U=yield A.json():O==="application/octet-stream"||O==="application/pdf"?U=yield A.blob():O==="text/event-stream"?U=A:O==="multipart/form-data"?U=yield A.formData():U=yield A.text(),{data:U,error:null,response:A}}catch(m){return{data:null,error:m,response:m instanceof E0||m instanceof T0?m.context:void 0}}finally{u&&clearTimeout(u)}})}}var P2=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},V2=class{constructor(n){var e,a,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(a=n.isMaybeSingle)!==null&&a!==void 0?a:!1,this.urlLengthLimit=(s=n.urlLengthLimit)!==null&&s!==void 0?s:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let c=null,m=null,h=null,p=u.status,v=u.statusText;if(u.ok){var f,g;if(a.method!=="HEAD"){var _;const A=await u.text();A===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((_=a.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?m=A:m=JSON.parse(A))}const E=(f=a.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),T=(g=u.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");E&&T&&T.length>1&&(h=parseInt(T[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(m)&&(m.length>1?(c={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,h=null,p=406,v="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var b;const E=await u.text();try{c=JSON.parse(E),Array.isArray(c)&&u.status===404&&(m=[],c=null,p=200,v="OK")}catch{u.status===404&&E===""?(p=204,v="No Content"):c={message:E}}if(c&&a.isMaybeSingle&&(!(c==null||(b=c.details)===null||b===void 0)&&b.includes("0 rows"))&&(c=null,p=200,v="OK"),c&&a.shouldThrowOnError)throw new P2(c)}return{error:c,data:m,count:h,status:p,statusText:v}});return this.shouldThrowOnError||(o=o.catch(u=>{var c;let m="",h="",p="";const v=u?.cause;if(v){var f,g,_,b;const A=(f=v?.message)!==null&&f!==void 0?f:"",C=(g=v?.code)!==null&&g!==void 0?g:"";m=`${(_=u?.name)!==null&&_!==void 0?_:"FetchError"}: ${u?.message}`,m+=`

Caused by: ${(b=v?.name)!==null&&b!==void 0?b:"Error"}: ${A}`,C&&(m+=` (${C})`),v?.stack&&(m+=`
${v.stack}`)}else{var E;m=(E=u?.stack)!==null&&E!==void 0?E:""}const T=this.url.toString().length;return u?.name==="AbortError"||u?.code==="ABORT_ERR"?(p="",h="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(h+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(v?.name==="HeadersOverflowError"||v?.code==="UND_ERR_HEADERS_OVERFLOW")&&(p="",h="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(h+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:m,hint:h,code:p},data:null,count:null,status:0,statusText:""}})),o.then(n,e)}returns(){return this}overrideTypes(){return this}},H2=class extends V2{select(n){let e=!1;const a=(n??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:a,foreignTable:s,referencedTable:o=s}={}){const u=o?`${o}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${e?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:a=e}={}){const s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${n}`),this}range(n,e,{foreignTable:a,referencedTable:s=a}={}){const o=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(u,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:a=!1,buffers:s=!1,wal:o=!1,format:u="text"}={}){var c;const m=[n?"analyze":null,e?"verbose":null,a?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const A0=new RegExp("[,()]");var ds=class extends H2{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const a=Array.from(new Set(e)).map(s=>typeof s=="string"&&A0.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(n,`in.(${a})`),this}notIn(n,e){const a=Array.from(new Set(e)).map(s=>typeof s=="string"&&A0.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(n,`not.in.(${a})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:a,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(n,`${o}fts${u}.${e}`),this}match(n){return Object.entries(n).forEach(([e,a])=>{this.url.searchParams.append(e,`eq.${a}`)}),this}not(n,e,a){return this.url.searchParams.append(n,`not.${e}.${a}`),this}or(n,{foreignTable:e,referencedTable:a=e}={}){const s=a?`${a}.or`:"or";return this.url.searchParams.append(s,`(${n})`),this}filter(n,e,a){return this.url.searchParams.append(n,`${e}.${a}`),this}},I2=class{constructor(n,{headers:e={},schema:a,fetch:s,urlLengthLimit:o=8e3}){this.url=n,this.headers=new Headers(e),this.schema=a,this.fetch=s,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,e){const{head:a=!1,count:s}=e??{},o=a?"HEAD":"GET";let u=!1;const c=(n??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join(""),{url:m,headers:h}=this.cloneRequestState();return m.searchParams.set("select",c),s&&h.append("Prefer",`count=${s}`),new ds({method:o,url:m,headers:h,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:e,defaultToNull:a=!0}={}){var s;const o="POST",{url:u,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),a||c.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(m.length>0){const h=[...new Set(m)].map(p=>`"${p}"`);u.searchParams.set("columns",h.join(","))}}return new ds({method:o,url:u,headers:c,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:e,ignoreDuplicates:a=!1,count:s,defaultToNull:o=!0}={}){var u;const c="POST",{url:m,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),e!==void 0&&m.searchParams.set("on_conflict",e),s&&h.append("Prefer",`count=${s}`),o||h.append("Prefer","missing=default"),Array.isArray(n)){const p=n.reduce((v,f)=>v.concat(Object.keys(f)),[]);if(p.length>0){const v=[...new Set(p)].map(f=>`"${f}"`);m.searchParams.set("columns",v.join(","))}}return new ds({method:c,url:m,headers:h,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:e}={}){var a;const s="PATCH",{url:o,headers:u}=this.cloneRequestState();return e&&u.append("Prefer",`count=${e}`),new ds({method:s,url:o,headers:u,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var e;const a="DELETE",{url:s,headers:o}=this.cloneRequestState();return n&&o.append("Prefer",`count=${n}`),new ds({method:a,url:s,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Xr(n){"@babel/helpers - typeof";return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr(n)}function $2(n,e){if(Xr(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var s=a.call(n,e);if(Xr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function q2(n){var e=$2(n,"string");return Xr(e)=="symbol"?e:e+""}function G2(n,e,a){return(e=q2(e))in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function R0(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),a.push.apply(a,s)}return a}function Ul(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?R0(Object(a),!0).forEach(function(s){G2(n,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):R0(Object(a)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(a,s))})}return n}var F2=class lw{constructor(e,{headers:a={},schema:s,fetch:o,timeout:u,urlLengthLimit:c=8e3}={}){this.url=e,this.headers=new Headers(a),this.schemaName=s,this.urlLengthLimit=c;const m=o??globalThis.fetch;u!==void 0&&u>0?this.fetch=(h,p)=>{const v=new AbortController,f=setTimeout(()=>v.abort(),u),g=p?.signal;if(g){if(g.aborted)return clearTimeout(f),m(h,p);const _=()=>{clearTimeout(f),v.abort()};return g.addEventListener("abort",_,{once:!0}),m(h,Ul(Ul({},p),{},{signal:v.signal})).finally(()=>{clearTimeout(f),g.removeEventListener("abort",_)})}return m(h,Ul(Ul({},p),{},{signal:v.signal})).finally(()=>clearTimeout(f))}:this.fetch=m}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new I2(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new lw(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,a={},{head:s=!1,get:o=!1,count:u}={}){var c;let m;const h=new URL(`${this.url}/rpc/${e}`);let p;const v=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(v)),f=s&&Object.values(a).some(v);f?(m="POST",p=a):s||o?(m=s?"HEAD":"GET",Object.entries(a).filter(([_,b])=>b!==void 0).map(([_,b])=>[_,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([_,b])=>{h.searchParams.append(_,b)})):(m="POST",p=a);const g=new Headers(this.headers);return f?g.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&g.set("Prefer",`count=${u}`),new ds({method:m,url:h,headers:g,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}};class K2{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const a=globalThis.process;if(a){const s=a.versions;if(s&&s.node){const o=s.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let a=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(a+=`

Suggested solution: ${e.workaround}`),new Error(a)}static createWebSocket(e,a){const s=this.getWebSocketConstructor();return new s(e,a)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Y2="2.94.0",X2=`realtime-js/${Y2}`,W2="1.0.0",uw="2.0.0",C0=uw,Gd=1e4,Q2=1e3,J2=100;var Ni;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Ni||(Ni={}));var ht;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ht||(ht={}));var An;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(An||(An={}));var Fd;(function(n){n.websocket="websocket"})(Fd||(Fd={}));var fa;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(fa||(fa={}));class Z2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,a){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return a(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var a;return this._isArrayBuffer((a=e.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var a,s;const o=(s=(a=e.payload)===null||a===void 0?void 0:a.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var a,s;const o=(s=(a=e.payload)===null||a===void 0?void 0:a.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,a,s){var o,u;const c=e.topic,m=(o=e.ref)!==null&&o!==void 0?o:"",h=(u=e.join_ref)!==null&&u!==void 0?u:"",p=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(v).length===0?"":JSON.stringify(v);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+m.length+c.length+p.length+f.length,_=new ArrayBuffer(this.HEADER_LENGTH+g);let b=new DataView(_),E=0;b.setUint8(E++,this.KINDS.userBroadcastPush),b.setUint8(E++,h.length),b.setUint8(E++,m.length),b.setUint8(E++,c.length),b.setUint8(E++,p.length),b.setUint8(E++,f.length),b.setUint8(E++,a),Array.from(h,A=>b.setUint8(E++,A.charCodeAt(0))),Array.from(m,A=>b.setUint8(E++,A.charCodeAt(0))),Array.from(c,A=>b.setUint8(E++,A.charCodeAt(0))),Array.from(p,A=>b.setUint8(E++,A.charCodeAt(0))),Array.from(f,A=>b.setUint8(E++,A.charCodeAt(0)));var T=new Uint8Array(_.byteLength+s.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(s),_.byteLength),T.buffer}decode(e,a){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return a(s)}if(typeof e=="string"){const s=JSON.parse(e),[o,u,c,m,h]=s;return a({join_ref:o,ref:u,topic:c,event:m,payload:h})}return a({})}_binaryDecode(e){const a=new DataView(e),s=a.getUint8(0),o=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,a,o)}_decodeUserBroadcast(e,a,s){const o=a.getUint8(1),u=a.getUint8(2),c=a.getUint8(3),m=a.getUint8(4);let h=this.HEADER_LENGTH+4;const p=s.decode(e.slice(h,h+o));h=h+o;const v=s.decode(e.slice(h,h+u));h=h+u;const f=s.decode(e.slice(h,h+c));h=h+c;const g=e.slice(h,e.byteLength),_=m===this.JSON_ENCODING?JSON.parse(s.decode(g)):g,b={type:this.BROADCAST_EVENT,event:v,payload:_};return c>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var a;return e instanceof ArrayBuffer||((a=e?.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(e,a){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>a.includes(s)))}}class cw{constructor(e,a){this.callback=e,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})($e||($e={}));const O0=(n,e,a={})=>{var s;const o=(s=a.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((u,c)=>(u[c]=eO(c,n,e,o),u),{}):{}},eO=(n,e,a,s)=>{const o=e.find(m=>m.name===n),u=o?.type,c=a[n];return u&&!s.includes(u)?fw(u,c):Kd(c)},fw=(n,e)=>{if(n.charAt(0)==="_"){const a=n.slice(1,n.length);return aO(e,a)}switch(n){case $e.bool:return tO(e);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return nO(e);case $e.json:case $e.jsonb:return iO(e);case $e.timestamp:return sO(e);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return Kd(e);default:return Kd(e)}},Kd=n=>n,tO=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},nO=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},iO=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},aO=(n,e)=>{if(typeof n!="string")return n;const a=n.length-1,s=n[a];if(n[0]==="{"&&s==="}"){let u;const c=n.slice(1,a);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(m=>fw(e,m))}return n},sO=n=>typeof n=="string"?n.replace(" ","T"):n,dw=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class cd{constructor(e,a,s={},o=Gd){this.channel=e,this.event=a,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,a){var s;return this._hasReceived(e)&&a((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:a}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(a))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var j0;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(j0||(j0={}));class Vr{constructor(e,a){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:u,onLeave:c,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vr.syncState(this.state,o,u,c),this.pendingDiffs.forEach(h=>{this.state=Vr.syncDiff(this.state,h,u,c)}),this.pendingDiffs=[],m()}),this.channel._on(s.diff,{},o=>{const{onJoin:u,onLeave:c,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Vr.syncDiff(this.state,o,u,c),m())}),this.onJoin((o,u,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:c})}),this.onLeave((o,u,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,a,s,o){const u=this.cloneDeep(e),c=this.transformState(a),m={},h={};return this.map(u,(p,v)=>{c[p]||(h[p]=v)}),this.map(c,(p,v)=>{const f=u[p];if(f){const g=v.map(T=>T.presence_ref),_=f.map(T=>T.presence_ref),b=v.filter(T=>_.indexOf(T.presence_ref)<0),E=f.filter(T=>g.indexOf(T.presence_ref)<0);b.length>0&&(m[p]=b),E.length>0&&(h[p]=E)}else m[p]=v}),this.syncDiff(u,{joins:m,leaves:h},s,o)}static syncDiff(e,a,s,o){const{joins:u,leaves:c}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(u,(m,h)=>{var p;const v=(p=e[m])!==null&&p!==void 0?p:[];if(e[m]=this.cloneDeep(h),v.length>0){const f=e[m].map(_=>_.presence_ref),g=v.filter(_=>f.indexOf(_.presence_ref)<0);e[m].unshift(...g)}s(m,v,h)}),this.map(c,(m,h)=>{let p=e[m];if(!p)return;const v=h.map(f=>f.presence_ref);p=p.filter(f=>v.indexOf(f.presence_ref)<0),e[m]=p,o(m,p,h),p.length===0&&delete e[m]}),e}static map(e,a){return Object.getOwnPropertyNames(e).map(s=>a(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((a,s)=>{const o=e[s];return"metas"in o?a[s]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[s]=o,a},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var M0;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(M0||(M0={}));var Hr;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Hr||(Hr={}));var ei;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ei||(ei={}));class _s{constructor(e,a={config:{}},s){var o,u;if(this.topic=e,this.params=a,this.socket=s,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new cd(this,An.join,this.params,this.timeout),this.rejoinTimer=new cw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(An.reply,{},(c,m)=>{this._trigger(this._replyEventName(m),c)}),this.presence=new Vr(this),this.broadcastEndpointURL=dw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,a=this.timeout){var s,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:c,presence:m,private:h}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(_=>_.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[Hr.PRESENCE]&&this.bindings[Hr.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,f={},g={broadcast:c,presence:Object.assign(Object.assign({},m),{enabled:v}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(ei.CHANNEL_ERROR,_)),this._onClose(()=>e?.(ei.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:_})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e?.(ei.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(b=E?.length)!==null&&b!==void 0?b:0,A=[];for(let C=0;C<T;C++){const O=E[C],{filter:{event:U,schema:H,table:K,filter:G}}=O,W=_&&_[C];if(W&&W.event===U&&_s.isFilterValueEqual(W.schema,H)&&_s.isFilterValueEqual(W.table,K)&&_s.isFilterValueEqual(W.filter,G))A.push(Object.assign(Object.assign({},O),{id:W.id}));else{this.unsubscribe(),this.state=ht.errored,e?.(ei.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(ei.SUBSCRIBED);return}}).receive("error",_=>{this.state=ht.errored,e?.(ei.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(ei.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,a={}){return await this.send({type:"presence",event:"track",payload:e},a.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,a,s){return this.state===ht.joined&&e===Hr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,a,s)}async httpSend(e,a,s={}){var o;if(a==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:a,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let h=m.statusText;try{const p=await m.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(e,a={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=e,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,m,h;const p=this._push(e.type,e,a.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(m=(c=this.params)===null||c===void 0?void 0:c.config)===null||m===void 0?void 0:m.broadcast)===null||h===void 0)&&h.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ht.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(An.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new cd(this,An.leave,{},e),s.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(e,a,s){const o=new AbortController,u=setTimeout(()=>o.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},a),{signal:o.signal}));return clearTimeout(u),c}_push(e,a,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new cd(this,e,a,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>J2){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(e,a,s){return a}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,a,s){var o,u;const c=e.toLocaleLowerCase(),{close:m,error:h,leave:p,join:v}=An;if(s&&[m,h,p,v].indexOf(c)>=0&&s!==this._joinRef())return;let g=this._onMessage(c,a,s);if(a&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var b,E,T;return((b=_.filter)===null||b===void 0?void 0:b.event)==="*"||((T=(E=_.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===c}).map(_=>_.callback(g,s)):(u=this.bindings[c])===null||u===void 0||u.filter(_=>{var b,E,T,A,C,O;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const U=_.id,H=(b=_.filter)===null||b===void 0?void 0:b.event;return U&&((E=a.ids)===null||E===void 0?void 0:E.includes(U))&&(H==="*"||H?.toLocaleLowerCase()===((T=a.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const U=(C=(A=_?.filter)===null||A===void 0?void 0:A.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return U==="*"||U===((O=a?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:E,table:T,commit_timestamp:A,type:C,errors:O}=b;g=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:A,eventType:C,new:{},old:{},errors:O}),this._getPayloadRecords(b))}_.callback(g,s)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,a,s){const o=e.toLocaleLowerCase(),u={type:o,filter:a,callback:s};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(e,a){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===s&&_s.isEqual(o.filter,a))})),this}static isEqual(e,a){if(Object.keys(e).length!==Object.keys(a).length)return!1;for(const s in e)if(e[s]!==a[s])return!1;return!0}static isFilterValueEqual(e,a){return(e??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(An.close,{},e)}_onError(e){this._on(An.error,{},a=>e(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const a={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(a.new=O0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(a.old=O0(e.columns,e.old_record)),a}}const fd=()=>{},Bl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rO=[1e3,2e3,5e3,1e4],oO=1e4,lO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class uO{constructor(e,a){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gd,this.transport=null,this.heartbeatIntervalMs=Bl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fd,this.ref=0,this.reconnectTimer=null,this.vsn=C0,this.logger=fd,this.conn=null,this.sendBuffer=[],this.serializer=new Z2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((s=a?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${e}/${Fd.websocket}`,this.httpEndpoint=dw(e),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=K2.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const a=e.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const a=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const e=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,a,s){this.logger(e,a,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ni.connecting:return fa.Connecting;case Ni.open:return fa.Open;case Ni.closing:return fa.Closing;default:return fa.Closed}}isConnected(){return this.connectionState()===fa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,a={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(u=>u.topic===s);if(o)return o;{const u=new _s(`realtime:${e}`,a,this);return this.channels.push(u),u}}push(e){const{topic:a,event:s,payload:o,ref:u}=e,c=()=>{this.encode(e,m=>{var h;(h=this.conn)===null||h===void 0||h.send(m)})};this.log("push",`${a} ${s} (${u})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Q2,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Bl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let a=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${e}"`),a.unsubscribe())}_remove(e){this.channels=this.channels.filter(a=>a.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply"&&a.ref&&a.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error",p)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:o,payload:u,ref:c}=a,m=c?`(${c})`:"",h=u.status||"";this.log("receive",`${h} ${s} ${o} ${m}`.trim(),u),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,u,c)),this._triggerStateCallbacks("message",a)})}_clearTimer(e){var a;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ni.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ni.open||this.conn.readyState===Ni.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var a;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(a){this.log("error","error in heartbeat callback",a)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(An.error))}_appendParams(e,a){if(Object.keys(a).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(a);return`${e}${s}${o}`}_workerObjectUrl(e){let a;if(e)a=e;else{const s=new Blob([lO],{type:"application/javascript"});a=URL.createObjectURL(s)}return a}_setConnectionState(e,a=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(e=null){let a,s=!1;if(e)a=e,s=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),a=this.accessTokenValue}else a=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(o=>{const u={access_token:a,version:X2};a&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(An.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${e}`,a)})}_triggerStateCallbacks(e,a){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(a)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new cw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var a,s,o,u,c,m,h,p,v,f,g,_;switch(this.transport=(a=e?.transport)!==null&&a!==void 0?a:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Gd,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:Bl.HEARTBEAT_INTERVAL,this.worker=(u=e?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(m=e?.heartbeatCallback)!==null&&m!==void 0?m:fd,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:C0,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(b=>rO[b-1]||oO),this.vsn){case W2:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((b,E)=>E(JSON.stringify(b))),this.decode=(f=e?.decode)!==null&&f!==void 0?f:((b,E)=>E(JSON.parse(b)));break;case uw:this.encode=(g=e?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(_=e?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Wr=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function cO(n,e,a){const s=new URL(e,n);if(a)for(const[o,u]of Object.entries(a))u!==void 0&&s.searchParams.set(o,u);return s.toString()}async function fO(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function dO(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:a,path:s,query:o,body:u,headers:c}){const m=cO(n.baseUrl,s,o),h=await fO(n.auth),p=await e(m,{method:a,headers:{...u?{"Content-Type":"application/json"}:{},...h,...c},body:u?JSON.stringify(u):void 0}),v=await p.text(),f=(p.headers.get("content-type")||"").includes("application/json"),g=f&&v?JSON.parse(v):v;if(!p.ok){const _=f?g:void 0,b=_?.error;throw new Wr(b?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:b?.type,icebergCode:b?.code,details:_})}return{status:p.status,headers:p.headers,data:g}}}}function zl(n){return n.join("")}var hO=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:zl(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(n,e){const a={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zl(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zl(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zl(n.namespace)}`}),!0}catch(e){if(e instanceof Wr&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(a){if(a instanceof Wr&&a.status===409)return;throw a}}};function as(n){return n.join("")}var mO=class{constructor(n,e="",a){this.client=n,this.prefix=e,this.accessDelegation=a}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${as(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${as(n.namespace)}/tables`,body:e,headers:a})).data.metadata}async updateTable(n,e){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${as(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${as(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${as(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${as(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(a){if(a instanceof Wr&&a.status===404)return!1;throw a}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(a){if(a instanceof Wr&&a.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw a}}},pO=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const a=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=dO({baseUrl:a,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new hO(this.client,e),this.tableOps=new mO(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},gu=class extends Error{constructor(n,e="storage",a,s){super(n),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=a,this.statusCode=s}};function yu(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Pl=class extends gu{constructor(n,e,a,s="storage"){super(n,s,e,a),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hw=class extends gu{constructor(n,e,a="storage"){super(n,a),this.name=a==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const gO=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),yO=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Yd=n=>{if(Array.isArray(n))return n.map(a=>Yd(a));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([a,s])=>{const o=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));e[o]=Yd(s)}),e},vO=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Qr(n){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(n)}function _O(n,e){if(Qr(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var s=a.call(n,e);if(Qr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bO(n){var e=_O(n,"string");return Qr(e)=="symbol"?e:e+""}function wO(n,e,a){return(e=bO(e))in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function D0(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),a.push.apply(a,s)}return a}function de(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?D0(Object(a),!0).forEach(function(s){wO(n,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):D0(Object(a)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(a,s))})}return n}const N0=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},SO=async(n,e,a,s)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!a?.noResolveJson){const o=n,u=o.status||500;if(typeof o.json=="function")o.json().then(c=>{const m=c?.statusCode||c?.code||u+"";e(new Pl(N0(c),u,m,s))}).catch(()=>{if(s==="vectors"){const c=u+"";e(new Pl(o.statusText||`HTTP ${u} error`,u,c,s))}else{const c=u+"";e(new Pl(o.statusText||`HTTP ${u} error`,u,c,s))}});else{const c=u+"";e(new Pl(o.statusText||`HTTP ${u} error`,u,c,s))}}else e(new hw(N0(n),n,s))},xO=(n,e,a,s)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"||n==="HEAD"||!s?de(de({},o),a):(yO(s)?(o.headers=de({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),de(de({},o),a))};async function Mr(n,e,a,s,o,u,c){return new Promise((m,h)=>{n(a,xO(e,s,o,u)).then(p=>{if(!p.ok)throw p;if(s?.noResolveJson)return p;if(c==="vectors"){const v=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!v||!v.includes("application/json"))return{}}return p.json()}).then(p=>m(p)).catch(p=>SO(p,h,s,c))})}function mw(n="storage"){return{get:async(e,a,s,o)=>Mr(e,"GET",a,s,o,void 0,n),post:async(e,a,s,o,u)=>Mr(e,"POST",a,o,u,s,n),put:async(e,a,s,o,u)=>Mr(e,"PUT",a,o,u,s,n),head:async(e,a,s,o)=>Mr(e,"HEAD",a,de(de({},s),{},{noResolveJson:!0}),o,void 0,n),remove:async(e,a,s,o,u)=>Mr(e,"DELETE",a,o,u,s,n)}}const TO=mw("storage"),{get:Jr,post:En,put:Xd,head:EO,remove:Gh}=TO,en=mw("vectors");var js=class{constructor(n,e={},a,s="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.fetch=gO(a),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var e=this;try{return{data:await n(),error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(yu(a))return{data:null,error:a};throw a}}},AO=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(yu(e))return{data:null,error:e};throw e}}};let pw;pw=Symbol.toStringTag;var RO=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[pw]="BlobDownloadBuilder",this.promise=null}asStream(){return new AO(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(yu(e))return{data:null,error:e};throw e}}};const CO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var OO=class extends js{constructor(n,e={},a,s){super(n,e,s,"storage"),this.bucketId=a}async uploadOrUpdate(n,e,a,s){var o=this;return o.handleOperation(async()=>{let u;const c=de(de({},k0),s);let m=de(de({},o.headers),n==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),h&&u.append("metadata",o.encodeMetadata(h)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),h&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(h))):(u=a,m["cache-control"]=`max-age=${c.cacheControl}`,m["content-type"]=c.contentType,h&&(m["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),s?.headers&&(m=de(de({},m),s.headers));const p=o._removeEmptyFolders(e),v=o._getFinalPath(p),f=await(n=="PUT"?Xd:En)(o.fetch,`${o.url}/object/${v}`,u,de({headers:m},c?.duplex?{duplex:c.duplex}:{}));return{path:p,id:f.Id,fullPath:f.Key}})}async upload(n,e,a){return this.uploadOrUpdate("POST",n,e,a)}async uploadToSignedUrl(n,e,a,s){var o=this;const u=o._removeEmptyFolders(n),c=o._getFinalPath(u),m=new URL(o.url+`/object/upload/sign/${c}`);return m.searchParams.set("token",e),o.handleOperation(async()=>{let h;const p=de({upsert:k0.upsert},s),v=de(de({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&a instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",a)):typeof FormData<"u"&&a instanceof FormData?(h=a,h.append("cacheControl",p.cacheControl)):(h=a,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{path:u,fullPath:(await Xd(o.fetch,m.toString(),h,{headers:v})).Key}})}async createSignedUploadUrl(n,e){var a=this;return a.handleOperation(async()=>{let s=a._getFinalPath(n);const o=de({},a.headers);e?.upsert&&(o["x-upsert"]="true");const u=await En(a.fetch,`${a.url}/object/upload/sign/${s}`,{},{headers:o}),c=new URL(a.url+u.url),m=c.searchParams.get("token");if(!m)throw new gu("No token returned by API");return{signedUrl:c.toString(),path:n,token:m}})}async update(n,e,a){return this.uploadOrUpdate("PUT",n,e,a)}async move(n,e,a){var s=this;return s.handleOperation(async()=>await En(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:n,destinationKey:e,destinationBucket:a?.destinationBucket},{headers:s.headers}))}async copy(n,e,a){var s=this;return s.handleOperation(async()=>({path:(await En(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:n,destinationKey:e,destinationBucket:a?.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(n,e,a){var s=this;return s.handleOperation(async()=>{let o=s._getFinalPath(n),u=await En(s.fetch,`${s.url}/object/sign/${o}`,de({expiresIn:e},a?.transform?{transform:a.transform}:{}),{headers:s.headers});const c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{signedUrl:encodeURI(`${s.url}${u.signedURL}${c}`)}})}async createSignedUrls(n,e,a){var s=this;return s.handleOperation(async()=>{const o=await En(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:n},{headers:s.headers}),u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return o.map(c=>de(de({},c),{},{signedUrl:c.signedURL?encodeURI(`${s.url}${c.signedURL}${u}`):null}))})}download(n,e){const a=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),o=s?`?${s}`:"",u=this._getFinalPath(n),c=()=>Jr(this.fetch,`${this.url}/${a}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new RO(c,this.shouldThrowOnError)}async info(n){var e=this;const a=e._getFinalPath(n);return e.handleOperation(async()=>Yd(await Jr(e.fetch,`${e.url}/object/info/${a}`,{headers:e.headers})))}async exists(n){var e=this;const a=e._getFinalPath(n);try{return await EO(e.fetch,`${e.url}/object/${a}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(yu(s)&&s instanceof hw){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}}getPublicUrl(n,e){const a=this._getFinalPath(n),s=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&s.push(o);const u=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&s.push(c);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${a}${m}`)}}}async remove(n){var e=this;return e.handleOperation(async()=>await Gh(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}))}async list(n,e,a){var s=this;return s.handleOperation(async()=>{const o=de(de(de({},CO),e),{},{prefix:n||""});return await En(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},a)})}async listV2(n,e){var a=this;return a.handleOperation(async()=>{const s=de({},n);return await En(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,s,{headers:a.headers},e)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const jO="2.94.0",co={"X-Client-Info":`storage-js/${jO}`};var MO=class extends js{constructor(n,e={},a,s){const o=new URL(n);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const u=o.href.replace(/\/$/,""),c=de(de({},co),e);super(u,c,a,"storage")}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const a=e.listBucketOptionsToQueryString(n);return await Jr(e.fetch,`${e.url}/bucket${a}`,{headers:e.headers})})}async getBucket(n){var e=this;return e.handleOperation(async()=>await Jr(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}))}async createBucket(n,e={public:!1}){var a=this;return a.handleOperation(async()=>await En(a.fetch,`${a.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:a.headers}))}async updateBucket(n,e){var a=this;return a.handleOperation(async()=>await Xd(a.fetch,`${a.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:a.headers}))}async emptyBucket(n){var e=this;return e.handleOperation(async()=>await En(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await Gh(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},DO=class extends js{constructor(n,e={},a){const s=n.replace(/\/$/,""),o=de(de({},co),e);super(s,o,a,"storage")}async createBucket(n){var e=this;return e.handleOperation(async()=>await En(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}))}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const a=new URLSearchParams;n?.limit!==void 0&&a.set("limit",n.limit.toString()),n?.offset!==void 0&&a.set("offset",n.offset.toString()),n?.sortColumn&&a.set("sortColumn",n.sortColumn),n?.sortOrder&&a.set("sortOrder",n.sortOrder),n?.search&&a.set("search",n.search);const s=a.toString(),o=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return await Jr(e.fetch,o,{headers:e.headers})})}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await Gh(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}from(n){var e=this;if(!vO(n))throw new gu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new pO({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(a,{get(o,u){const c=o[u];return typeof c!="function"?c:async(...m)=>{try{return{data:await c.apply(o,m),error:null}}catch(h){if(s)throw h;return{data:null,error:h}}}}})}},NO=class extends js{constructor(n,e={},a){const s=n.replace(/\/$/,""),o=de(de({},co),{},{"Content-Type":"application/json"},e);super(s,o,a,"vectors")}async createIndex(n){var e=this;return e.handleOperation(async()=>await en.post(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{})}async getIndex(n,e){var a=this;return a.handleOperation(async()=>await en.post(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:a.headers}))}async listIndexes(n){var e=this;return e.handleOperation(async()=>await en.post(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}))}async deleteIndex(n,e){var a=this;return a.handleOperation(async()=>await en.post(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:a.headers})||{})}},kO=class extends js{constructor(n,e={},a){const s=n.replace(/\/$/,""),o=de(de({},co),{},{"Content-Type":"application/json"},e);super(s,o,a,"vectors")}async putVectors(n){var e=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await en.post(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{})}async getVectors(n){var e=this;return e.handleOperation(async()=>await en.post(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}))}async listVectors(n){var e=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return e.handleOperation(async()=>await en.post(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}))}async queryVectors(n){var e=this;return e.handleOperation(async()=>await en.post(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}))}async deleteVectors(n){var e=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await en.post(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{})}},LO=class extends js{constructor(n,e={},a){const s=n.replace(/\/$/,""),o=de(de({},co),{},{"Content-Type":"application/json"},e);super(s,o,a,"vectors")}async createBucket(n){var e=this;return e.handleOperation(async()=>await en.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}async getBucket(n){var e=this;return e.handleOperation(async()=>await en.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}))}async listBuckets(n={}){var e=this;return e.handleOperation(async()=>await en.post(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await en.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}},UO=class extends LO{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new BO(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,a=this;return e().call(a,n)}async getBucket(n){var e=()=>super.getBucket,a=this;return e().call(a,n)}async listBuckets(n={}){var e=()=>super.listBuckets,a=this;return e().call(a,n)}async deleteBucket(n){var e=()=>super.deleteBucket,a=this;return e().call(a,n)}},BO=class extends NO{constructor(n,e,a,s){super(n,e,s),this.vectorBucketName=a}async createIndex(n){var e=()=>super.createIndex,a=this;return e().call(a,de(de({},n),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,a=this;return e().call(a,de(de({},n),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,a=this;return e().call(a,a.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,a=this;return e().call(a,a.vectorBucketName,n)}index(n){return new zO(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},zO=class extends kO{constructor(n,e,a,s,o){super(n,e,o),this.vectorBucketName=a,this.indexName=s}async putVectors(n){var e=()=>super.putVectors,a=this;return e().call(a,de(de({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(n){var e=()=>super.getVectors,a=this;return e().call(a,de(de({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,a=this;return e().call(a,de(de({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,a=this;return e().call(a,de(de({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,a=this;return e().call(a,de(de({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},PO=class extends MO{constructor(n,e={},a,s){super(n,e,a,s)}from(n){return new OO(this.url,this.headers,n,this.fetch)}get vectors(){return new UO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new DO(this.url+"/iceberg",this.headers,this.fetch)}};const gw="2.94.0",hs=30*1e3,Wd=3,dd=Wd*hs,VO="http://localhost:9999",HO="supabase.auth.token",IO={"X-Client-Info":`gotrue-js/${gw}`},Qd="X-Supabase-Api-Version",yw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$O=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qO=600*1e3;class Zr extends Error{constructor(e,a,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=s}}function oe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class GO extends Zr{constructor(e,a,s){super(e,a,s),this.name="AuthApiError",this.status=a,this.code=s}}function FO(n){return oe(n)&&n.name==="AuthApiError"}class da extends Zr{constructor(e,a){super(e),this.name="AuthUnknownError",this.originalError=a}}class si extends Zr{constructor(e,a,s,o){super(e,s,o),this.name=a,this.status=s}}class Zt extends si{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hd(n){return oe(n)&&n.name==="AuthSessionMissingError"}class ss extends si{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vl extends si{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Hl extends si{constructor(e,a=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function KO(n){return oe(n)&&n.name==="AuthImplicitGrantRedirectError"}class L0 extends si{constructor(e,a=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class YO extends si{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Jd extends si{constructor(e,a){super(e,"AuthRetryableFetchError",a,void 0)}}function md(n){return oe(n)&&n.name==="AuthRetryableFetchError"}class U0 extends si{constructor(e,a,s){super(e,"AuthWeakPasswordError",a,"weak_password"),this.reasons=s}}class Zd extends si{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const iu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),B0=` 	
\r=`.split(""),XO=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<B0.length;e+=1)n[B0[e].charCodeAt(0)]=-2;for(let e=0;e<iu.length;e+=1)n[iu[e].charCodeAt(0)]=e;return n})();function z0(n,e,a){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;a(iu[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;a(iu[s]),e.queuedBits-=6}}function vw(n,e,a){const s=XO[n];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)a(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function P0(n){const e=[],a=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=c=>{JO(c,s,a)};for(let c=0;c<n.length;c+=1)vw(n.charCodeAt(c),o,u);return e.join("")}function WO(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function QO(n,e){for(let a=0;a<n.length;a+=1){let s=n.charCodeAt(a);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(n.charCodeAt(a+1)-56320&65535|o)+65536,a+=1}WO(s,e)}}function JO(n,e,a){if(e.utf8seq===0){if(n<=127){a(n);return}for(let s=1;s<6;s+=1)if((n>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&a(e.codepoint)}}function Ss(n){const e=[],a={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)vw(n.charCodeAt(o),a,s);return new Uint8Array(e)}function ZO(n){const e=[];return QO(n,a=>e.push(a)),new Uint8Array(e)}function pa(n){const e=[],a={queue:0,queuedBits:0},s=o=>{e.push(o)};return n.forEach(o=>z0(o,a,s)),z0(null,a,s),e.join("")}function ej(n){return Math.round(Date.now()/1e3)+n}function tj(){return Symbol("auth-callback")}const Tt=()=>typeof window<"u"&&typeof document<"u",oa={tested:!1,writable:!1},_w=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oa.tested)return oa.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),oa.tested=!0,oa.writable=!0}catch{oa.tested=!0,oa.writable=!1}return oa.writable};function nj(n){const e={},a=new URL(n);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((o,u)=>{e[u]=o})}catch{}return a.searchParams.forEach((s,o)=>{e[o]=s}),e}const bw=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),ij=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ms=async(n,e,a)=>{await n.setItem(e,JSON.stringify(a))},la=async(n,e)=>{const a=await n.getItem(e);if(!a)return null;try{return JSON.parse(a)}catch{return a}},xt=async(n,e)=>{await n.removeItem(e)};class vu{constructor(){this.promise=new vu.promiseConstructor((e,a)=>{this.resolve=e,this.reject=a})}}vu.promiseConstructor=Promise;function Il(n){const e=n.split(".");if(e.length!==3)throw new Zd("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!$O.test(e[s]))throw new Zd("JWT not in base64url format");return{header:JSON.parse(P0(e[0])),payload:JSON.parse(P0(e[1])),signature:Ss(e[2]),raw:{header:e[0],payload:e[1]}}}async function aj(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function sj(n,e){return new Promise((s,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await n(u);if(!e(u,null,c)){s(c);return}}catch(c){if(!e(u,c)){o(c);return}}})()})}function rj(n){return("0"+n.toString(16)).substr(-2)}function oj(){const e=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=a.length;let o="";for(let u=0;u<56;u++)o+=a.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,rj).join("")}async function lj(n){const a=new TextEncoder().encode(n),s=await crypto.subtle.digest("SHA-256",a),o=new Uint8Array(s);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function uj(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const a=await lj(n);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rs(n,e,a=!1){const s=oj();let o=s;a&&(o+="/PASSWORD_RECOVERY"),await ms(n,`${e}-code-verifier`,o);const u=await uj(s);return[u,s===u?"plain":"s256"]}const cj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fj(n){const e=n.headers.get(Qd);if(!e||!e.match(cj))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function dj(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function hj(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function os(n){if(!mj.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pd(){const n={};return new Proxy(n,{get:(e,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pj(n,e){return new Proxy(n,{get:(a,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const u=s.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,s,o)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(a,s,o)}})}function V0(n){return JSON.parse(JSON.stringify(n))}const ca=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),gj=[502,503,504];async function H0(n){var e;if(!ij(n))throw new Jd(ca(n),0);if(gj.includes(n.status))throw new Jd(ca(n),n.status);let a;try{a=await n.json()}catch(u){throw new da(ca(u),u)}let s;const o=fj(n);if(o&&o.getTime()>=yw["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?s=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(s=a.error_code),s){if(s==="weak_password")throw new U0(ca(a),n.status,((e=a.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Zt}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new U0(ca(a),n.status,a.weak_password.reasons);throw new GO(ca(a),n.status||500,s)}const yj=(n,e,a,s)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),a))};async function fe(n,e,a,s){var o;const u=Object.assign({},s?.headers);u[Qd]||(u[Qd]=yw["2024-01-01"].name),s?.jwt&&(u.Authorization=`Bearer ${s.jwt}`);const c=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const m=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await vj(n,e,a+m,{headers:u,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(h):{data:Object.assign({},h),error:null}}async function vj(n,e,a,s,o,u){const c=yj(e,s,o,u);let m;try{m=await n(a,Object.assign({},c))}catch(h){throw console.error(h),new Jd(ca(h),0)}if(m.ok||await H0(m),s?.noResolveJson)return m;try{return await m.json()}catch(h){await H0(h)}}function xn(n){var e;let a=null;wj(n)&&(a=Object.assign({},n),n.expires_at||(a.expires_at=ej(n.expires_in)));const s=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:a,user:s},error:null}}function I0(n){const e=xn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ki(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function _j(n){return{data:n,error:null}}function bj(n){const{action_link:e,email_otp:a,hashed_token:s,redirect_to:o,verification_type:u}=n,c=pu(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:e,email_otp:a,hashed_token:s,redirect_to:o,verification_type:u},h=Object.assign({},c);return{data:{properties:m,user:h},error:null}}function $0(n){return n}function wj(n){return n.access_token&&n.refresh_token&&n.expires_in}const gd=["global","local","others"];class Sj{constructor({url:e="",headers:a={},fetch:s}){this.url=e,this.headers=a,this.fetch=bw(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,a=gd[0]){if(gd.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gd.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,a={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:ki})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:a}=e,s=pu(e,["options"]),o=Object.assign(Object.assign({},s),a);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:bj,redirectTo:a?.redirectTo})}catch(a){if(oe(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ki})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async listUsers(e){var a,s,o,u,c,m,h;try{const p={nextPage:null,lastPage:0,total:0},v=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=e?.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(u=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:$0});if(v.error)throw v.error;const f=await v.json(),g=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(h=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(b=>{const E=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(b.split(";")[1].split("=")[1]);p[`${T}Page`]=E}),p.total=parseInt(g)),{data:Object.assign(Object.assign({},f),p),error:null}}catch(p){if(oe(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){os(e);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ki})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async updateUserById(e,a){os(e);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:a,headers:this.headers,xform:ki})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,a=!1){os(e);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:a},xform:ki})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){os(e.userId);try{const{data:a,error:s}=await fe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:a,error:s}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _deleteFactor(e){os(e.userId),os(e.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _listOAuthClients(e){var a,s,o,u,c,m,h;try{const p={nextPage:null,lastPage:0,total:0},v=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=e?.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(u=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:$0});if(v.error)throw v.error;const f=await v.json(),g=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(h=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(b=>{const E=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(b.split(";")[1].split("=")[1]);p[`${T}Page`]=E}),p.total=parseInt(g)),{data:Object.assign(Object.assign({},f),p),error:null}}catch(p){if(oe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _getOAuthClient(e){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _updateOAuthClient(e,a){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:a,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(oe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(e){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}}function q0(n={}){return{getItem:e=>n[e]||null,setItem:(e,a)=>{n[e]=a},removeItem:e=>{delete n[e]}}}const ls={debug:!!(globalThis&&_w()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ww extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xj extends ww{}async function Tj(n,e,a){ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),ls.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await a()}finally{ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new xj(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ls.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function Ej(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Sw(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Aj(n){return parseInt(n,16)}function Rj(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Cj(n){var e;const{chainId:a,domain:s,expirationTime:o,issuedAt:u=new Date,nonce:c,notBefore:m,requestId:h,resources:p,scheme:v,uri:f,version:g}=n;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=Sw(n.address),b=v?`${v}://${s}`:s,E=n.statement?`${n.statement}
`:"",T=`${b} wants you to sign in with your Ethereum account:
${_}

${E}`;let A=`URI: ${f}
Version: ${g}
Chain ID: ${a}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(o&&(A+=`
Expiration Time: ${o.toISOString()}`),m&&(A+=`
Not Before: ${m.toISOString()}`),h&&(A+=`
Request ID: ${h}`),p){let C=`
Resources:`;for(const O of p){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);C+=`
- ${O}`}A+=C}return`${T}
${A}`}class ut extends Error{constructor({message:e,code:a,cause:s,name:o}){var u;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(u=o??(s instanceof Error?s.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=a}}class au extends ut{constructor(e,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:e}),this.name="WebAuthnUnknownError",this.originalError=a}}function Oj({error:n,options:e}){var a,s,o;const{publicKey:u}=e;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((a=u.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((s=u.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new ut({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const c=window.location.hostname;if(xw(c)){if(u.rp.id!==c)return new ut({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function jj({error:n,options:e}){const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new ut({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const s=window.location.hostname;if(xw(s)){if(a.rpId!==s)return new ut({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Mj{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Dj=new Mj;function Nj(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:a,excludeCredentials:s}=n,o=pu(n,["challenge","user","excludeCredentials"]),u=Ss(e).buffer,c=Object.assign(Object.assign({},a),{id:Ss(a.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:u,user:c});if(s&&s.length>0){m.excludeCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const p=s[h];m.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:Ss(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function kj(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:a}=n,s=pu(n,["challenge","allowCredentials"]),o=Ss(e).buffer,u=Object.assign(Object.assign({},s),{challenge:o});if(a&&a.length>0){u.allowCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const m=a[c];u.allowCredentials[c]=Object.assign(Object.assign({},m),{id:Ss(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function Lj(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const a=n;return{id:n.id,rawId:n.id,response:{attestationObject:pa(new Uint8Array(n.response.attestationObject)),clientDataJSON:pa(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=a.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Uj(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const a=n,s=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:pa(new Uint8Array(o.authenticatorData)),clientDataJSON:pa(new Uint8Array(o.clientDataJSON)),signature:pa(new Uint8Array(o.signature)),userHandle:o.userHandle?pa(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=a.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function xw(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function G0(){var n,e;return!!(Tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Bj(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new au("Browser returned unexpected credential type",e)}:{data:null,error:new au("Empty credential response",e)}}catch(e){return{data:null,error:Oj({error:e,options:n})}}}async function zj(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new au("Browser returned unexpected credential type",e)}:{data:null,error:new au("Empty credential response",e)}}catch(e){return{data:null,error:jj({error:e,options:n})}}}const Pj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Vj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function su(...n){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),a=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of n)if(o)for(const u in o){const c=o[u];if(c!==void 0)if(Array.isArray(c))s[u]=c;else if(a(c))s[u]=c;else if(e(c)){const m=s[u];e(m)?s[u]=su(m,c):s[u]=su(c)}else s[u]=c}return s}function Hj(n,e){return su(Pj,n,e||{})}function Ij(n,e){return su(Vj,n,e||{})}class $j{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:a,friendlyName:s,signal:o},u){var c;try{const{data:m,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:a});if(!m)return{data:null,error:h};const p=o??Dj.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:v}=m.webauthn.credential_options.publicKey;if(!v.name){const f=s;if(f)v.name=`${v.id}:${f}`;else{const _=(await this.client.getUser()).data.user,b=((c=_?.user_metadata)===null||c===void 0?void 0:c.name)||_?.email||_?.id||"User";v.name=`${v.id}:${b}`}}v.displayName||(v.displayName=v.name)}switch(m.webauthn.type){case"create":{const v=Hj(m.webauthn.credential_options.publicKey,u?.create),{data:f,error:g}=await Bj({publicKey:v,signal:p});return f?{data:{factorId:e,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:f}},error:null}:{data:null,error:g}}case"request":{const v=Ij(m.webauthn.credential_options.publicKey,u?.request),{data:f,error:g}=await zj(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:v,signal:p}));return f?{data:{factorId:e,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:f}},error:null}:{data:null,error:g}}}}catch(m){return oe(m)?{data:null,error:m}:{data:null,error:new da("Unexpected error in challenge",m)}}}async _verify({challengeId:e,factorId:a,webauthn:s}){return this.client.mfa.verify({factorId:a,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!a)return{data:null,error:new Zr("rpId is required for WebAuthn authentication")};try{if(!G0())return{data:null,error:new da("Browser does not support WebAuthn",null)};const{data:c,error:m}=await this.challenge({factorId:e,webauthn:{rpId:a,rpOrigins:s},signal:o},{request:u});if(!c)return{data:null,error:m};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:a,rpOrigins:s,credential_response:h.credential_response}})}catch(c){return oe(c)?{data:null,error:c}:{data:null,error:new da("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!a)return{data:null,error:new Zr("rpId is required for WebAuthn registration")};try{if(!G0())return{data:null,error:new da("Browser does not support WebAuthn",null)};const{data:c,error:m}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var f;return(f=v.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:m};const{data:h,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:a,rpOrigins:s},signal:o},{create:u});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:a,rpOrigins:s,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(c){return oe(c)?{data:null,error:c}:{data:null,error:new da("Unexpected error in register",c)}}}}Ej();const qj={url:VO,storageKey:HO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:IO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function F0(n,e,a){return await a()}const us={};class eo{get jwks(){var e,a;return(a=(e=us[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(e){us[this.storageKey]=Object.assign(Object.assign({},us[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,a;return(a=(e=us[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){us[this.storageKey]=Object.assign(Object.assign({},us[this.storageKey]),{cachedAt:e})}constructor(e){var a,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},qj),e);if(this.storageKey=u.storageKey,this.instanceID=(a=eo.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,eo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Tt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Sj({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=bw(u.fetch),this.lock=u.lock||F0,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&Tt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Tj:this.lock=F0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $j(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:_w()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=q0(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=q0(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c);try{await this._notifyAllSubscribers(c.data.event,c.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(c=>{this._debug("#initialize()","error",c)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${gw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let a={},s="none";if(Tt()&&(a=nj(window.location.href),this._isImplicitGrantCallback(a)?s="implicit":await this._isPKCECallback(a)&&(s="pkce")),Tt()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:u}=await this._getSessionFromURL(a,s);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),KO(u)){const h=(e=u.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:c,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",m),await this._saveSession(c),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return oe(a)?this._returnResult({error:a}):this._returnResult({error:new da("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var a,s,o;try{const u=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(a=e?.options)===null||a===void 0?void 0:a.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:xn}),{data:c,error:m}=u;if(m||!c)return this._returnResult({data:{user:null,session:null},error:m});const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(u){if(oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(e){var a,s,o;try{let u;if("email"in e){const{email:v,password:f,options:g}=e;let _=null,b=null;this.flowType==="pkce"&&([_,b]=await rs(this.storage,this.storageKey)),u=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:v,password:f,data:(a=g?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:_,code_challenge_method:b},xform:xn})}else if("phone"in e){const{phone:v,password:f,options:g}=e;u=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:f,data:(s=g?.data)!==null&&s!==void 0?s:{},channel:(o=g?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:xn})}else throw new Vl("You must provide either an email or phone number and a password");const{data:c,error:m}=u;if(m||!c)return await xt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(u){if(await xt(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(e){try{let a;if("email"in e){const{email:u,password:c,options:m}=e;a=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:I0})}else if("phone"in e){const{phone:u,password:c,options:m}=e;a=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:I0})}else throw new Vl("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const u=new ss;return this._returnResult({data:{user:null,session:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(e){var a,s,o,u;return await this._handleProviderSignIn(e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=e.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:a}=e;switch(a){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(e){var a,s,o,u,c,m,h,p,v,f,g;let _,b;if("message"in e)_=e.message,b=e.signature;else{const{chain:E,wallet:T,statement:A,options:C}=e;let O;if(Tt())if(typeof T=="object")O=T;else{const J=window;if("ethereum"in J&&typeof J.ethereum=="object"&&"request"in J.ethereum&&typeof J.ethereum.request=="function")O=J.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=T}const U=new URL((a=C?.url)!==null&&a!==void 0?a:window.location.href),H=await O.request({method:"eth_requestAccounts"}).then(J=>J).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=Sw(H[0]);let G=(s=C?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!G){const J=await O.request({method:"eth_chainId"});G=Aj(J)}const W={domain:U.host,address:K,statement:A,uri:U.href,version:"1",chainId:G,nonce:(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(u=C?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(m=C?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(h=C?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=C?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=C?.signInWithEthereum)===null||v===void 0?void 0:v.resources};_=Cj(W),b=await O.request({method:"personal_sign",params:[Rj(_),K]})}try{const{data:E,error:T}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:b},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:xn});if(T)throw T;if(!E||!E.session||!E.user){const A=new ss;return this._returnResult({data:{user:null,session:null},error:A})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(oe(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var a,s,o,u,c,m,h,p,v,f,g,_;let b,E;if("message"in e)b=e.message,E=e.signature;else{const{chain:T,wallet:A,statement:C,options:O}=e;let U;if(Tt())if(typeof A=="object")U=A;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))U=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=A}const H=new URL((a=O?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in U&&U.signIn){const K=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),C?{statement:C}:null));let G;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")G=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)G=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)b=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),E=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${H.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(o=(s=O?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=O?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((m=O?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((h=O?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((p=O?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((f=(v=O?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||f===void 0)&&f.length?["Resources",...O.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const K=await U.signMessage(new TextEncoder().encode(b),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=K}}try{const{data:T,error:A}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:pa(E)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:xn});if(A)throw A;if(!T||!T.session||!T.user){const C=new ss;return this._returnResult({data:{user:null,session:null},error:C})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:A})}catch(T){if(oe(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(e){const a=await la(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(a??"").split("/");try{if(!s&&this.flowType==="pkce")throw new YO;const{data:u,error:c}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:xn});if(await xt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const m=new ss;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:c})}catch(u){if(await xt(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(e){try{const{options:a,provider:s,token:o,access_token:u,nonce:c}=e,m=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:xn}),{data:h,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const v=new ss;return this._returnResult({data:{user:null,session:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(e){var a,s,o,u,c;try{if("email"in e){const{email:m,options:h}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await rs(this.storage,this.storageKey));const{error:f}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(a=h?.data)!==null&&a!==void 0?a:{},create_user:(s=h?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:m,options:h}=e,{data:p,error:v}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(u=h?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:v})}throw new Vl("You must provide either an email or phone number.")}catch(m){if(await xt(this.storage,`${this.storageKey}-code-verifier`),oe(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(e){var a,s;try{let o,u;"options"in e&&(o=(a=e.options)===null||a===void 0?void 0:a.redirectTo,u=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:m}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:xn});if(m)throw m;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,p=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var a,s,o,u,c;try{let m=null,h=null;this.flowType==="pkce"&&([m,h]=await rs(this.storage,this.storageKey));const p=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(a=e.options)===null||a===void 0?void 0:a.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:h}),headers:this.headers,xform:_j});return!((u=p.data)===null||u===void 0)&&u.url&&Tt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(await xt(this.storage,`${this.storageKey}-code-verifier`),oe(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:a},error:s}=e;if(s)throw s;if(!a)throw new Zt;const{error:o}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(oe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const a=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:u}=e,{error:c}=await fe(this.fetch,"POST",a,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:o,options:u}=e,{data:c,error:m}=await fe(this.fetch,"POST",a,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:m})}throw new Vl("You must provide either an email or phone number and a type")}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(e,a){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await a()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=a();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await e(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const a=await la(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?e=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<dd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await la(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=pd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=pj(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:u}=await this._callRefreshToken(e.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const a=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(e){try{return e?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ki}):await this._useSession(async a=>{var s,o,u;const{data:c,error:m}=a;if(m)throw m;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zt}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:ki})})}catch(a){if(oe(a))return hd(a)&&(await this._removeSession(),await xt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(e,a={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,a))}async _updateUser(e,a={}){try{return await this._useSession(async s=>{const{data:o,error:u}=s;if(u)throw u;if(!o.session)throw new Zt;const c=o.session;let m=null,h=null;this.flowType==="pkce"&&e.email!=null&&([m,h]=await rs(this.storage,this.storageKey));const{data:p,error:v}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:m,code_challenge_method:h}),jwt:c.access_token,xform:ki});if(v)throw v;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await xt(this.storage,`${this.storageKey}-code-verifier`),oe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zt;const a=Date.now()/1e3;let s=a,o=!0,u=null;const{payload:c}=Il(e.access_token);if(c.exp&&(s=c.exp,o=s<=a),o){const{data:m,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:h}=await this._getUser(e.access_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});u={access_token:e.access_token,refresh_token:e.refresh_token,user:m.user,token_type:"bearer",expires_in:s-a,expires_at:s},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(a){if(oe(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async a=>{var s;if(!e){const{data:c,error:m}=a;if(m)throw m;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Zt;const{data:o,error:u}=await this._callRefreshToken(e.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(e,a){try{if(!Tt())throw new Hl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Hl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new L0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hl("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new L0("No code detected.");const{data:C,error:O}=await this._exchangeCodeForSession(e.code);if(O)throw O;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:u,refresh_token:c,expires_in:m,expires_at:h,token_type:p}=e;if(!u||!m||!c||!p)throw new Hl("No session defined in URL");const v=Math.round(Date.now()/1e3),f=parseInt(m);let g=v+f;h&&(g=parseInt(h));const _=g-v;_*1e3<=hs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${f}s`);const b=g-f;v-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,v):v-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,v);const{data:E,error:T}=await this._getUser(u);if(T)throw T;const A={provider_token:s,provider_refresh_token:o,access_token:u,expires_in:f,expires_at:g,refresh_token:c,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:e.type},error:null})}catch(s){if(oe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const a=await la(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&a)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async a=>{var s;const{data:o,error:u}=a;if(u&&!hd(u))return this._returnResult({error:u});const c=(s=o.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:m}=await this.admin.signOut(c,e);if(m&&!(FO(m)&&(m.status===404||m.status===401||m.status===403)||hd(m)))return this._returnResult({error:m})}return e!=="others"&&(await this._removeSession(),await xt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const a=tj(),s={id:a,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async a=>{var s,o;try{const{data:{session:u},error:c}=a;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",e,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",u),console.error(u)}})}async resetPasswordForEmail(e,a={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await rs(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(await xt(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var e;try{const{data:a,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=a.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var a;try{const{data:s,error:o}=await this._useSession(async u=>{var c,m,h,p,v;const{data:f,error:g}=u;if(g)throw g;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(m=e.options)===null||m===void 0?void 0:m.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",_,{headers:this.headers,jwt:(v=(p=f.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return Tt()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(oe(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async a=>{var s;try{const{error:o,data:{session:u}}=a;if(o)throw o;const{options:c,provider:m,token:h,access_token:p,nonce:v}=e,f=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=u?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:m,id_token:h,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:xn}),{data:g,error:_}=f;return _?this._returnResult({data:{user:null,session:null},error:_}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new ss}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:_}))}catch(o){if(await xt(this.storage,`${this.storageKey}-code-verifier`),oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async a=>{var s,o;const{data:u,error:c}=a;if(c)throw c;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(e){const a=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{const s=Date.now();return await sj(async o=>(o>0&&await aj(200*Math.pow(2,o-1)),this._debug(a,"refreshing attempt",o),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xn})),(o,u)=>{const c=200*Math.pow(2,o);return u&&md(u)&&Date.now()+c-s<hs})}catch(s){if(this._debug(a,"error",s),oe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(a,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,a){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",a,"url",s),Tt()&&!a.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,a;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await la(this.storage,this.storageKey);if(o&&this.userStorage){let c=await la(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await ms(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c?.user)!==null&&e!==void 0?e:pd()}else if(o&&!o.user&&!o.user){const c=await la(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await xt(this.storage,this.storageKey+"-user"),await ms(this.storage,this.storageKey,o)):o.user=pd()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const u=((a=o.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<dd;if(this._debug(s,`session has${u?"":" not"} expired with margin of ${dd}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),md(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:m}=await this._getUser(o.access_token);!m&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var a,s;if(!e)throw new Zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new vu;const{data:u,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!u.session)throw new Zt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(o,"error",u),oe(u)){const c={data:null,error:u};return md(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,a,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",a,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:a});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(e,a)}catch(h){u.push(h)}});if(await Promise.all(c),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await xt(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},e),s=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&a.user&&await ms(this.userStorage,this.storageKey+"-user",{user:a.user});const o=Object.assign({},a);delete o.user;const u=V0(o);await ms(this.storage,this.storageKey,u)}else{const o=V0(a);await ms(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await xt(this.storage,this.storageKey),await xt(this.storage,this.storageKey+"-code-verifier"),await xt(this.storage,this.storageKey+"-user"),this.userStorage&&await xt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Tt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const a=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const a=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,a&&clearTimeout(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async a=>{const{data:{session:s}}=a;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/hs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${hs}ms, refresh threshold is ${Wd} ticks`),o<=Wd&&await this._callRefreshToken(s.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ww)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const a=`#_onVisibilityChanged(${e})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,a,s){const o=[`provider=${encodeURIComponent(a)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[u,c]=await rs(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(m.toString())}if(s?.queryParams){const u=new URLSearchParams(s.queryParams);o.push(u.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async a=>{var s;const{data:o,error:u}=a;return u?this._returnResult({data:null,error:u}):await fe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(e){try{return await this._useSession(async a=>{var s,o;const{data:u,error:c}=a;if(c)return this._returnResult({data:null,error:c});const m=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:p}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(s=u?.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var s;const{data:o,error:u}=a;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Lj(e.webauthn.credential_response):Uj(e.webauthn.credential_response)})}:{code:e.code}),{data:m,error:h}=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:h}))})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var s;const{data:o,error:u}=a;if(u)return this._returnResult({data:null,error:u});const c=await fe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:m}=c;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Nj(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:kj(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(e){const{data:a,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:a.id,code:e.code})}async _listFactors(){var e;const{data:{user:a},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(e=a?.factors)!==null&&e!==void 0?e:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(e){var a,s,o,u;if(e)try{const{payload:_}=Il(e);let b=null;_.aal&&(b=_.aal);let E=b;const{data:{user:T},error:A}=await this.getUser(e);if(A)return this._returnResult({data:null,error:A});((s=(a=T?.factors)===null||a===void 0?void 0:a.filter(U=>U.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(E="aal2");const O=_.amr||[];return{data:{currentLevel:b,nextLevel:E,currentAuthenticationMethods:O},error:null}}catch(_){if(oe(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:c},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Il(c.access_token);let p=null;h.aal&&(p=h.aal);let v=p;((u=(o=c.user.factors)===null||o===void 0?void 0:o.filter(_=>_.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(v="aal2");const g=h.amr||[];return{data:{currentLevel:p,nextLevel:v,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;return o?this._returnResult({data:null,error:o}):s?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Zt})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(e,a){try{return await this._useSession(async s=>{const{data:{session:o},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Zt});const c=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return c.data&&c.data.redirect_url&&Tt()&&!a?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,a){try{return await this._useSession(async s=>{const{data:{session:o},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new Zt});const c=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return c.data&&c.data.redirect_url&&Tt()&&!a?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:a},error:s}=e;return s?this._returnResult({data:null,error:s}):a?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Zt})})}catch(e){if(oe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;return o?this._returnResult({data:null,error:o}):s?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zt})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(e,a={keys:[]}){let s=a.keys.find(m=>m.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(m=>m.kid===e),s&&this.jwks_cached_at+qO>o)return s;const{data:u,error:c}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,s=u.keys.find(m=>m.kid===e),!s)?null:s}async getClaims(e,a={}){try{let s=e;if(!s){const{data:_,error:b}=await this.getSession();if(b||!_.session)return this._returnResult({data:null,error:b});s=_.session.access_token}const{header:o,payload:u,signature:c,raw:{header:m,payload:h}}=Il(s);a?.allowExpired||dj(u.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!p){const{error:_}=await this.getUser(s);if(_)throw _;return{data:{claims:u,header:o,signature:c},error:null}}const v=hj(o.alg),f=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,f,c,ZO(`${m}.${h}`)))throw new Zd("Invalid JWT signature");return{data:{claims:u,header:o,signature:c},error:null}}catch(s){if(oe(s))return this._returnResult({data:null,error:s});throw s}}}eo.nextInstanceID={};const Gj=eo,Fj="2.94.0";let Lr="";typeof Deno<"u"?Lr="deno":typeof document<"u"?Lr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lr="react-native":Lr="node";const Kj={"X-Client-Info":`supabase-js-${Lr}/${Fj}`},Yj={headers:Kj},Xj={schema:"public"},Wj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qj={};function to(n){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},to(n)}function Jj(n,e){if(to(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var s=a.call(n,e);if(to(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Zj(n){var e=Jj(n,"string");return to(e)=="symbol"?e:e+""}function eM(n,e,a){return(e=Zj(e))in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function K0(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),a.push.apply(a,s)}return a}function et(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?K0(Object(a),!0).forEach(function(s){eM(n,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):K0(Object(a)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(a,s))})}return n}const tM=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),nM=()=>Headers,iM=(n,e,a)=>{const s=tM(a),o=nM();return async(u,c)=>{var m;const h=(m=await e())!==null&&m!==void 0?m:n;let p=new o(c?.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),s(u,et(et({},c),{},{headers:p}))}};function aM(n){return n.endsWith("/")?n:n+"/"}function sM(n,e){var a,s;const{db:o,auth:u,realtime:c,global:m}=n,{db:h,auth:p,realtime:v,global:f}=e,g={db:et(et({},h),o),auth:et(et({},p),u),realtime:et(et({},v),c),storage:{},global:et(et(et({},f),m),{},{headers:et(et({},(a=f?.headers)!==null&&a!==void 0?a:{}),(s=m?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return n.accessToken?g.accessToken=n.accessToken:delete g.accessToken,g}function rM(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(aM(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var oM=class extends Gj{constructor(n){super(n)}},lM=class{constructor(n,e,a){var s,o;this.supabaseUrl=n,this.supabaseKey=e;const u=rM(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,m={db:Xj,realtime:Qj,auth:et(et({},Wj),{},{storageKey:c}),global:Yj},h=sM(a??{},m);if(this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(v,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=h.auth)!==null&&p!==void 0?p:{},this.headers,h.global.fetch)}this.fetch=iM(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(et({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new F2(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch,timeout:h.db.timeout,urlLengthLimit:h.db.urlLengthLimit}),this.storage=new PO(this.storageUrl.href,this.headers,this.fetch,a?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new z2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,a)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,a;if(n.accessToken)return await n.accessToken();const{data:s}=await n.auth.getSession();return(e=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:a,storage:s,userStorage:o,storageKey:u,flowType:c,lock:m,debug:h,throwOnError:p},v,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oM({url:this.authUrl.href,headers:et(et({},g),v),storageKey:u,autoRefreshToken:n,persistSession:e,detectSessionInUrl:a,storage:s,userStorage:o,flowType:c,lock:m,debug:h,throwOnError:p,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new uO(this.realtimeUrl.href,et(et({},n),{},{params:et(et({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e?.access_token)})}_handleTokenChanged(n,e,a){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const uM=(n,e,a)=>new lM(n,e,a);function cM(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const e=n.version;if(e==null)return!1;const a=e.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}cM()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fM="https://jfcilajcilnlzpsarbuu.supabase.co",dM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpmY2lsYWpjaWxubHpwc2FyYnV1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAxMDYzOTEsImV4cCI6MjA4NTY4MjM5MX0.xeKOnojMU0lOy7GLQuNBinZzdGJHwoDqwt5GIzUakCM",Ye=uM(fM,dM,{realtime:{params:{eventsPerSecond:10}}}),hM=[{id:"james",name:"James",color:"#D4AF37"},{id:"lee",name:"Lee",color:"#2E8B57"},{id:"ben",name:"Ben",color:"#CD853F"},{id:"steph",name:"Steph",color:"#8B4513"}];function no(n){return hM.find(e=>e.id===n)?.color??"#D4AF37"}function Y0(n){return Number.isNaN(n)?1:Math.min(10,Math.max(1,Math.round(n)))}function Fh(n,e){return[...n].sort((s,o)=>s.order_index-o.order_index)[e]??null}function _u(n){return n.length?n.reduce((a,s)=>a+s.score,0)/n.length:0}function mM(n){if(!n.length)return 0;let e=1/0,a=-1/0;for(const s of n)e=Math.min(e,s.score),a=Math.max(a,s.score);return a-e}function pM(n){return n.length?n.reduce((e,a)=>e+a,0)/n.length:0}function Ir(n,e,a){const s={};for(const _ of n)s[_.participant_id]={total:0,count:0};for(const _ of e){const b=s[_.participant_id];b&&(b.total+=_.score,b.count+=1)}const o={};for(const[_,b]of Object.entries(s))o[_]=b.count>0?b.total/b.count:0;let u=null,c=null;for(const _ of n){const b=o[_.participant_id];b>0&&((!u||b>u.avg)&&(u={participant:_,avg:b}),(!c||b<c.avg)&&(c={participant:_,avg:b}))}const m=a.map(_=>{const b=e.filter(A=>A.song_index===_.order_index),E=_u(b),T=mM(b);return{song:_,avg:E,spread:T,count:b.length}}).filter(_=>_.count===4),h=m.length>0?[...m].sort((_,b)=>b.spread-_.spread)[0]:null,p=m.length>0?[...m].sort((_,b)=>b.avg-_.avg)[0]:null,v=m.length>0?[...m].sort((_,b)=>_.avg-b.avg)[0]:null,f=Object.values(o).filter(_=>_>0),g=pM(f);return{stan:u,hater:c,mostDivisive:h?{song:h.song,spread:h.spread}:null,highestRated:p?{song:p.song,avg:p.avg}:null,lowestRated:v?{song:v.song,avg:v.avg}:null,albumAvg:g,personAverages:o}}function gM(){const n="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let a=0;a<6;a++)e+=n[Math.floor(Math.random()*n.length)];return e}function yM(){const[n,e]=j.useState(!1),[a,s]=j.useState(null);async function o(){e(!0),s(null);const u=gM();try{const{error:c}=await Ye.from("sessions").insert([{code:u,title:"J. Cole Album Night",status:"lobby",song_index:0,locked:!1}]);if(c)throw c;const m=[{session_code:u,participant_id:"james",name:"James",avatar_url:null,claimed:!1},{session_code:u,participant_id:"lee",name:"Lee",avatar_url:null,claimed:!1},{session_code:u,participant_id:"ben",name:"Ben",avatar_url:null,claimed:!1},{session_code:u,participant_id:"steph",name:"Steph",avatar_url:null,claimed:!1}],{error:h}=await Ye.from("participants").insert(m);if(h)throw h;window.location.hash=`#/admin/${u}`}catch(c){console.error("Error creating session:",c),s(c instanceof Error?c.message:"Failed to create session")}finally{e(!1)}}return S.jsx("div",{className:"container",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh"},children:S.jsxs(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"card card-glow text-center",style:{maxWidth:500,padding:48},children:[S.jsxs(pe.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:[S.jsx("div",{className:"h1",style:{color:"var(--gold)",marginBottom:8},children:"Album Night"}),S.jsx("div",{className:"h2",style:{color:"var(--text-secondary)"},children:"J. Cole Listening Party"})]}),S.jsx("div",{className:"spacer-xl"}),S.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},style:{width:80,height:4,background:"linear-gradient(90deg, transparent, var(--gold), transparent)",margin:"0 auto 32px"}}),S.jsx(pe.p,{initial:{opacity:0},animate:{opacity:.8},transition:{delay:.5},style:{marginBottom:32,lineHeight:1.7},children:"Rating tracks since 2026"}),S.jsx(pe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"btn btn-primary btn-lg w-full",onClick:o,disabled:n,children:n?S.jsxs(S.Fragment,{children:[S.jsx("span",{className:"loading-spin",style:{display:"inline-block"},children:""}),"Creating..."]}):"Create New Session"}),a&&S.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},className:"pill pill-danger",style:{marginTop:16},children:a}),S.jsx("div",{className:"spacer-lg"}),S.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:.6},transition:{delay:.6},style:{fontSize:"0.875rem"},children:[S.jsx("div",{style:{marginBottom:8},children:"Tonight's crew:"}),S.jsx("div",{className:"flex justify-center gap-sm",style:{flexWrap:"wrap"},children:["James","Lee","Ben","Steph"].map(u=>S.jsx("span",{className:"pill",children:u},u))})]})]})})}var vM=Object.defineProperty,ru=Object.getOwnPropertySymbols,Tw=Object.prototype.hasOwnProperty,Ew=Object.prototype.propertyIsEnumerable,X0=(n,e,a)=>e in n?vM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a,eh=(n,e)=>{for(var a in e||(e={}))Tw.call(e,a)&&X0(n,a,e[a]);if(ru)for(var a of ru(e))Ew.call(e,a)&&X0(n,a,e[a]);return n},th=(n,e)=>{var a={};for(var s in n)Tw.call(n,s)&&e.indexOf(s)<0&&(a[s]=n[s]);if(n!=null&&ru)for(var s of ru(n))e.indexOf(s)<0&&Ew.call(n,s)&&(a[s]=n[s]);return a};var ya;(n=>{const e=class Ee{constructor(h,p,v,f){if(this.version=h,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],h<Ee.MIN_VERSION||h>Ee.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=h*4+17;let g=[];for(let b=0;b<this.size;b++)g.push(!1);for(let b=0;b<this.size;b++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();const _=this.addEccAndInterleave(v);if(this.drawCodewords(_),f==-1){let b=1e9;for(let E=0;E<8;E++){this.applyMask(E),this.drawFormatBits(E);const T=this.getPenaltyScore();T<b&&(f=E,b=T),this.applyMask(E)}}o(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(h,p){const v=n.QrSegment.makeSegments(h);return Ee.encodeSegments(v,p)}static encodeBinary(h,p){const v=n.QrSegment.makeBytes(h);return Ee.encodeSegments([v],p)}static encodeSegments(h,p,v=1,f=40,g=-1,_=!0){if(!(Ee.MIN_VERSION<=v&&v<=f&&f<=Ee.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let b,E;for(b=v;;b++){const O=Ee.getNumDataCodewords(b,p)*8,U=c.getTotalBits(h,b);if(U<=O){E=U;break}if(b>=f)throw new RangeError("Data too long")}for(const O of[Ee.Ecc.MEDIUM,Ee.Ecc.QUARTILE,Ee.Ecc.HIGH])_&&E<=Ee.getNumDataCodewords(b,O)*8&&(p=O);let T=[];for(const O of h){a(O.mode.modeBits,4,T),a(O.numChars,O.mode.numCharCountBits(b),T);for(const U of O.getData())T.push(U)}o(T.length==E);const A=Ee.getNumDataCodewords(b,p)*8;o(T.length<=A),a(0,Math.min(4,A-T.length),T),a(0,(8-T.length%8)%8,T),o(T.length%8==0);for(let O=236;T.length<A;O^=253)a(O,8,T);let C=[];for(;C.length*8<T.length;)C.push(0);return T.forEach((O,U)=>C[U>>>3]|=O<<7-(U&7)),new Ee(b,p,C,g)}getModule(h,p){return 0<=h&&h<this.size&&0<=p&&p<this.size&&this.modules[p][h]}getModules(){return this.modules}drawFunctionPatterns(){for(let v=0;v<this.size;v++)this.setFunctionModule(6,v,v%2==0),this.setFunctionModule(v,6,v%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const h=this.getAlignmentPatternPositions(),p=h.length;for(let v=0;v<p;v++)for(let f=0;f<p;f++)v==0&&f==0||v==0&&f==p-1||v==p-1&&f==0||this.drawAlignmentPattern(h[v],h[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(h){const p=this.errorCorrectionLevel.formatBits<<3|h;let v=p;for(let g=0;g<10;g++)v=v<<1^(v>>>9)*1335;const f=(p<<10|v)^21522;o(f>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,s(f,g));this.setFunctionModule(8,7,s(f,6)),this.setFunctionModule(8,8,s(f,7)),this.setFunctionModule(7,8,s(f,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,s(f,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,s(f,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,s(f,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let h=this.version;for(let v=0;v<12;v++)h=h<<1^(h>>>11)*7973;const p=this.version<<12|h;o(p>>>18==0);for(let v=0;v<18;v++){const f=s(p,v),g=this.size-11+v%3,_=Math.floor(v/3);this.setFunctionModule(g,_,f),this.setFunctionModule(_,g,f)}}drawFinderPattern(h,p){for(let v=-4;v<=4;v++)for(let f=-4;f<=4;f++){const g=Math.max(Math.abs(f),Math.abs(v)),_=h+f,b=p+v;0<=_&&_<this.size&&0<=b&&b<this.size&&this.setFunctionModule(_,b,g!=2&&g!=4)}}drawAlignmentPattern(h,p){for(let v=-2;v<=2;v++)for(let f=-2;f<=2;f++)this.setFunctionModule(h+f,p+v,Math.max(Math.abs(f),Math.abs(v))!=1)}setFunctionModule(h,p,v){this.modules[p][h]=v,this.isFunction[p][h]=!0}addEccAndInterleave(h){const p=this.version,v=this.errorCorrectionLevel;if(h.length!=Ee.getNumDataCodewords(p,v))throw new RangeError("Invalid argument");const f=Ee.NUM_ERROR_CORRECTION_BLOCKS[v.ordinal][p],g=Ee.ECC_CODEWORDS_PER_BLOCK[v.ordinal][p],_=Math.floor(Ee.getNumRawDataModules(p)/8),b=f-_%f,E=Math.floor(_/f);let T=[];const A=Ee.reedSolomonComputeDivisor(g);for(let O=0,U=0;O<f;O++){let H=h.slice(U,U+E-g+(O<b?0:1));U+=H.length;const K=Ee.reedSolomonComputeRemainder(H,A);O<b&&H.push(0),T.push(H.concat(K))}let C=[];for(let O=0;O<T[0].length;O++)T.forEach((U,H)=>{(O!=E-g||H>=b)&&C.push(U[O])});return o(C.length==_),C}drawCodewords(h){if(h.length!=Math.floor(Ee.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let v=this.size-1;v>=1;v-=2){v==6&&(v=5);for(let f=0;f<this.size;f++)for(let g=0;g<2;g++){const _=v-g,E=(v+1&2)==0?this.size-1-f:f;!this.isFunction[E][_]&&p<h.length*8&&(this.modules[E][_]=s(h[p>>>3],7-(p&7)),p++)}}o(p==h.length*8)}applyMask(h){if(h<0||h>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let v=0;v<this.size;v++){let f;switch(h){case 0:f=(v+p)%2==0;break;case 1:f=p%2==0;break;case 2:f=v%3==0;break;case 3:f=(v+p)%3==0;break;case 4:f=(Math.floor(v/3)+Math.floor(p/2))%2==0;break;case 5:f=v*p%2+v*p%3==0;break;case 6:f=(v*p%2+v*p%3)%2==0;break;case 7:f=((v+p)%2+v*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][v]&&f&&(this.modules[p][v]=!this.modules[p][v])}}getPenaltyScore(){let h=0;for(let g=0;g<this.size;g++){let _=!1,b=0,E=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[g][T]==_?(b++,b==5?h+=Ee.PENALTY_N1:b>5&&h++):(this.finderPenaltyAddHistory(b,E),_||(h+=this.finderPenaltyCountPatterns(E)*Ee.PENALTY_N3),_=this.modules[g][T],b=1);h+=this.finderPenaltyTerminateAndCount(_,b,E)*Ee.PENALTY_N3}for(let g=0;g<this.size;g++){let _=!1,b=0,E=[0,0,0,0,0,0,0];for(let T=0;T<this.size;T++)this.modules[T][g]==_?(b++,b==5?h+=Ee.PENALTY_N1:b>5&&h++):(this.finderPenaltyAddHistory(b,E),_||(h+=this.finderPenaltyCountPatterns(E)*Ee.PENALTY_N3),_=this.modules[T][g],b=1);h+=this.finderPenaltyTerminateAndCount(_,b,E)*Ee.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let _=0;_<this.size-1;_++){const b=this.modules[g][_];b==this.modules[g][_+1]&&b==this.modules[g+1][_]&&b==this.modules[g+1][_+1]&&(h+=Ee.PENALTY_N2)}let p=0;for(const g of this.modules)p=g.reduce((_,b)=>_+(b?1:0),p);const v=this.size*this.size,f=Math.ceil(Math.abs(p*20-v*10)/v)-1;return o(0<=f&&f<=9),h+=f*Ee.PENALTY_N4,o(0<=h&&h<=2568888),h}getAlignmentPatternPositions(){if(this.version==1)return[];{const h=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(h*2-2))*2;let v=[6];for(let f=this.size-7;v.length<h;f-=p)v.splice(1,0,f);return v}}static getNumRawDataModules(h){if(h<Ee.MIN_VERSION||h>Ee.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*h+128)*h+64;if(h>=2){const v=Math.floor(h/7)+2;p-=(25*v-10)*v-55,h>=7&&(p-=36)}return o(208<=p&&p<=29648),p}static getNumDataCodewords(h,p){return Math.floor(Ee.getNumRawDataModules(h)/8)-Ee.ECC_CODEWORDS_PER_BLOCK[p.ordinal][h]*Ee.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][h]}static reedSolomonComputeDivisor(h){if(h<1||h>255)throw new RangeError("Degree out of range");let p=[];for(let f=0;f<h-1;f++)p.push(0);p.push(1);let v=1;for(let f=0;f<h;f++){for(let g=0;g<p.length;g++)p[g]=Ee.reedSolomonMultiply(p[g],v),g+1<p.length&&(p[g]^=p[g+1]);v=Ee.reedSolomonMultiply(v,2)}return p}static reedSolomonComputeRemainder(h,p){let v=p.map(f=>0);for(const f of h){const g=f^v.shift();v.push(0),p.forEach((_,b)=>v[b]^=Ee.reedSolomonMultiply(_,g))}return v}static reedSolomonMultiply(h,p){if(h>>>8||p>>>8)throw new RangeError("Byte out of range");let v=0;for(let f=7;f>=0;f--)v=v<<1^(v>>>7)*285,v^=(p>>>f&1)*h;return o(v>>>8==0),v}finderPenaltyCountPatterns(h){const p=h[1];o(p<=this.size*3);const v=p>0&&h[2]==p&&h[3]==p*3&&h[4]==p&&h[5]==p;return(v&&h[0]>=p*4&&h[6]>=p?1:0)+(v&&h[6]>=p*4&&h[0]>=p?1:0)}finderPenaltyTerminateAndCount(h,p,v){return h&&(this.finderPenaltyAddHistory(p,v),p=0),p+=this.size,this.finderPenaltyAddHistory(p,v),this.finderPenaltyCountPatterns(v)}finderPenaltyAddHistory(h,p){p[0]==0&&(h+=this.size),p.pop(),p.unshift(h)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function a(m,h,p){if(h<0||h>31||m>>>h)throw new RangeError("Value out of range");for(let v=h-1;v>=0;v--)p.push(m>>>v&1)}function s(m,h){return(m>>>h&1)!=0}function o(m){if(!m)throw new Error("Assertion error")}const u=class Ze{constructor(h,p,v){if(this.mode=h,this.numChars=p,this.bitData=v,p<0)throw new RangeError("Invalid argument");this.bitData=v.slice()}static makeBytes(h){let p=[];for(const v of h)a(v,8,p);return new Ze(Ze.Mode.BYTE,h.length,p)}static makeNumeric(h){if(!Ze.isNumeric(h))throw new RangeError("String contains non-numeric characters");let p=[];for(let v=0;v<h.length;){const f=Math.min(h.length-v,3);a(parseInt(h.substring(v,v+f),10),f*3+1,p),v+=f}return new Ze(Ze.Mode.NUMERIC,h.length,p)}static makeAlphanumeric(h){if(!Ze.isAlphanumeric(h))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],v;for(v=0;v+2<=h.length;v+=2){let f=Ze.ALPHANUMERIC_CHARSET.indexOf(h.charAt(v))*45;f+=Ze.ALPHANUMERIC_CHARSET.indexOf(h.charAt(v+1)),a(f,11,p)}return v<h.length&&a(Ze.ALPHANUMERIC_CHARSET.indexOf(h.charAt(v)),6,p),new Ze(Ze.Mode.ALPHANUMERIC,h.length,p)}static makeSegments(h){return h==""?[]:Ze.isNumeric(h)?[Ze.makeNumeric(h)]:Ze.isAlphanumeric(h)?[Ze.makeAlphanumeric(h)]:[Ze.makeBytes(Ze.toUtf8ByteArray(h))]}static makeEci(h){let p=[];if(h<0)throw new RangeError("ECI assignment value out of range");if(h<128)a(h,8,p);else if(h<16384)a(2,2,p),a(h,14,p);else if(h<1e6)a(6,3,p),a(h,21,p);else throw new RangeError("ECI assignment value out of range");return new Ze(Ze.Mode.ECI,0,p)}static isNumeric(h){return Ze.NUMERIC_REGEX.test(h)}static isAlphanumeric(h){return Ze.ALPHANUMERIC_REGEX.test(h)}getData(){return this.bitData.slice()}static getTotalBits(h,p){let v=0;for(const f of h){const g=f.mode.numCharCountBits(p);if(f.numChars>=1<<g)return 1/0;v+=4+g+f.bitData.length}return v}static toUtf8ByteArray(h){h=encodeURI(h);let p=[];for(let v=0;v<h.length;v++)h.charAt(v)!="%"?p.push(h.charCodeAt(v)):(p.push(parseInt(h.substring(v+1,v+3),16)),v+=2);return p}};u.NUMERIC_REGEX=/^[0-9]*$/,u.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,u.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=u;n.QrSegment=u})(ya||(ya={}));(n=>{(e=>{const a=class{constructor(o,u){this.ordinal=o,this.formatBits=u}};a.LOW=new a(0,1),a.MEDIUM=new a(1,0),a.QUARTILE=new a(2,3),a.HIGH=new a(3,2),e.Ecc=a})(n.QrCode||(n.QrCode={}))})(ya||(ya={}));(n=>{(e=>{const a=class{constructor(o,u){this.modeBits=o,this.numBitsCharCount=u}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};a.NUMERIC=new a(1,[10,12,14]),a.ALPHANUMERIC=new a(2,[9,11,13]),a.BYTE=new a(4,[8,16,16]),a.KANJI=new a(8,[8,10,12]),a.ECI=new a(7,[0,0,0]),e.Mode=a})(n.QrSegment||(n.QrSegment={}))})(ya||(ya={}));var bs=ya;var _M={L:bs.QrCode.Ecc.LOW,M:bs.QrCode.Ecc.MEDIUM,Q:bs.QrCode.Ecc.QUARTILE,H:bs.QrCode.Ecc.HIGH},Aw=128,Rw="L",Cw="#FFFFFF",Ow="#000000",jw=!1,Mw=1,bM=4,wM=0,SM=.1;function Dw(n,e=0){const a=[];return n.forEach(function(s,o){let u=null;s.forEach(function(c,m){if(!c&&u!==null){a.push(`M${u+e} ${o+e}h${m-u}v1H${u+e}z`),u=null;return}if(m===s.length-1){if(!c)return;u===null?a.push(`M${m+e},${o+e} h1v1H${m+e}z`):a.push(`M${u+e},${o+e} h${m+1-u}v1H${u+e}z`);return}c&&u===null&&(u=m)})}),a.join("")}function Nw(n,e){return n.slice().map((a,s)=>s<e.y||s>=e.y+e.h?a:a.map((o,u)=>u<e.x||u>=e.x+e.w?o:!1))}function xM(n,e,a,s){if(s==null)return null;const o=n.length+a*2,u=Math.floor(e*SM),c=o/e,m=(s.width||u)*c,h=(s.height||u)*c,p=s.x==null?n.length/2-m/2:s.x*c,v=s.y==null?n.length/2-h/2:s.y*c,f=s.opacity==null?1:s.opacity;let g=null;if(s.excavate){let b=Math.floor(p),E=Math.floor(v),T=Math.ceil(m+p-b),A=Math.ceil(h+v-E);g={x:b,y:E,w:T,h:A}}const _=s.crossOrigin;return{x:p,y:v,h,w:m,excavation:g,opacity:f,crossOrigin:_}}function TM(n,e){return e!=null?Math.max(Math.floor(e),0):n?bM:wM}function kw({value:n,level:e,minVersion:a,includeMargin:s,marginSize:o,imageSettings:u,size:c,boostLevel:m}){let h=ct.useMemo(()=>{const b=(Array.isArray(n)?n:[n]).reduce((E,T)=>(E.push(...bs.QrSegment.makeSegments(T)),E),[]);return bs.QrCode.encodeSegments(b,_M[e],a,void 0,void 0,m)},[n,e,a,m]);const{cells:p,margin:v,numCells:f,calculatedImageSettings:g}=ct.useMemo(()=>{let _=h.getModules();const b=TM(s,o),E=_.length+b*2,T=xM(_,c,b,u);return{cells:_,margin:b,numCells:E,calculatedImageSettings:T}},[h,c,u,s,o]);return{qrcode:h,margin:v,cells:p,numCells:f,calculatedImageSettings:g}}var EM=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),Kh=ct.forwardRef(function(e,a){const s=e,{value:o,size:u=Aw,level:c=Rw,bgColor:m=Cw,fgColor:h=Ow,includeMargin:p=jw,minVersion:v=Mw,boostLevel:f,marginSize:g,imageSettings:_}=s,E=th(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:T}=E,A=th(E,["style"]),C=_?.src,O=ct.useRef(null),U=ct.useRef(null),H=ct.useCallback(be=>{O.current=be,typeof a=="function"?a(be):a&&(a.current=be)},[a]),[K,G]=ct.useState(!1),{margin:W,cells:J,numCells:he,calculatedImageSettings:ee}=kw({value:o,level:c,minVersion:v,boostLevel:f,includeMargin:p,marginSize:g,imageSettings:_,size:u});ct.useEffect(()=>{if(O.current!=null){const be=O.current,Ce=be.getContext("2d");if(!Ce)return;let I=J;const Q=U.current,ie=ee!=null&&Q!==null&&Q.complete&&Q.naturalHeight!==0&&Q.naturalWidth!==0;ie&&ee.excavation!=null&&(I=Nw(J,ee.excavation));const ve=window.devicePixelRatio||1;be.height=be.width=u*ve;const k=u/he*ve;Ce.scale(k,k),Ce.fillStyle=m,Ce.fillRect(0,0,he,he),Ce.fillStyle=h,EM?Ce.fill(new Path2D(Dw(I,W))):J.forEach(function(x,N){x.forEach(function($,X){$&&Ce.fillRect(X+W,N+W,1,1)})}),ee&&(Ce.globalAlpha=ee.opacity),ie&&Ce.drawImage(Q,ee.x+W,ee.y+W,ee.w,ee.h)}}),ct.useEffect(()=>{G(!1)},[C]);const ge=eh({height:u,width:u},T);let ke=null;return C!=null&&(ke=ct.createElement("img",{src:C,key:C,style:{display:"none"},onLoad:()=>{G(!0)},ref:U,crossOrigin:ee?.crossOrigin})),ct.createElement(ct.Fragment,null,ct.createElement("canvas",eh({style:ge,height:u,width:u,ref:H,role:"img"},A)),ke)});Kh.displayName="QRCodeCanvas";var AM=ct.forwardRef(function(e,a){const s=e,{value:o,size:u=Aw,level:c=Rw,bgColor:m=Cw,fgColor:h=Ow,includeMargin:p=jw,minVersion:v=Mw,boostLevel:f,title:g,marginSize:_,imageSettings:b}=s,E=th(s,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:T,cells:A,numCells:C,calculatedImageSettings:O}=kw({value:o,level:c,minVersion:v,boostLevel:f,includeMargin:p,marginSize:_,imageSettings:b,size:u});let U=A,H=null;b!=null&&O!=null&&(O.excavation!=null&&(U=Nw(A,O.excavation)),H=ct.createElement("image",{href:b.src,height:O.h,width:O.w,x:O.x+T,y:O.y+T,preserveAspectRatio:"none",opacity:O.opacity,crossOrigin:O.crossOrigin}));const K=Dw(U,T);return ct.createElement("svg",eh({height:u,width:u,viewBox:`0 0 ${C} ${C}`,ref:a,role:"img"},E),!!g&&ct.createElement("title",null,g),ct.createElement("path",{fill:m,d:`M0,0 h${C}v${C}H0z`,shapeRendering:"crispEdges"}),ct.createElement("path",{fill:h,d:K,shapeRendering:"crispEdges"}),H)});AM.displayName="QRCodeSVG";function fo(n){const[e,a]=j.useState(null),[s,o]=j.useState([]),[u,c]=j.useState([]),[m,h]=j.useState([]),[p,v]=j.useState(!0),[f,g]=j.useState(null),_=j.useRef(null),b=j.useCallback(async()=>{if(n)try{const[T,A,C,O]=await Promise.all([Ye.from("sessions").select("*").eq("code",n).maybeSingle(),Ye.from("participants").select("*").eq("session_code",n),Ye.from("songs").select("*").eq("session_code",n).order("order_index"),Ye.from("scores").select("*").eq("session_code",n)]);if(T.error)throw T.error;if(A.error)throw A.error;if(C.error)throw C.error;if(O.error)throw O.error;a(T.data),o(A.data??[]),c(C.data??[]),h(O.data??[]),g(null)}catch(T){console.error("Error refreshing data:",T),g(T instanceof Error?T.message:"Unknown error")}finally{v(!1)}},[n]);j.useEffect(()=>{if(!n){v(!1);return}b();const T=`session-${n}-${Date.now()}`,A=Ye.channel(T).on("postgres_changes",{event:"*",schema:"public",table:"sessions",filter:`code=eq.${n}`},C=>{console.log("Session change:",C),(C.eventType==="UPDATE"||C.eventType==="INSERT")&&a(C.new)}).on("postgres_changes",{event:"*",schema:"public",table:"participants",filter:`session_code=eq.${n}`},()=>{b()}).on("postgres_changes",{event:"*",schema:"public",table:"songs",filter:`session_code=eq.${n}`},()=>{b()}).on("postgres_changes",{event:"*",schema:"public",table:"scores",filter:`session_code=eq.${n}`},()=>{b()}).subscribe(C=>{console.log("Subscription status:",C)});return _.current=A,()=>{_.current&&(Ye.removeChannel(_.current),_.current=null)}},[n,b]);const E=j.useMemo(()=>[...u].sort((T,A)=>T.order_index-A.order_index),[u]);return{session:e,participants:s,songs:E,scores:m,loading:p,error:f,refreshAll:b}}var Yh={};(function n(e,a,s,o){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=(function(){if(!e.OffscreenCanvas)return!1;try{var k=new OffscreenCanvas(1,1),x=k.getContext("2d");x.fillRect(0,0,1,1);var N=k.transferToImageBitmap();x.createPattern(N,"no-repeat")}catch{return!1}return!0})();function h(){}function p(k){var x=a.exports.Promise,N=x!==void 0?x:e.Promise;return typeof N=="function"?new N(k):(k(h,h),null)}var v=(function(k,x){return{transform:function(N){if(k)return N;if(x.has(N))return x.get(N);var $=new OffscreenCanvas(N.width,N.height),X=$.getContext("2d");return X.drawImage(N,0,0),x.set(N,$),$},clear:function(){x.clear()}}})(m,new Map),f=(function(){var k=Math.floor(16.666666666666668),x,N,$={},X=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(x=function(Z){var ne=Math.random();return $[ne]=requestAnimationFrame(function te(ue){X===ue||X+k-1<ue?(X=ue,delete $[ne],Z()):$[ne]=requestAnimationFrame(te)}),ne},N=function(Z){$[Z]&&cancelAnimationFrame($[Z])}):(x=function(Z){return setTimeout(Z,k)},N=function(Z){return clearTimeout(Z)}),{frame:x,cancel:N}})(),g=(function(){var k,x,N={};function $(X){function Z(ne,te){X.postMessage({options:ne||{},callback:te})}X.init=function(te){var ue=te.transferControlToOffscreen();X.postMessage({canvas:ue},[ue])},X.fire=function(te,ue,me){if(x)return Z(te,null),x;var Be=Math.random().toString(36).slice(2);return x=p(function(Ne){function Ie(at){at.data.callback===Be&&(delete N[Be],X.removeEventListener("message",Ie),x=null,v.clear(),me(),Ne())}X.addEventListener("message",Ie),Z(te,Be),N[Be]=Ie.bind(null,{data:{callback:Be}})}),x},X.reset=function(){X.postMessage({reset:!0});for(var te in N)N[te](),delete N[te]}}return function(){if(k)return k;if(!s&&u){var X=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{k=new Worker(URL.createObjectURL(new Blob([X])))}catch(Z){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",Z),null}$(k)}return k}})(),_={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function b(k,x){return x?x(k):k}function E(k){return k!=null}function T(k,x,N){return b(k&&E(k[x])?k[x]:_[x],N)}function A(k){return k<0?0:Math.floor(k)}function C(k,x){return Math.floor(Math.random()*(x-k))+k}function O(k){return parseInt(k,16)}function U(k){return k.map(H)}function H(k){var x=String(k).replace(/[^0-9a-f]/gi,"");return x.length<6&&(x=x[0]+x[0]+x[1]+x[1]+x[2]+x[2]),{r:O(x.substring(0,2)),g:O(x.substring(2,4)),b:O(x.substring(4,6))}}function K(k){var x=T(k,"origin",Object);return x.x=T(x,"x",Number),x.y=T(x,"y",Number),x}function G(k){k.width=document.documentElement.clientWidth,k.height=document.documentElement.clientHeight}function W(k){var x=k.getBoundingClientRect();k.width=x.width,k.height=x.height}function J(k){var x=document.createElement("canvas");return x.style.position="fixed",x.style.top="0px",x.style.left="0px",x.style.pointerEvents="none",x.style.zIndex=k,x}function he(k,x,N,$,X,Z,ne,te,ue){k.save(),k.translate(x,N),k.rotate(Z),k.scale($,X),k.arc(0,0,1,ne,te,ue),k.restore()}function ee(k){var x=k.angle*(Math.PI/180),N=k.spread*(Math.PI/180);return{x:k.x,y:k.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:k.startVelocity*.5+Math.random()*k.startVelocity,angle2D:-x+(.5*N-Math.random()*N),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:k.color,shape:k.shape,tick:0,totalTicks:k.ticks,decay:k.decay,drift:k.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:k.gravity*3,ovalScalar:.6,scalar:k.scalar,flat:k.flat}}function ge(k,x){x.x+=Math.cos(x.angle2D)*x.velocity+x.drift,x.y+=Math.sin(x.angle2D)*x.velocity+x.gravity,x.velocity*=x.decay,x.flat?(x.wobble=0,x.wobbleX=x.x+10*x.scalar,x.wobbleY=x.y+10*x.scalar,x.tiltSin=0,x.tiltCos=0,x.random=1):(x.wobble+=x.wobbleSpeed,x.wobbleX=x.x+10*x.scalar*Math.cos(x.wobble),x.wobbleY=x.y+10*x.scalar*Math.sin(x.wobble),x.tiltAngle+=.1,x.tiltSin=Math.sin(x.tiltAngle),x.tiltCos=Math.cos(x.tiltAngle),x.random=Math.random()+2);var N=x.tick++/x.totalTicks,$=x.x+x.random*x.tiltCos,X=x.y+x.random*x.tiltSin,Z=x.wobbleX+x.random*x.tiltCos,ne=x.wobbleY+x.random*x.tiltSin;if(k.fillStyle="rgba("+x.color.r+", "+x.color.g+", "+x.color.b+", "+(1-N)+")",k.beginPath(),c&&x.shape.type==="path"&&typeof x.shape.path=="string"&&Array.isArray(x.shape.matrix))k.fill(Q(x.shape.path,x.shape.matrix,x.x,x.y,Math.abs(Z-$)*.1,Math.abs(ne-X)*.1,Math.PI/10*x.wobble));else if(x.shape.type==="bitmap"){var te=Math.PI/10*x.wobble,ue=Math.abs(Z-$)*.1,me=Math.abs(ne-X)*.1,Be=x.shape.bitmap.width*x.scalar,Ne=x.shape.bitmap.height*x.scalar,Ie=new DOMMatrix([Math.cos(te)*ue,Math.sin(te)*ue,-Math.sin(te)*me,Math.cos(te)*me,x.x,x.y]);Ie.multiplySelf(new DOMMatrix(x.shape.matrix));var at=k.createPattern(v.transform(x.shape.bitmap),"no-repeat");at.setTransform(Ie),k.globalAlpha=1-N,k.fillStyle=at,k.fillRect(x.x-Be/2,x.y-Ne/2,Be,Ne),k.globalAlpha=1}else if(x.shape==="circle")k.ellipse?k.ellipse(x.x,x.y,Math.abs(Z-$)*x.ovalScalar,Math.abs(ne-X)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI):he(k,x.x,x.y,Math.abs(Z-$)*x.ovalScalar,Math.abs(ne-X)*x.ovalScalar,Math.PI/10*x.wobble,0,2*Math.PI);else if(x.shape==="star")for(var we=Math.PI/2*3,pt=4*x.scalar,Ot=8*x.scalar,It=x.x,nn=x.y,vn=5,Nt=Math.PI/vn;vn--;)It=x.x+Math.cos(we)*Ot,nn=x.y+Math.sin(we)*Ot,k.lineTo(It,nn),we+=Nt,It=x.x+Math.cos(we)*pt,nn=x.y+Math.sin(we)*pt,k.lineTo(It,nn),we+=Nt;else k.moveTo(Math.floor(x.x),Math.floor(x.y)),k.lineTo(Math.floor(x.wobbleX),Math.floor(X)),k.lineTo(Math.floor(Z),Math.floor(ne)),k.lineTo(Math.floor($),Math.floor(x.wobbleY));return k.closePath(),k.fill(),x.tick<x.totalTicks}function ke(k,x,N,$,X){var Z=x.slice(),ne=k.getContext("2d"),te,ue,me=p(function(Be){function Ne(){te=ue=null,ne.clearRect(0,0,$.width,$.height),v.clear(),X(),Be()}function Ie(){s&&!($.width===o.width&&$.height===o.height)&&($.width=k.width=o.width,$.height=k.height=o.height),!$.width&&!$.height&&(N(k),$.width=k.width,$.height=k.height),ne.clearRect(0,0,$.width,$.height),Z=Z.filter(function(at){return ge(ne,at)}),Z.length?te=f.frame(Ie):Ne()}te=f.frame(Ie),ue=Ne});return{addFettis:function(Be){return Z=Z.concat(Be),me},canvas:k,promise:me,reset:function(){te&&f.cancel(te),ue&&ue()}}}function be(k,x){var N=!k,$=!!T(x||{},"resize"),X=!1,Z=T(x,"disableForReducedMotion",Boolean),ne=u&&!!T(x||{},"useWorker"),te=ne?g():null,ue=N?G:W,me=k&&te?!!k.__confetti_initialized:!1,Be=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ne;function Ie(we,pt,Ot){for(var It=T(we,"particleCount",A),nn=T(we,"angle",Number),vn=T(we,"spread",Number),Nt=T(we,"startVelocity",Number),Ms=T(we,"decay",Number),wu=T(we,"gravity",Number),Su=T(we,"drift",Number),At=T(we,"colors",U),xu=T(we,"ticks",Number),Ds=T(we,"shapes"),ho=T(we,"scalar"),_a=!!T(we,"flat"),mo=K(we),Ns=It,ks=[],Tu=k.width*mo.x,Hi=k.height*mo.y;Ns--;)ks.push(ee({x:Tu,y:Hi,angle:nn,spread:vn,startVelocity:Nt,color:At[Ns%At.length],shape:Ds[C(0,Ds.length)],ticks:xu,decay:Ms,gravity:wu,drift:Su,scalar:ho,flat:_a}));return Ne?Ne.addFettis(ks):(Ne=ke(k,ks,ue,pt,Ot),Ne.promise)}function at(we){var pt=Z||T(we,"disableForReducedMotion",Boolean),Ot=T(we,"zIndex",Number);if(pt&&Be)return p(function(Nt){Nt()});N&&Ne?k=Ne.canvas:N&&!k&&(k=J(Ot),document.body.appendChild(k)),$&&!me&&ue(k);var It={width:k.width,height:k.height};te&&!me&&te.init(k),me=!0,te&&(k.__confetti_initialized=!0);function nn(){if(te){var Nt={getBoundingClientRect:function(){if(!N)return k.getBoundingClientRect()}};ue(Nt),te.postMessage({resize:{width:Nt.width,height:Nt.height}});return}It.width=It.height=null}function vn(){Ne=null,$&&(X=!1,e.removeEventListener("resize",nn)),N&&k&&(document.body.contains(k)&&document.body.removeChild(k),k=null,me=!1)}return $&&!X&&(X=!0,e.addEventListener("resize",nn,!1)),te?te.fire(we,It,vn):Ie(we,It,vn)}return at.reset=function(){te&&te.reset(),Ne&&Ne.reset()},at}var Ce;function I(){return Ce||(Ce=be(null,{useWorker:!0,resize:!0})),Ce}function Q(k,x,N,$,X,Z,ne){var te=new Path2D(k),ue=new Path2D;ue.addPath(te,new DOMMatrix(x));var me=new Path2D;return me.addPath(ue,new DOMMatrix([Math.cos(ne)*X,Math.sin(ne)*X,-Math.sin(ne)*Z,Math.cos(ne)*Z,N,$])),me}function ie(k){if(!c)throw new Error("path confetti are not supported in this browser");var x,N;typeof k=="string"?x=k:(x=k.path,N=k.matrix);var $=new Path2D(x),X=document.createElement("canvas"),Z=X.getContext("2d");if(!N){for(var ne=1e3,te=ne,ue=ne,me=0,Be=0,Ne,Ie,at=0;at<ne;at+=2)for(var we=0;we<ne;we+=2)Z.isPointInPath($,at,we,"nonzero")&&(te=Math.min(te,at),ue=Math.min(ue,we),me=Math.max(me,at),Be=Math.max(Be,we));Ne=me-te,Ie=Be-ue;var pt=10,Ot=Math.min(pt/Ne,pt/Ie);N=[Ot,0,0,Ot,-Math.round(Ne/2+te)*Ot,-Math.round(Ie/2+ue)*Ot]}return{type:"path",path:x,matrix:N}}function ve(k){var x,N=1,$="#000000",X='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof k=="string"?x=k:(x=k.text,N="scalar"in k?k.scalar:N,X="fontFamily"in k?k.fontFamily:X,$="color"in k?k.color:$);var Z=10*N,ne=""+Z+"px "+X,te=new OffscreenCanvas(Z,Z),ue=te.getContext("2d");ue.font=ne;var me=ue.measureText(x),Be=Math.ceil(me.actualBoundingBoxRight+me.actualBoundingBoxLeft),Ne=Math.ceil(me.actualBoundingBoxAscent+me.actualBoundingBoxDescent),Ie=2,at=me.actualBoundingBoxLeft+Ie,we=me.actualBoundingBoxAscent+Ie;Be+=Ie+Ie,Ne+=Ie+Ie,te=new OffscreenCanvas(Be,Ne),ue=te.getContext("2d"),ue.font=ne,ue.fillStyle=$,ue.fillText(x,at,we);var pt=1/N;return{type:"bitmap",bitmap:te.transferToImageBitmap(),matrix:[pt,0,0,pt,-Be*pt/2,-Ne*pt/2]}}a.exports=function(){return I().apply(this,arguments)},a.exports.reset=function(){I().reset()},a.exports.create=be,a.exports.shapeFromPath=ie,a.exports.shapeFromText=ve})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Yh,!1);const Dr=Yh.exports;Yh.exports.create;function Lw(){const n=j.useCallback((o,u,c)=>{Dr({particleCount:30,spread:50,origin:{x:o,y:u},colors:c?[c,"#D4AF37"]:["#D4AF37","#2E8B57","#CD853F","#8B4513"],startVelocity:20,gravity:1.2,scalar:.8,ticks:80})},[]),e=j.useCallback(()=>{const u=Date.now()+2e3,c=["#D4AF37","#2E8B57","#CD853F","#F5F5DC","#FFD700"],m=()=>{Dr({particleCount:5,angle:60,spread:55,origin:{x:0,y:.7},colors:c}),Dr({particleCount:5,angle:120,spread:55,origin:{x:1,y:.7},colors:c}),Date.now()<u&&requestAnimationFrame(m)};m()},[]),a=j.useCallback(()=>{const u=Date.now()+3e3,c=["#D4AF37","#2E8B57","#CD853F","#F5F5DC","#FFD700","#FFFFFF"],m=setInterval(()=>{if(Date.now()>u){clearInterval(m);return}Dr({particleCount:100,startVelocity:30,spread:360,origin:{x:Math.random(),y:Math.random()-.2},colors:c,gravity:.8})},250);return()=>clearInterval(m)},[]),s=j.useCallback(()=>{Dr({particleCount:100,spread:180,origin:{x:.5,y:0},colors:["#D4AF37","#FFD700","#FFC300","#F5F5DC"],startVelocity:45,gravity:.8,scalar:1.2,ticks:200})},[]);return{burstAt:n,celebrate:e,fireworks:a,goldShower:s}}var yd={};var W0;function RM(){return W0||(W0=1,(function(n){(function(){var e=function(){this.init()};e.prototype={init:function(){var f=this||a;return f._counter=1e3,f._html5AudioPool=[],f.html5PoolSize=10,f._codecs={},f._howls=[],f._muted=!1,f._volume=1,f._canPlayEvent="canplaythrough",f._navigator=typeof window<"u"&&window.navigator?window.navigator:null,f.masterGain=null,f.noAudio=!1,f.usingWebAudio=!0,f.autoSuspend=!0,f.ctx=null,f.autoUnlock=!0,f._setup(),f},volume:function(f){var g=this||a;if(f=parseFloat(f),g.ctx||v(),typeof f<"u"&&f>=0&&f<=1){if(g._volume=f,g._muted)return g;g.usingWebAudio&&g.masterGain.gain.setValueAtTime(f,a.ctx.currentTime);for(var _=0;_<g._howls.length;_++)if(!g._howls[_]._webAudio)for(var b=g._howls[_]._getSoundIds(),E=0;E<b.length;E++){var T=g._howls[_]._soundById(b[E]);T&&T._node&&(T._node.volume=T._volume*f)}return g}return g._volume},mute:function(f){var g=this||a;g.ctx||v(),g._muted=f,g.usingWebAudio&&g.masterGain.gain.setValueAtTime(f?0:g._volume,a.ctx.currentTime);for(var _=0;_<g._howls.length;_++)if(!g._howls[_]._webAudio)for(var b=g._howls[_]._getSoundIds(),E=0;E<b.length;E++){var T=g._howls[_]._soundById(b[E]);T&&T._node&&(T._node.muted=f?!0:T._muted)}return g},stop:function(){for(var f=this||a,g=0;g<f._howls.length;g++)f._howls[g].stop();return f},unload:function(){for(var f=this||a,g=f._howls.length-1;g>=0;g--)f._howls[g].unload();return f.usingWebAudio&&f.ctx&&typeof f.ctx.close<"u"&&(f.ctx.close(),f.ctx=null,v()),f},codecs:function(f){return(this||a)._codecs[f.replace(/^x-/,"")]},_setup:function(){var f=this||a;if(f.state=f.ctx&&f.ctx.state||"suspended",f._autoSuspend(),!f.usingWebAudio)if(typeof Audio<"u")try{var g=new Audio;typeof g.oncanplaythrough>"u"&&(f._canPlayEvent="canplay")}catch{f.noAudio=!0}else f.noAudio=!0;try{var g=new Audio;g.muted&&(f.noAudio=!0)}catch{}return f.noAudio||f._setupCodecs(),f},_setupCodecs:function(){var f=this||a,g=null;try{g=typeof Audio<"u"?new Audio:null}catch{return f}if(!g||typeof g.canPlayType!="function")return f;var _=g.canPlayType("audio/mpeg;").replace(/^no$/,""),b=f._navigator?f._navigator.userAgent:"",E=b.match(/OPR\/(\d+)/g),T=E&&parseInt(E[0].split("/")[1],10)<33,A=b.indexOf("Safari")!==-1&&b.indexOf("Chrome")===-1,C=b.match(/Version\/(.*?) /),O=A&&C&&parseInt(C[1],10)<15;return f._codecs={mp3:!!(!T&&(_||g.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!_,opus:!!g.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(g.canPlayType('audio/wav; codecs="1"')||g.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!g.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!g.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(g.canPlayType("audio/x-m4a;")||g.canPlayType("audio/m4a;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(g.canPlayType("audio/x-m4b;")||g.canPlayType("audio/m4b;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(g.canPlayType("audio/x-mp4;")||g.canPlayType("audio/mp4;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!O&&g.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!O&&g.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!g.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(g.canPlayType("audio/x-flac;")||g.canPlayType("audio/flac;")).replace(/^no$/,"")},f},_unlockAudio:function(){var f=this||a;if(!(f._audioUnlocked||!f.ctx)){f._audioUnlocked=!1,f.autoUnlock=!1,!f._mobileUnloaded&&f.ctx.sampleRate!==44100&&(f._mobileUnloaded=!0,f.unload()),f._scratchBuffer=f.ctx.createBuffer(1,1,22050);var g=function(_){for(;f._html5AudioPool.length<f.html5PoolSize;)try{var b=new Audio;b._unlocked=!0,f._releaseHtml5Audio(b)}catch{f.noAudio=!0;break}for(var E=0;E<f._howls.length;E++)if(!f._howls[E]._webAudio)for(var T=f._howls[E]._getSoundIds(),A=0;A<T.length;A++){var C=f._howls[E]._soundById(T[A]);C&&C._node&&!C._node._unlocked&&(C._node._unlocked=!0,C._node.load())}f._autoResume();var O=f.ctx.createBufferSource();O.buffer=f._scratchBuffer,O.connect(f.ctx.destination),typeof O.start>"u"?O.noteOn(0):O.start(0),typeof f.ctx.resume=="function"&&f.ctx.resume(),O.onended=function(){O.disconnect(0),f._audioUnlocked=!0,document.removeEventListener("touchstart",g,!0),document.removeEventListener("touchend",g,!0),document.removeEventListener("click",g,!0),document.removeEventListener("keydown",g,!0);for(var U=0;U<f._howls.length;U++)f._howls[U]._emit("unlock")}};return document.addEventListener("touchstart",g,!0),document.addEventListener("touchend",g,!0),document.addEventListener("click",g,!0),document.addEventListener("keydown",g,!0),f}},_obtainHtml5Audio:function(){var f=this||a;if(f._html5AudioPool.length)return f._html5AudioPool.pop();var g=new Audio().play();return g&&typeof Promise<"u"&&(g instanceof Promise||typeof g.then=="function")&&g.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(f){var g=this||a;return f._unlocked&&g._html5AudioPool.push(f),g},_autoSuspend:function(){var f=this;if(!(!f.autoSuspend||!f.ctx||typeof f.ctx.suspend>"u"||!a.usingWebAudio)){for(var g=0;g<f._howls.length;g++)if(f._howls[g]._webAudio){for(var _=0;_<f._howls[g]._sounds.length;_++)if(!f._howls[g]._sounds[_]._paused)return f}return f._suspendTimer&&clearTimeout(f._suspendTimer),f._suspendTimer=setTimeout(function(){if(f.autoSuspend){f._suspendTimer=null,f.state="suspending";var b=function(){f.state="suspended",f._resumeAfterSuspend&&(delete f._resumeAfterSuspend,f._autoResume())};f.ctx.suspend().then(b,b)}},3e4),f}},_autoResume:function(){var f=this;if(!(!f.ctx||typeof f.ctx.resume>"u"||!a.usingWebAudio))return f.state==="running"&&f.ctx.state!=="interrupted"&&f._suspendTimer?(clearTimeout(f._suspendTimer),f._suspendTimer=null):f.state==="suspended"||f.state==="running"&&f.ctx.state==="interrupted"?(f.ctx.resume().then(function(){f.state="running";for(var g=0;g<f._howls.length;g++)f._howls[g]._emit("resume")}),f._suspendTimer&&(clearTimeout(f._suspendTimer),f._suspendTimer=null)):f.state==="suspending"&&(f._resumeAfterSuspend=!0),f}};var a=new e,s=function(f){var g=this;if(!f.src||f.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}g.init(f)};s.prototype={init:function(f){var g=this;return a.ctx||v(),g._autoplay=f.autoplay||!1,g._format=typeof f.format!="string"?f.format:[f.format],g._html5=f.html5||!1,g._muted=f.mute||!1,g._loop=f.loop||!1,g._pool=f.pool||5,g._preload=typeof f.preload=="boolean"||f.preload==="metadata"?f.preload:!0,g._rate=f.rate||1,g._sprite=f.sprite||{},g._src=typeof f.src!="string"?f.src:[f.src],g._volume=f.volume!==void 0?f.volume:1,g._xhr={method:f.xhr&&f.xhr.method?f.xhr.method:"GET",headers:f.xhr&&f.xhr.headers?f.xhr.headers:null,withCredentials:f.xhr&&f.xhr.withCredentials?f.xhr.withCredentials:!1},g._duration=0,g._state="unloaded",g._sounds=[],g._endTimers={},g._queue=[],g._playLock=!1,g._onend=f.onend?[{fn:f.onend}]:[],g._onfade=f.onfade?[{fn:f.onfade}]:[],g._onload=f.onload?[{fn:f.onload}]:[],g._onloaderror=f.onloaderror?[{fn:f.onloaderror}]:[],g._onplayerror=f.onplayerror?[{fn:f.onplayerror}]:[],g._onpause=f.onpause?[{fn:f.onpause}]:[],g._onplay=f.onplay?[{fn:f.onplay}]:[],g._onstop=f.onstop?[{fn:f.onstop}]:[],g._onmute=f.onmute?[{fn:f.onmute}]:[],g._onvolume=f.onvolume?[{fn:f.onvolume}]:[],g._onrate=f.onrate?[{fn:f.onrate}]:[],g._onseek=f.onseek?[{fn:f.onseek}]:[],g._onunlock=f.onunlock?[{fn:f.onunlock}]:[],g._onresume=[],g._webAudio=a.usingWebAudio&&!g._html5,typeof a.ctx<"u"&&a.ctx&&a.autoUnlock&&a._unlockAudio(),a._howls.push(g),g._autoplay&&g._queue.push({event:"play",action:function(){g.play()}}),g._preload&&g._preload!=="none"&&g.load(),g},load:function(){var f=this,g=null;if(a.noAudio){f._emit("loaderror",null,"No audio support.");return}typeof f._src=="string"&&(f._src=[f._src]);for(var _=0;_<f._src.length;_++){var b,E;if(f._format&&f._format[_])b=f._format[_];else{if(E=f._src[_],typeof E!="string"){f._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}b=/^data:audio\/([^;,]+);/i.exec(E),b||(b=/\.([^.]+)$/.exec(E.split("?",1)[0])),b&&(b=b[1].toLowerCase())}if(b||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),b&&a.codecs(b)){g=f._src[_];break}}if(!g){f._emit("loaderror",null,"No codec support for selected audio sources.");return}return f._src=g,f._state="loading",window.location.protocol==="https:"&&g.slice(0,5)==="http:"&&(f._html5=!0,f._webAudio=!1),new o(f),f._webAudio&&c(f),f},play:function(f,g){var _=this,b=null;if(typeof f=="number")b=f,f=null;else{if(typeof f=="string"&&_._state==="loaded"&&!_._sprite[f])return null;if(typeof f>"u"&&(f="__default",!_._playLock)){for(var E=0,T=0;T<_._sounds.length;T++)_._sounds[T]._paused&&!_._sounds[T]._ended&&(E++,b=_._sounds[T]._id);E===1?f=null:b=null}}var A=b?_._soundById(b):_._inactiveSound();if(!A)return null;if(b&&!f&&(f=A._sprite||"__default"),_._state!=="loaded"){A._sprite=f,A._ended=!1;var C=A._id;return _._queue.push({event:"play",action:function(){_.play(C)}}),C}if(b&&!A._paused)return g||_._loadQueue("play"),A._id;_._webAudio&&a._autoResume();var O=Math.max(0,A._seek>0?A._seek:_._sprite[f][0]/1e3),U=Math.max(0,(_._sprite[f][0]+_._sprite[f][1])/1e3-O),H=U*1e3/Math.abs(A._rate),K=_._sprite[f][0]/1e3,G=(_._sprite[f][0]+_._sprite[f][1])/1e3;A._sprite=f,A._ended=!1;var W=function(){A._paused=!1,A._seek=O,A._start=K,A._stop=G,A._loop=!!(A._loop||_._sprite[f][2])};if(O>=G){_._ended(A);return}var J=A._node;if(_._webAudio){var he=function(){_._playLock=!1,W(),_._refreshBuffer(A);var be=A._muted||_._muted?0:A._volume;J.gain.setValueAtTime(be,a.ctx.currentTime),A._playStart=a.ctx.currentTime,typeof J.bufferSource.start>"u"?A._loop?J.bufferSource.noteGrainOn(0,O,86400):J.bufferSource.noteGrainOn(0,O,U):A._loop?J.bufferSource.start(0,O,86400):J.bufferSource.start(0,O,U),H!==1/0&&(_._endTimers[A._id]=setTimeout(_._ended.bind(_,A),H)),g||setTimeout(function(){_._emit("play",A._id),_._loadQueue()},0)};a.state==="running"&&a.ctx.state!=="interrupted"?he():(_._playLock=!0,_.once("resume",he),_._clearTimer(A._id))}else{var ee=function(){J.currentTime=O,J.muted=A._muted||_._muted||a._muted||J.muted,J.volume=A._volume*a.volume(),J.playbackRate=A._rate;try{var be=J.play();if(be&&typeof Promise<"u"&&(be instanceof Promise||typeof be.then=="function")?(_._playLock=!0,W(),be.then(function(){_._playLock=!1,J._unlocked=!0,g?_._loadQueue():_._emit("play",A._id)}).catch(function(){_._playLock=!1,_._emit("playerror",A._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),A._ended=!0,A._paused=!0})):g||(_._playLock=!1,W(),_._emit("play",A._id)),J.playbackRate=A._rate,J.paused){_._emit("playerror",A._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}f!=="__default"||A._loop?_._endTimers[A._id]=setTimeout(_._ended.bind(_,A),H):(_._endTimers[A._id]=function(){_._ended(A),J.removeEventListener("ended",_._endTimers[A._id],!1)},J.addEventListener("ended",_._endTimers[A._id],!1))}catch(Ce){_._emit("playerror",A._id,Ce)}};J.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(J.src=_._src,J.load());var ge=window&&window.ejecta||!J.readyState&&a._navigator.isCocoonJS;if(J.readyState>=3||ge)ee();else{_._playLock=!0,_._state="loading";var ke=function(){_._state="loaded",ee(),J.removeEventListener(a._canPlayEvent,ke,!1)};J.addEventListener(a._canPlayEvent,ke,!1),_._clearTimer(A._id)}}return A._id},pause:function(f){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"pause",action:function(){g.pause(f)}}),g;for(var _=g._getSoundIds(f),b=0;b<_.length;b++){g._clearTimer(_[b]);var E=g._soundById(_[b]);if(E&&!E._paused&&(E._seek=g.seek(_[b]),E._rateSeek=0,E._paused=!0,g._stopFade(_[b]),E._node))if(g._webAudio){if(!E._node.bufferSource)continue;typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),g._cleanBuffer(E._node)}else(!isNaN(E._node.duration)||E._node.duration===1/0)&&E._node.pause();arguments[1]||g._emit("pause",E?E._id:null)}return g},stop:function(f,g){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"stop",action:function(){_.stop(f)}}),_;for(var b=_._getSoundIds(f),E=0;E<b.length;E++){_._clearTimer(b[E]);var T=_._soundById(b[E]);T&&(T._seek=T._start||0,T._rateSeek=0,T._paused=!0,T._ended=!0,_._stopFade(b[E]),T._node&&(_._webAudio?T._node.bufferSource&&(typeof T._node.bufferSource.stop>"u"?T._node.bufferSource.noteOff(0):T._node.bufferSource.stop(0),_._cleanBuffer(T._node)):(!isNaN(T._node.duration)||T._node.duration===1/0)&&(T._node.currentTime=T._start||0,T._node.pause(),T._node.duration===1/0&&_._clearSound(T._node))),g||_._emit("stop",T._id))}return _},mute:function(f,g){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"mute",action:function(){_.mute(f,g)}}),_;if(typeof g>"u")if(typeof f=="boolean")_._muted=f;else return _._muted;for(var b=_._getSoundIds(g),E=0;E<b.length;E++){var T=_._soundById(b[E]);T&&(T._muted=f,T._interval&&_._stopFade(T._id),_._webAudio&&T._node?T._node.gain.setValueAtTime(f?0:T._volume,a.ctx.currentTime):T._node&&(T._node.muted=a._muted?!0:f),_._emit("mute",T._id))}return _},volume:function(){var f=this,g=arguments,_,b;if(g.length===0)return f._volume;if(g.length===1||g.length===2&&typeof g[1]>"u"){var E=f._getSoundIds(),T=E.indexOf(g[0]);T>=0?b=parseInt(g[0],10):_=parseFloat(g[0])}else g.length>=2&&(_=parseFloat(g[0]),b=parseInt(g[1],10));var A;if(typeof _<"u"&&_>=0&&_<=1){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"volume",action:function(){f.volume.apply(f,g)}}),f;typeof b>"u"&&(f._volume=_),b=f._getSoundIds(b);for(var C=0;C<b.length;C++)A=f._soundById(b[C]),A&&(A._volume=_,g[2]||f._stopFade(b[C]),f._webAudio&&A._node&&!A._muted?A._node.gain.setValueAtTime(_,a.ctx.currentTime):A._node&&!A._muted&&(A._node.volume=_*a.volume()),f._emit("volume",A._id))}else return A=b?f._soundById(b):f._sounds[0],A?A._volume:0;return f},fade:function(f,g,_,b){var E=this;if(E._state!=="loaded"||E._playLock)return E._queue.push({event:"fade",action:function(){E.fade(f,g,_,b)}}),E;f=Math.min(Math.max(0,parseFloat(f)),1),g=Math.min(Math.max(0,parseFloat(g)),1),_=parseFloat(_),E.volume(f,b);for(var T=E._getSoundIds(b),A=0;A<T.length;A++){var C=E._soundById(T[A]);if(C){if(b||E._stopFade(T[A]),E._webAudio&&!C._muted){var O=a.ctx.currentTime,U=O+_/1e3;C._volume=f,C._node.gain.setValueAtTime(f,O),C._node.gain.linearRampToValueAtTime(g,U)}E._startFadeInterval(C,f,g,_,T[A],typeof b>"u")}}return E},_startFadeInterval:function(f,g,_,b,E,T){var A=this,C=g,O=_-g,U=Math.abs(O/.01),H=Math.max(4,U>0?b/U:b),K=Date.now();f._fadeTo=_,f._interval=setInterval(function(){var G=(Date.now()-K)/b;K=Date.now(),C+=O*G,C=Math.round(C*100)/100,O<0?C=Math.max(_,C):C=Math.min(_,C),A._webAudio?f._volume=C:A.volume(C,f._id,!0),T&&(A._volume=C),(_<g&&C<=_||_>g&&C>=_)&&(clearInterval(f._interval),f._interval=null,f._fadeTo=null,A.volume(_,f._id),A._emit("fade",f._id))},H)},_stopFade:function(f){var g=this,_=g._soundById(f);return _&&_._interval&&(g._webAudio&&_._node.gain.cancelScheduledValues(a.ctx.currentTime),clearInterval(_._interval),_._interval=null,g.volume(_._fadeTo,f),_._fadeTo=null,g._emit("fade",f)),g},loop:function(){var f=this,g=arguments,_,b,E;if(g.length===0)return f._loop;if(g.length===1)if(typeof g[0]=="boolean")_=g[0],f._loop=_;else return E=f._soundById(parseInt(g[0],10)),E?E._loop:!1;else g.length===2&&(_=g[0],b=parseInt(g[1],10));for(var T=f._getSoundIds(b),A=0;A<T.length;A++)E=f._soundById(T[A]),E&&(E._loop=_,f._webAudio&&E._node&&E._node.bufferSource&&(E._node.bufferSource.loop=_,_&&(E._node.bufferSource.loopStart=E._start||0,E._node.bufferSource.loopEnd=E._stop,f.playing(T[A])&&(f.pause(T[A],!0),f.play(T[A],!0)))));return f},rate:function(){var f=this,g=arguments,_,b;if(g.length===0)b=f._sounds[0]._id;else if(g.length===1){var E=f._getSoundIds(),T=E.indexOf(g[0]);T>=0?b=parseInt(g[0],10):_=parseFloat(g[0])}else g.length===2&&(_=parseFloat(g[0]),b=parseInt(g[1],10));var A;if(typeof _=="number"){if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"rate",action:function(){f.rate.apply(f,g)}}),f;typeof b>"u"&&(f._rate=_),b=f._getSoundIds(b);for(var C=0;C<b.length;C++)if(A=f._soundById(b[C]),A){f.playing(b[C])&&(A._rateSeek=f.seek(b[C]),A._playStart=f._webAudio?a.ctx.currentTime:A._playStart),A._rate=_,f._webAudio&&A._node&&A._node.bufferSource?A._node.bufferSource.playbackRate.setValueAtTime(_,a.ctx.currentTime):A._node&&(A._node.playbackRate=_);var O=f.seek(b[C]),U=(f._sprite[A._sprite][0]+f._sprite[A._sprite][1])/1e3-O,H=U*1e3/Math.abs(A._rate);(f._endTimers[b[C]]||!A._paused)&&(f._clearTimer(b[C]),f._endTimers[b[C]]=setTimeout(f._ended.bind(f,A),H)),f._emit("rate",A._id)}}else return A=f._soundById(b),A?A._rate:f._rate;return f},seek:function(){var f=this,g=arguments,_,b;if(g.length===0)f._sounds.length&&(b=f._sounds[0]._id);else if(g.length===1){var E=f._getSoundIds(),T=E.indexOf(g[0]);T>=0?b=parseInt(g[0],10):f._sounds.length&&(b=f._sounds[0]._id,_=parseFloat(g[0]))}else g.length===2&&(_=parseFloat(g[0]),b=parseInt(g[1],10));if(typeof b>"u")return 0;if(typeof _=="number"&&(f._state!=="loaded"||f._playLock))return f._queue.push({event:"seek",action:function(){f.seek.apply(f,g)}}),f;var A=f._soundById(b);if(A)if(typeof _=="number"&&_>=0){var C=f.playing(b);C&&f.pause(b,!0),A._seek=_,A._ended=!1,f._clearTimer(b),!f._webAudio&&A._node&&!isNaN(A._node.duration)&&(A._node.currentTime=_);var O=function(){C&&f.play(b,!0),f._emit("seek",b)};if(C&&!f._webAudio){var U=function(){f._playLock?setTimeout(U,0):O()};setTimeout(U,0)}else O()}else if(f._webAudio){var H=f.playing(b)?a.ctx.currentTime-A._playStart:0,K=A._rateSeek?A._rateSeek-A._seek:0;return A._seek+(K+H*Math.abs(A._rate))}else return A._node.currentTime;return f},playing:function(f){var g=this;if(typeof f=="number"){var _=g._soundById(f);return _?!_._paused:!1}for(var b=0;b<g._sounds.length;b++)if(!g._sounds[b]._paused)return!0;return!1},duration:function(f){var g=this,_=g._duration,b=g._soundById(f);return b&&(_=g._sprite[b._sprite][1]/1e3),_},state:function(){return this._state},unload:function(){for(var f=this,g=f._sounds,_=0;_<g.length;_++)g[_]._paused||f.stop(g[_]._id),f._webAudio||(f._clearSound(g[_]._node),g[_]._node.removeEventListener("error",g[_]._errorFn,!1),g[_]._node.removeEventListener(a._canPlayEvent,g[_]._loadFn,!1),g[_]._node.removeEventListener("ended",g[_]._endFn,!1),a._releaseHtml5Audio(g[_]._node)),delete g[_]._node,f._clearTimer(g[_]._id);var b=a._howls.indexOf(f);b>=0&&a._howls.splice(b,1);var E=!0;for(_=0;_<a._howls.length;_++)if(a._howls[_]._src===f._src||f._src.indexOf(a._howls[_]._src)>=0){E=!1;break}return u&&E&&delete u[f._src],a.noAudio=!1,f._state="unloaded",f._sounds=[],f=null,null},on:function(f,g,_,b){var E=this,T=E["_on"+f];return typeof g=="function"&&T.push(b?{id:_,fn:g,once:b}:{id:_,fn:g}),E},off:function(f,g,_){var b=this,E=b["_on"+f],T=0;if(typeof g=="number"&&(_=g,g=null),g||_)for(T=0;T<E.length;T++){var A=_===E[T].id;if(g===E[T].fn&&A||!g&&A){E.splice(T,1);break}}else if(f)b["_on"+f]=[];else{var C=Object.keys(b);for(T=0;T<C.length;T++)C[T].indexOf("_on")===0&&Array.isArray(b[C[T]])&&(b[C[T]]=[])}return b},once:function(f,g,_){var b=this;return b.on(f,g,_,1),b},_emit:function(f,g,_){for(var b=this,E=b["_on"+f],T=E.length-1;T>=0;T--)(!E[T].id||E[T].id===g||f==="load")&&(setTimeout((function(A){A.call(this,g,_)}).bind(b,E[T].fn),0),E[T].once&&b.off(f,E[T].fn,E[T].id));return b._loadQueue(f),b},_loadQueue:function(f){var g=this;if(g._queue.length>0){var _=g._queue[0];_.event===f&&(g._queue.shift(),g._loadQueue()),f||_.action()}return g},_ended:function(f){var g=this,_=f._sprite;if(!g._webAudio&&f._node&&!f._node.paused&&!f._node.ended&&f._node.currentTime<f._stop)return setTimeout(g._ended.bind(g,f),100),g;var b=!!(f._loop||g._sprite[_][2]);if(g._emit("end",f._id),!g._webAudio&&b&&g.stop(f._id,!0).play(f._id),g._webAudio&&b){g._emit("play",f._id),f._seek=f._start||0,f._rateSeek=0,f._playStart=a.ctx.currentTime;var E=(f._stop-f._start)*1e3/Math.abs(f._rate);g._endTimers[f._id]=setTimeout(g._ended.bind(g,f),E)}return g._webAudio&&!b&&(f._paused=!0,f._ended=!0,f._seek=f._start||0,f._rateSeek=0,g._clearTimer(f._id),g._cleanBuffer(f._node),a._autoSuspend()),!g._webAudio&&!b&&g.stop(f._id,!0),g},_clearTimer:function(f){var g=this;if(g._endTimers[f]){if(typeof g._endTimers[f]!="function")clearTimeout(g._endTimers[f]);else{var _=g._soundById(f);_&&_._node&&_._node.removeEventListener("ended",g._endTimers[f],!1)}delete g._endTimers[f]}return g},_soundById:function(f){for(var g=this,_=0;_<g._sounds.length;_++)if(f===g._sounds[_]._id)return g._sounds[_];return null},_inactiveSound:function(){var f=this;f._drain();for(var g=0;g<f._sounds.length;g++)if(f._sounds[g]._ended)return f._sounds[g].reset();return new o(f)},_drain:function(){var f=this,g=f._pool,_=0,b=0;if(!(f._sounds.length<g)){for(b=0;b<f._sounds.length;b++)f._sounds[b]._ended&&_++;for(b=f._sounds.length-1;b>=0;b--){if(_<=g)return;f._sounds[b]._ended&&(f._webAudio&&f._sounds[b]._node&&f._sounds[b]._node.disconnect(0),f._sounds.splice(b,1),_--)}}},_getSoundIds:function(f){var g=this;if(typeof f>"u"){for(var _=[],b=0;b<g._sounds.length;b++)_.push(g._sounds[b]._id);return _}else return[f]},_refreshBuffer:function(f){var g=this;return f._node.bufferSource=a.ctx.createBufferSource(),f._node.bufferSource.buffer=u[g._src],f._panner?f._node.bufferSource.connect(f._panner):f._node.bufferSource.connect(f._node),f._node.bufferSource.loop=f._loop,f._loop&&(f._node.bufferSource.loopStart=f._start||0,f._node.bufferSource.loopEnd=f._stop||0),f._node.bufferSource.playbackRate.setValueAtTime(f._rate,a.ctx.currentTime),g},_cleanBuffer:function(f){var g=this,_=a._navigator&&a._navigator.vendor.indexOf("Apple")>=0;if(!f.bufferSource)return g;if(a._scratchBuffer&&f.bufferSource&&(f.bufferSource.onended=null,f.bufferSource.disconnect(0),_))try{f.bufferSource.buffer=a._scratchBuffer}catch{}return f.bufferSource=null,g},_clearSound:function(f){var g=/MSIE |Trident\//.test(a._navigator&&a._navigator.userAgent);g||(f.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(f){this._parent=f,this.init()};o.prototype={init:function(){var f=this,g=f._parent;return f._muted=g._muted,f._loop=g._loop,f._volume=g._volume,f._rate=g._rate,f._seek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++a._counter,g._sounds.push(f),f.create(),f},create:function(){var f=this,g=f._parent,_=a._muted||f._muted||f._parent._muted?0:f._volume;return g._webAudio?(f._node=typeof a.ctx.createGain>"u"?a.ctx.createGainNode():a.ctx.createGain(),f._node.gain.setValueAtTime(_,a.ctx.currentTime),f._node.paused=!0,f._node.connect(a.masterGain)):a.noAudio||(f._node=a._obtainHtml5Audio(),f._errorFn=f._errorListener.bind(f),f._node.addEventListener("error",f._errorFn,!1),f._loadFn=f._loadListener.bind(f),f._node.addEventListener(a._canPlayEvent,f._loadFn,!1),f._endFn=f._endListener.bind(f),f._node.addEventListener("ended",f._endFn,!1),f._node.src=g._src,f._node.preload=g._preload===!0?"auto":g._preload,f._node.volume=_*a.volume(),f._node.load()),f},reset:function(){var f=this,g=f._parent;return f._muted=g._muted,f._loop=g._loop,f._volume=g._volume,f._rate=g._rate,f._seek=0,f._rateSeek=0,f._paused=!0,f._ended=!0,f._sprite="__default",f._id=++a._counter,f},_errorListener:function(){var f=this;f._parent._emit("loaderror",f._id,f._node.error?f._node.error.code:0),f._node.removeEventListener("error",f._errorFn,!1)},_loadListener:function(){var f=this,g=f._parent;g._duration=Math.ceil(f._node.duration*10)/10,Object.keys(g._sprite).length===0&&(g._sprite={__default:[0,g._duration*1e3]}),g._state!=="loaded"&&(g._state="loaded",g._emit("load"),g._loadQueue()),f._node.removeEventListener(a._canPlayEvent,f._loadFn,!1)},_endListener:function(){var f=this,g=f._parent;g._duration===1/0&&(g._duration=Math.ceil(f._node.duration*10)/10,g._sprite.__default[1]===1/0&&(g._sprite.__default[1]=g._duration*1e3),g._ended(f)),f._node.removeEventListener("ended",f._endFn,!1)}};var u={},c=function(f){var g=f._src;if(u[g]){f._duration=u[g].duration,p(f);return}if(/^data:[^;]+;base64,/.test(g)){for(var _=atob(g.split(",")[1]),b=new Uint8Array(_.length),E=0;E<_.length;++E)b[E]=_.charCodeAt(E);h(b.buffer,f)}else{var T=new XMLHttpRequest;T.open(f._xhr.method,g,!0),T.withCredentials=f._xhr.withCredentials,T.responseType="arraybuffer",f._xhr.headers&&Object.keys(f._xhr.headers).forEach(function(A){T.setRequestHeader(A,f._xhr.headers[A])}),T.onload=function(){var A=(T.status+"")[0];if(A!=="0"&&A!=="2"&&A!=="3"){f._emit("loaderror",null,"Failed loading audio file with status: "+T.status+".");return}h(T.response,f)},T.onerror=function(){f._webAudio&&(f._html5=!0,f._webAudio=!1,f._sounds=[],delete u[g],f.load())},m(T)}},m=function(f){try{f.send()}catch{f.onerror()}},h=function(f,g){var _=function(){g._emit("loaderror",null,"Decoding audio data failed.")},b=function(E){E&&g._sounds.length>0?(u[g._src]=E,p(g,E)):_()};typeof Promise<"u"&&a.ctx.decodeAudioData.length===1?a.ctx.decodeAudioData(f).then(b).catch(_):a.ctx.decodeAudioData(f,b,_)},p=function(f,g){g&&!f._duration&&(f._duration=g.duration),Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue())},v=function(){if(a.usingWebAudio){try{typeof AudioContext<"u"?a.ctx=new AudioContext:typeof webkitAudioContext<"u"?a.ctx=new webkitAudioContext:a.usingWebAudio=!1}catch{a.usingWebAudio=!1}a.ctx||(a.usingWebAudio=!1);var f=/iP(hone|od|ad)/.test(a._navigator&&a._navigator.platform),g=a._navigator&&a._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),_=g?parseInt(g[1],10):null;if(f&&_&&_<9){var b=/safari/.test(a._navigator&&a._navigator.userAgent.toLowerCase());a._navigator&&!b&&(a.usingWebAudio=!1)}a.usingWebAudio&&(a.masterGain=typeof a.ctx.createGain>"u"?a.ctx.createGainNode():a.ctx.createGain(),a.masterGain.gain.setValueAtTime(a._muted?0:a._volume,a.ctx.currentTime),a.masterGain.connect(a.ctx.destination)),a._setup()}};n.Howler=a,n.Howl=s,typeof Ar<"u"?(Ar.HowlerGlobal=e,Ar.Howler=a,Ar.Howl=s,Ar.Sound=o):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=a,window.Howl=s,window.Sound=o)})();(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(a){var s=this;if(!s.ctx||!s.ctx.listener)return s;for(var o=s._howls.length-1;o>=0;o--)s._howls[o].stereo(a);return s},HowlerGlobal.prototype.pos=function(a,s,o){var u=this;if(!u.ctx||!u.ctx.listener)return u;if(s=typeof s!="number"?u._pos[1]:s,o=typeof o!="number"?u._pos[2]:o,typeof a=="number")u._pos=[a,s,o],typeof u.ctx.listener.positionX<"u"?(u.ctx.listener.positionX.setTargetAtTime(u._pos[0],Howler.ctx.currentTime,.1),u.ctx.listener.positionY.setTargetAtTime(u._pos[1],Howler.ctx.currentTime,.1),u.ctx.listener.positionZ.setTargetAtTime(u._pos[2],Howler.ctx.currentTime,.1)):u.ctx.listener.setPosition(u._pos[0],u._pos[1],u._pos[2]);else return u._pos;return u},HowlerGlobal.prototype.orientation=function(a,s,o,u,c,m){var h=this;if(!h.ctx||!h.ctx.listener)return h;var p=h._orientation;if(s=typeof s!="number"?p[1]:s,o=typeof o!="number"?p[2]:o,u=typeof u!="number"?p[3]:u,c=typeof c!="number"?p[4]:c,m=typeof m!="number"?p[5]:m,typeof a=="number")h._orientation=[a,s,o,u,c,m],typeof h.ctx.listener.forwardX<"u"?(h.ctx.listener.forwardX.setTargetAtTime(a,Howler.ctx.currentTime,.1),h.ctx.listener.forwardY.setTargetAtTime(s,Howler.ctx.currentTime,.1),h.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),h.ctx.listener.upX.setTargetAtTime(u,Howler.ctx.currentTime,.1),h.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),h.ctx.listener.upZ.setTargetAtTime(m,Howler.ctx.currentTime,.1)):h.ctx.listener.setOrientation(a,s,o,u,c,m);else return p;return h},Howl.prototype.init=(function(a){return function(s){var o=this;return o._orientation=s.orientation||[1,0,0],o._stereo=s.stereo||null,o._pos=s.pos||null,o._pannerAttr={coneInnerAngle:typeof s.coneInnerAngle<"u"?s.coneInnerAngle:360,coneOuterAngle:typeof s.coneOuterAngle<"u"?s.coneOuterAngle:360,coneOuterGain:typeof s.coneOuterGain<"u"?s.coneOuterGain:0,distanceModel:typeof s.distanceModel<"u"?s.distanceModel:"inverse",maxDistance:typeof s.maxDistance<"u"?s.maxDistance:1e4,panningModel:typeof s.panningModel<"u"?s.panningModel:"HRTF",refDistance:typeof s.refDistance<"u"?s.refDistance:1,rolloffFactor:typeof s.rolloffFactor<"u"?s.rolloffFactor:1},o._onstereo=s.onstereo?[{fn:s.onstereo}]:[],o._onpos=s.onpos?[{fn:s.onpos}]:[],o._onorientation=s.onorientation?[{fn:s.onorientation}]:[],a.call(this,s)}})(Howl.prototype.init),Howl.prototype.stereo=function(a,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(a,s)}}),o;var u=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof s>"u")if(typeof a=="number")o._stereo=a,o._pos=[a,0,0];else return o._stereo;for(var c=o._getSoundIds(s),m=0;m<c.length;m++){var h=o._soundById(c[m]);if(h)if(typeof a=="number")h._stereo=a,h._pos=[a,0,0],h._node&&(h._pannerAttr.panningModel="equalpower",(!h._panner||!h._panner.pan)&&e(h,u),u==="spatial"?typeof h._panner.positionX<"u"?(h._panner.positionX.setValueAtTime(a,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):h._panner.setPosition(a,0,0):h._panner.pan.setValueAtTime(a,Howler.ctx.currentTime)),o._emit("stereo",h._id);else return h._stereo}return o},Howl.prototype.pos=function(a,s,o,u){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(a,s,o,u)}}),c;if(s=typeof s!="number"?0:s,o=typeof o!="number"?-.5:o,typeof u>"u")if(typeof a=="number")c._pos=[a,s,o];else return c._pos;for(var m=c._getSoundIds(u),h=0;h<m.length;h++){var p=c._soundById(m[h]);if(p)if(typeof a=="number")p._pos=[a,s,o],p._node&&((!p._panner||p._panner.pan)&&e(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(a,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(s,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setPosition(a,s,o)),c._emit("pos",p._id);else return p._pos}return c},Howl.prototype.orientation=function(a,s,o,u){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(a,s,o,u)}}),c;if(s=typeof s!="number"?c._orientation[1]:s,o=typeof o!="number"?c._orientation[2]:o,typeof u>"u")if(typeof a=="number")c._orientation=[a,s,o];else return c._orientation;for(var m=c._getSoundIds(u),h=0;h<m.length;h++){var p=c._soundById(m[h]);if(p)if(typeof a=="number")p._orientation=[a,s,o],p._node&&(p._panner||(p._pos||(p._pos=c._pos||[0,0,-.5]),e(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(a,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(s,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setOrientation(a,s,o)),c._emit("orientation",p._id);else return p._orientation}return c},Howl.prototype.pannerAttr=function(){var a=this,s=arguments,o,u,c;if(!a._webAudio)return a;if(s.length===0)return a._pannerAttr;if(s.length===1)if(typeof s[0]=="object")o=s[0],typeof u>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),a._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:a._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:a._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:a._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:a._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:a._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:a._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:a._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:a._panningModel});else return c=a._soundById(parseInt(s[0],10)),c?c._pannerAttr:a._pannerAttr;else s.length===2&&(o=s[0],u=parseInt(s[1],10));for(var m=a._getSoundIds(u),h=0;h<m.length;h++)if(c=a._soundById(m[h]),c){var p=c._pannerAttr;p={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:p.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:p.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:p.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:p.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:p.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:p.panningModel};var v=c._panner;v||(c._pos||(c._pos=a._pos||[0,0,-.5]),e(c,"spatial"),v=c._panner),v.coneInnerAngle=p.coneInnerAngle,v.coneOuterAngle=p.coneOuterAngle,v.coneOuterGain=p.coneOuterGain,v.distanceModel=p.distanceModel,v.maxDistance=p.maxDistance,v.refDistance=p.refDistance,v.rolloffFactor=p.rolloffFactor,v.panningModel=p.panningModel}return a},Sound.prototype.init=(function(a){return function(){var s=this,o=s._parent;s._orientation=o._orientation,s._stereo=o._stereo,s._pos=o._pos,s._pannerAttr=o._pannerAttr,a.call(this),s._stereo?o.stereo(s._stereo):s._pos&&o.pos(s._pos[0],s._pos[1],s._pos[2],s._id)}})(Sound.prototype.init),Sound.prototype.reset=(function(a){return function(){var s=this,o=s._parent;return s._orientation=o._orientation,s._stereo=o._stereo,s._pos=o._pos,s._pannerAttr=o._pannerAttr,s._stereo?o.stereo(s._stereo):s._pos?o.pos(s._pos[0],s._pos[1],s._pos[2],s._id):s._panner&&(s._panner.disconnect(0),s._panner=void 0,o._refreshBuffer(s)),a.call(this)}})(Sound.prototype.reset);var e=function(a,s){s=s||"spatial",s==="spatial"?(a._panner=Howler.ctx.createPanner(),a._panner.coneInnerAngle=a._pannerAttr.coneInnerAngle,a._panner.coneOuterAngle=a._pannerAttr.coneOuterAngle,a._panner.coneOuterGain=a._pannerAttr.coneOuterGain,a._panner.distanceModel=a._pannerAttr.distanceModel,a._panner.maxDistance=a._pannerAttr.maxDistance,a._panner.refDistance=a._pannerAttr.refDistance,a._panner.rolloffFactor=a._pannerAttr.rolloffFactor,a._panner.panningModel=a._pannerAttr.panningModel,typeof a._panner.positionX<"u"?(a._panner.positionX.setValueAtTime(a._pos[0],Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(a._pos[1],Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(a._pos[2],Howler.ctx.currentTime)):a._panner.setPosition(a._pos[0],a._pos[1],a._pos[2]),typeof a._panner.orientationX<"u"?(a._panner.orientationX.setValueAtTime(a._orientation[0],Howler.ctx.currentTime),a._panner.orientationY.setValueAtTime(a._orientation[1],Howler.ctx.currentTime),a._panner.orientationZ.setValueAtTime(a._orientation[2],Howler.ctx.currentTime)):a._panner.setOrientation(a._orientation[0],a._orientation[1],a._orientation[2])):(a._panner=Howler.ctx.createStereoPanner(),a._panner.pan.setValueAtTime(a._stereo,Howler.ctx.currentTime)),a._panner.connect(a._node),a._paused||a._parent.pause(a._id,!0).play(a._id,!0)}})()})(yd)),yd}var CM=RM();const OM="./",jM=n=>`${OM}${n.replace(/^\//,"")}`,Q0={score_1:"audio/scores/score_1.mp3",score_2:"audio/scores/score_2.mp3",score_3:"audio/scores/score_3.mp3",score_4:"audio/scores/score_4.mp3",score_5:"audio/scores/score_5.mp3",score_6:"audio/scores/score_6.mp3",score_7:"audio/scores/score_7.mp3",score_8:"audio/scores/score_8.mp3",score_9:"audio/scores/score_9.mp3",score_10:"audio/scores/score_10.mp3",award_stan:"audio/awards/stan.mp3",award_hater:"audio/awards/hater.mp3",award_highest:"audio/awards/highest_rated.mp3",award_lowest:"audio/awards/lowest_rated.mp3",award_divisive:"audio/awards/most_divisive.mp3",submit:"audio/ui/submit.mp3",lock:"audio/ui/lock.mp3",reveal_start:"audio/ui/reveal_start.mp3",bar_rise:"audio/ui/bar_rise.mp3",bar_stop:"audio/ui/bar_stop.mp3",average_flip:"audio/ui/average_flip.mp3",confetti:"audio/ui/confetti.mp3",drumroll:"audio/ui/drumroll.mp3",fanfare:"audio/ui/fanfare.mp3"};function Uw(){const n=j.useRef(new Map),e=j.useRef(new Set),a=j.useRef(new Set),s=j.useRef(!1),o=j.useCallback(()=>{s.current=!0},[]),u=j.useCallback((g,_=.7)=>{const b=jM(Q0[g]);return new CM.Howl({src:[b],preload:!0,volume:_,html5:!0,onloaderror:(T,A)=>{a.current.add(g),console.warn(`Failed to load audio: ${g}`,A,b)}})},[]),c=j.useCallback(g=>{if(e.current.has(g)||a.current.has(g))return;const _=u(g);n.current.set(g,_),e.current.add(g)},[u]),m=j.useCallback(()=>{["submit","lock","reveal_start","bar_rise","bar_stop","average_flip","confetti","drumroll","fanfare"].forEach(c)},[c]),h=j.useCallback((g,_=.7)=>{if(!s.current||a.current.has(g))return;let b=n.current.get(g);b||(b=u(g,_),n.current.set(g,b));try{b.volume(_),b.play()}catch(E){console.warn(`Failed to play audio: ${g}`,E)}},[u]),p=j.useCallback(g=>{const b=`score_${Math.min(10,Math.max(1,Math.round(g)))}`;h(b)},[h]),v=j.useCallback(g=>{const _=`award_${g}`;Q0[_]&&h(_)},[h]),f=j.useCallback(()=>{n.current.forEach(g=>{try{g.stop()}catch{}})},[]);return j.useEffect(()=>()=>{n.current.forEach(g=>{try{g.unload()}catch{}}),n.current.clear()},[]),{unlock:o,play:h,preload:c,preloadCommon:m,playScoreReaction:p,playAwardReaction:v,stopAll:f}}const J0={sm:"avatar",md:"avatar",lg:"avatar-lg",xl:"avatar-xl"},MM={sm:48,md:64,lg:96,xl:120},DM="./",Z0=n=>`${DM}${n.replace(/^\//,"")}`;function Cn({participantId:n,name:e,avatarUrl:a,size:s="md",glow:o=!1,className:u=""}){const[c,m]=j.useState(!1),h=no(n),p=j.useMemo(()=>{const b=encodeURIComponent(e.trim()),E=encodeURIComponent(String(n));return[Z0(`avatars/${E}.png`),Z0(`avatars/${b}.png`)]},[e,n]),v=j.useMemo(()=>a&&!c?a:p[0],[a,c,p]),f=()=>{if(!c){m(!0);return}},g=e.charAt(0).toUpperCase(),_=MM[s];return S.jsx("img",{src:v,alt:e,onError:b=>{const E=b.currentTarget;if(E.dataset.fallback==="1"){E.src=p[1],E.dataset.fallback="2";return}if(!a&&E.dataset.fallback!=="1"&&E.dataset.fallback!=="2"){E.dataset.fallback="1",E.src=p[1];return}E.style.display="none";const T=E.parentElement;if(T&&!T.querySelector('[data-initials="1"]')){const A=document.createElement("div");A.setAttribute("data-initials","1"),A.className=`${J0[s]} ${o?"avatar-glow":""} ${u}`,A.style.width=`${_}px`,A.style.height=`${_}px`,A.style.background=`linear-gradient(135deg, ${h} 0%, ${h}88 100%)`,A.style.display="flex",A.style.alignItems="center",A.style.justifyContent="center",A.style.fontFamily="var(--font-display)",A.style.fontSize=`${_*.5}px`,A.style.color="var(--bg-deep)",A.style.borderRadius="50%",A.style.border="3px solid var(--border-accent)",A.textContent=g,T.appendChild(A)}f()},className:`${J0[s]} ${o?"avatar-glow":""} ${u}`,style:{borderColor:h}})}function NM({participants:n,scoreMap:e,startReveal:a,onTick:s,onComplete:o}){const m=j.useRef(null),[h,p]=j.useState(280);j.useEffect(()=>{const C=()=>{if(m.current){const O=m.current.clientHeight,U=Math.max(150,Math.min(400,O-150));p(U)}};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const v=j.useMemo(()=>[...n].sort((C,O)=>String(C.participant_id).localeCompare(String(O.participant_id))),[n]),[f,g]=j.useState({}),_=j.useRef(!1),b=j.useRef(s),E=j.useRef(o);j.useEffect(()=>{b.current=s},[s]),j.useEffect(()=>{E.current=o},[o]);const T=j.useMemo(()=>v.map(C=>`${C.participant_id}:${e[C.participant_id]??0}`).join("|"),[v,e]),A=j.useMemo(()=>{const C=v.map(O=>e[O.participant_id]??0);return Math.max(0,...C)},[v,e]);return j.useEffect(()=>{_.current=!1;const C={};v.forEach(O=>C[O.participant_id]=0),g(C),b.current?.(C)},[T,v]),j.useEffect(()=>{if(!a||_.current)return;_.current=!0;let C=0;const O=setInterval(()=>{C++;const U={};for(const H of v){const K=e[H.participant_id]??0;U[H.participant_id]=Math.min(C,K)}if(g(U),b.current?.(U),C>=A){clearInterval(O);const H={};for(const K of v)H[K.participant_id]=e[K.participant_id]??0;g(H),b.current?.(H),E.current?.()}},500);return()=>clearInterval(O)},[a,v,e,A]),S.jsx("div",{ref:m,style:{width:"100%",height:"100%",display:"flex",alignItems:"flex-end",justifyContent:"center",gap:32,padding:"0 24px"},children:v.map(C=>{const O=f[C.participant_id]??0,U=e[C.participant_id]??0,H=U>0&&O>=U,K=O/10*h,G=no(C.participant_id);return S.jsxs("div",{style:{flex:"1 1 0",maxWidth:220,display:"flex",flexDirection:"column",alignItems:"center",height:"100%",justifyContent:"flex-end"},children:[S.jsxs("div",{style:{width:"100%",height:h,background:"rgba(255,255,255,0.05)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-subtle)",display:"flex",alignItems:"flex-end",justifyContent:"center",padding:8,position:"relative",overflow:"visible"},children:[S.jsx(pe.div,{initial:{height:0},animate:{height:K},transition:{duration:.25,ease:"easeOut"},style:{width:"75%",background:`linear-gradient(180deg, ${G} 0%, ${G}88 100%)`,borderRadius:"var(--radius-md)",boxShadow:`0 0 30px ${G}44`}}),S.jsx(pe.div,{animate:{bottom:Math.max(K+8,8)},transition:{duration:.25,ease:"easeOut"},style:{position:"absolute",left:"50%",transform:"translateX(-50%)",fontFamily:"var(--font-display)",fontSize:"clamp(2rem, 4vw, 3rem)",color:"white",textShadow:`0 0 20px ${G}`,zIndex:10},children:Math.round(O)})]}),S.jsxs("div",{style:{marginTop:16,textAlign:"center"},children:[S.jsx(Cn,{participantId:C.participant_id,name:C.name,avatarUrl:C.avatar_url,size:"md",glow:H}),S.jsx("div",{style:{marginTop:8,fontWeight:700,fontSize:"1.1rem"},children:C.name})]})]},C.participant_id)})})}function kM({value:n,isFlipping:e}){const[a,s]=j.useState(n),o=j.useRef(null);j.useEffect(()=>{if(!e){s(n);return}const c=()=>{const m=(Math.random()-.5)*1.2,h=Math.max(0,Math.min(10,n+m));s(h),o.current=requestAnimationFrame(c)};return o.current=requestAnimationFrame(c),()=>{o.current&&cancelAnimationFrame(o.current)}},[e,n]);const u=c=>c>=8?" BANGER":c>=6?" SOLID":c>=4?" SHMEE SHMA":" TEEEEERRIBLE";return S.jsxs(pe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.2},style:{display:"flex",flexDirection:"column",alignItems:"center",gap:8},children:[S.jsx("div",{style:{fontSize:"1rem",opacity:.7,textTransform:"uppercase",letterSpacing:"0.1em"},children:"Song Average"}),S.jsx(pe.div,{animate:e?{scale:[1,1.02,.98,1]}:{},transition:{duration:.15,repeat:e?1/0:0},style:{fontFamily:"var(--font-display)",fontSize:"clamp(4rem, 10vw, 6rem)",lineHeight:1,color:"var(--gold)",textShadow:"0 0 40px rgba(212, 175, 55, 0.5)",fontVariantNumeric:"tabular-nums",minWidth:"4ch",textAlign:"center"},children:a.toFixed(2)}),!e&&S.jsx(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.1},className:"pill",style:{fontSize:"1rem",padding:"8px 16px"},children:u(n)})]})}function LM({awards:n,onComplete:e}){const[a,s]=j.useState(-1),[o,u]=j.useState(!1),{celebrate:c,goldShower:m}=Lw(),{play:h,playAwardReaction:p}=Uw();j.useEffect(()=>{if(a>=n.length){e?.();return}if(a===-1){const _=setTimeout(()=>s(0),500);return()=>clearTimeout(_)}h("drumroll");const f=setTimeout(()=>{u(!0);const _=n[a];_.id==="stan"?(m(),p("stan")):_.id==="hater"?(c(),p("hater")):c()},2e3),g=setTimeout(()=>{u(!1),s(_=>_+1)},5e3);return()=>{clearTimeout(f),clearTimeout(g)}},[a,n,h,p,c,m,e]);const v=a>=0&&a<n.length?n[a]:null;return S.jsx("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:S.jsx(Ts,{mode:"wait",children:v&&S.jsxs(pe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8,y:-50},transition:{duration:.5},className:"text-center",style:{maxWidth:900,padding:24},children:[S.jsx(pe.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},style:{fontSize:"5rem",marginBottom:16},children:v.icon}),S.jsx(pe.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"h1",style:{color:"var(--gold)",marginBottom:8},children:v.title}),S.jsx(pe.p,{initial:{opacity:0},animate:{opacity:.7},transition:{delay:.4},style:{fontSize:"1.25rem",marginBottom:24},children:v.subtitle}),S.jsx(Ts,{children:o&&S.jsx(pe.div,{initial:{opacity:0,scale:.5,y:30},animate:{opacity:1,scale:1,y:0},transition:{type:"spring",stiffness:300,damping:20},children:v.participant?S.jsxs("div",{className:"flex flex-col items-center gap-md",children:[S.jsx(Cn,{participantId:v.participant.participant_id,name:v.participant.name,avatarUrl:v.participant.avatar_url,size:"xl",glow:!0}),S.jsx("div",{className:"h2",style:{color:"var(--text-primary)"},children:v.participant.name}),S.jsx("div",{className:"pill pill-success",style:{fontSize:"1rem",padding:"10px 20px"},children:typeof v.value=="number"?`Average: ${v.value.toFixed(2)}`:v.value})]}):v.song?S.jsxs("div",{className:"card card-gold text-center",style:{padding:32},children:[S.jsxs("div",{className:"h2",style:{color:"var(--text-primary)"},children:['"',v.song.title,'"']}),S.jsx("div",{className:"spacer"}),S.jsx("div",{className:"pill",style:{fontSize:"1rem"},children:v.value})]}):S.jsx("div",{className:"score-display",children:typeof v.value=="number"?v.value.toFixed(2):v.value})})}),S.jsx("div",{style:{marginTop:40,display:"flex",gap:8,justifyContent:"center"},children:n.map((f,g)=>S.jsx("div",{style:{width:12,height:12,borderRadius:"50%",background:g<=a?"var(--gold)":"rgba(255,255,255,0.2)",transition:"background 0.3s ease"}},g))})]},v.id)})})}const e_=1920,t_=1080;function UM(){const{code:n=""}=ao(),{session:e,participants:a,songs:s,scores:o,loading:u}=fo(n),{celebrate:c,fireworks:m}=Lw(),{preloadCommon:h,playScoreReaction:p,unlock:v}=Uw(),[f,g]=j.useState("idle"),[_,b]=j.useState(!1),[E,T]=j.useState(1),A=j.useRef(!1),[C,O]=j.useState(!1),[U,H]=j.useState(0);j.useEffect(()=>(document.body.classList.add("tv-mode"),()=>document.body.classList.remove("tv-mode")),[]),j.useEffect(()=>{const x=()=>{const N=document.documentElement.clientWidth,$=document.documentElement.clientHeight,Z=Math.min(N/e_,$/t_)*.92;T(Z)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const K=e?.song_index??0,G=j.useMemo(()=>Fh(s,K),[s,K]),W=j.useMemo(()=>e?o.filter(x=>x.song_index===e.song_index):[],[o,e]),J=j.useMemo(()=>{const x={};for(const N of W)x[N.participant_id]=N.score;return x},[W]),he=_u(W),ee=j.useMemo(()=>e?o.filter(x=>x.song_index===e.song_index).length:0,[o,e]),ge=a.filter(x=>x.claimed).length,ke=ge===4,be=j.useMemo(()=>{const x=Ir(a,o,s),N=[];return x.stan&&N.push({id:"stan",title:"THE STAN",subtitle:"Highest average rating",icon:"",value:x.stan.avg,participant:x.stan.participant}),x.hater&&N.push({id:"hater",title:"THE HATER",subtitle:"Lowest average rating",icon:"",value:x.hater.avg,participant:x.hater.participant}),N},[a,o,s]),Ce=j.useMemo(()=>Ir(a,o,s).albumAvg??0,[a,o,s]),I=j.useMemo(()=>Ir(a,o,s).personAverages,[a,o]);j.useEffect(()=>{h()},[h]),j.useEffect(()=>{const x=()=>v();return window.addEventListener("pointerdown",x,{once:!0}),window.addEventListener("keydown",x,{once:!0}),()=>{window.removeEventListener("pointerdown",x),window.removeEventListener("keydown",x)}},[v]),j.useEffect(()=>{if(e&&e.status==="revealing"){g("countdown"),O(!1),H(0),A.current=!1;const x=window.setTimeout(()=>{g("rising"),O(!0)},700);return()=>window.clearTimeout(x)}},[e?.status,e?.song_index]);const Q=x=>{const X=Object.values(x).reduce((Z,ne)=>Z+ne,0)/(a.length||4);H(X)},ie=()=>{O(!1),g("final"),c(),A.current||(A.current=!0,p(Math.round(he)))},ve=()=>{b(!0),m()},k=j.useMemo(()=>{const N="./".startsWith("/")?"./":`/${"./".replace(/^\.\//,"")}`;return`${window.location.origin}${N}#/join/${n}`},[n]);return u?S.jsx("div",{className:"tv-layout",children:S.jsx("div",{className:"tv-content",children:S.jsx("div",{className:"text-center",children:S.jsx("div",{className:"loading-pulse h1",children:"Loading..."})})})}):e?S.jsx("div",{className:"tv-layout",style:{width:"100vw",height:"100vh",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg-deep)"},children:S.jsxs("div",{style:{width:e_,height:t_,transform:`scale(${E})`,transformOrigin:"center center",overflow:"hidden",display:"flex",flexDirection:"column"},children:[S.jsxs("div",{style:{flex:"0 0 70px",padding:"10px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid var(--border-subtle)"},children:[S.jsxs("div",{children:[S.jsx("div",{className:"h2",style:{color:"var(--gold)",marginBottom:0,fontSize:"1.5rem"},children:e.title}),S.jsx("div",{className:"font-mono",style:{opacity:.6,fontSize:"0.875rem"},children:n})]}),S.jsxs("div",{className:"flex gap-sm",children:[S.jsx(Rn,{to:`/admin/${n}`,className:"btn btn-ghost btn-sm",children:"Admin"}),S.jsx(Rn,{to:`/results/${n}`,className:"btn btn-ghost btn-sm",children:"Results"})]})]}),S.jsx("div",{style:{flex:"1 1 auto",minHeight:0,overflow:"hidden",padding:"16px 32px",display:"flex",flexDirection:"column"},children:S.jsxs(Ts,{mode:"wait",children:[e.status==="lobby"&&S.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{height:"100%",display:"grid",gridTemplateColumns:"1fr 1fr",gap:24,alignItems:"center"},children:[S.jsxs("div",{className:"card card-glow text-center",style:{padding:32},children:[S.jsx("div",{className:"h2",style:{marginBottom:20},children:"Scan to Join"}),S.jsx("div",{className:"qr-container",children:S.jsx(Kh,{value:k,size:280,fgColor:"#D4AF37",bgColor:"#0a0f0a",level:"M"})}),S.jsx("div",{className:"spacer"}),S.jsx("div",{className:"font-mono",style:{opacity:.7,fontSize:"1rem",wordBreak:"break-all"},children:k})]}),S.jsxs("div",{className:"card",style:{padding:32},children:[S.jsxs("div",{className:"h2",style:{marginBottom:20},children:["Waiting for guests (",ge,"/4)"]}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:a.map(x=>S.jsx("div",{className:"card-inner",style:{opacity:x.claimed?1:.5,padding:20},children:S.jsxs("div",{className:"flex items-center gap-md",children:[S.jsx(Cn,{participantId:x.participant_id,name:x.name,avatarUrl:x.avatar_url,size:"lg",glow:x.claimed}),S.jsxs("div",{children:[S.jsx("div",{style:{fontWeight:700,fontSize:"1.25rem"},children:x.name}),S.jsx("div",{className:`pill ${x.claimed?"pill-success":""}`,style:{marginTop:8},children:x.claimed?" Joined":"Waiting"})]})]})},x.participant_id))}),ke&&S.jsx("div",{style:{marginTop:20},className:"pill pill-success",children:" All joined! Admin can start the album"})]})]},"lobby"),e.status==="in_song"&&S.jsxs(pe.div,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0},style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:24},children:[S.jsxs("div",{className:"pill",style:{fontSize:"1.25rem",padding:"12px 24px"},children:["Track ",K+1," of ",s.length]}),S.jsx("div",{className:"h1",style:{margin:0,textAlign:"center"},children:G?.title??"Loading"}),S.jsx("div",{className:"spacer-lg"}),S.jsx("div",{className:"grid-4",style:{width:"100%",maxWidth:1200},children:a.map(x=>{const N=W.some($=>$.participant_id===x.participant_id);return S.jsxs("div",{className:"card text-center",style:{padding:24},children:[S.jsx(Cn,{participantId:x.participant_id,name:x.name,avatarUrl:x.avatar_url,size:"lg",glow:N}),S.jsx("div",{style:{marginTop:12,fontWeight:700,fontSize:"1.25rem"},children:x.name}),S.jsx("div",{style:{marginTop:12},children:S.jsx("span",{className:`pill ${N?"pill-success":"pill-warning"}`,children:N?" Submitted":" Waiting"})})]},x.participant_id)})}),S.jsx("div",{className:"spacer-lg"}),S.jsxs("div",{className:"pill",style:{fontSize:"1.25rem",padding:"14px 28px"},children:[ee,"/4 submitted",ee===4&&"  Admin can lock in!"]})]},`song-${K}`),e.status==="revealing"&&S.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[S.jsxs("div",{style:{flex:"0 0 auto",textAlign:"center",marginBottom:16},children:[S.jsxs("div",{className:"pill",style:{marginBottom:8},children:["Track ",K+1," of ",s.length]}),S.jsx("div",{className:"h1",style:{margin:0,fontSize:"3rem"},children:G?.title??""}),f==="countdown"&&S.jsx("div",{className:"h2",style:{color:"var(--gold)",marginTop:8},children:"Scores locked in"})]}),(f==="rising"||f==="final")&&S.jsxs(S.Fragment,{children:[S.jsx("div",{style:{flex:"1 1 auto",minHeight:0,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:S.jsx(NM,{participants:a,scoreMap:J,startReveal:f==="rising",onTick:Q,onComplete:ie},`reveal-${K}`)}),S.jsx("div",{style:{flex:"0 0 auto",textAlign:"center",paddingTop:16},children:S.jsx(kM,{value:C?U:he,isFlipping:C})}),f==="final"&&S.jsx("div",{style:{flex:"0 0 auto",textAlign:"center",paddingTop:12},children:S.jsx("div",{className:"pill",style:{fontSize:"1rem",padding:"10px 20px"},children:'Admin: Press "Next Song" to continue'})})]})]},"revealing"),e.status==="results"&&S.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:20},className:"text-center",children:[S.jsx("div",{className:"h1",style:{color:"var(--gold)"},children:"All Songs Complete!"}),S.jsx("div",{className:"h2",children:"Ready for the final results?"}),S.jsx("div",{className:"pill",style:{fontSize:"1.25rem",padding:"14px 28px"},children:'Admin: Press "Show Awards" to reveal'})]},"results"),e.status==="final_reveal"&&S.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{height:"100%",overflow:"hidden"},children:_?S.jsxs("div",{className:"text-center",style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:20},children:[S.jsx("div",{className:"h1",style:{color:"var(--gold)"},children:" That's a wrap!"}),S.jsx("div",{className:"h2",children:e.title}),S.jsx("div",{className:"pill",style:{fontSize:"1.25rem",padding:"14px 28px"},children:'Admin: Press "Complete Session" to finish'})]}):S.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",gap:16},children:[S.jsxs("div",{className:"text-center",style:{flex:"0 0 auto"},children:[S.jsx("div",{className:"h1",style:{color:"var(--gold)",margin:0,fontSize:"3rem"},children:"FINAL RESULTS"}),S.jsxs("div",{className:"pill",style:{marginTop:12,fontSize:"1.25rem",padding:"10px 20px"},children:["Album Average: ",Ce?Ce.toFixed(2):""]})]}),S.jsx("div",{style:{flex:"0 0 auto"},children:S.jsx("div",{className:"grid-4",style:{maxWidth:1400,margin:"0 auto",gap:20},children:a.map(x=>S.jsxs("div",{className:"card text-center",style:{padding:20},children:[S.jsx(Cn,{participantId:x.participant_id,name:x.name,avatarUrl:x.avatar_url,size:"lg",glow:!0}),S.jsx("div",{style:{marginTop:12,fontWeight:800,fontSize:"1.5rem"},children:x.name}),S.jsx("div",{style:{marginTop:12},className:"score-medium",children:(I?.[x.participant_id]??0).toFixed(2)}),S.jsx("div",{style:{opacity:.65,marginTop:4},children:"average"})]},x.participant_id))})}),S.jsx("div",{style:{flex:"1 1 auto",minHeight:0,overflow:"hidden"},children:S.jsx(LM,{awards:be,onComplete:ve})}),S.jsx("div",{className:"text-center",style:{flex:"0 0 auto"},children:S.jsx("div",{className:"pill",style:{fontSize:"1rem",padding:"10px 20px"},children:'Admin: Press "Complete Session" when done'})})]})},"final_reveal"),e.status==="complete"&&S.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:20},children:[S.jsx("div",{className:"h1",style:{color:"var(--gold)"},children:"Thanks for listening!"}),S.jsx("div",{className:"h2",children:e.title}),S.jsx(Rn,{to:`/results/${n}`,className:"btn btn-primary btn-lg",children:"View Full Results"})]},"complete")]})})]})}):S.jsx("div",{className:"tv-layout",children:S.jsx("div",{className:"tv-content",children:S.jsxs("div",{className:"card text-center",children:[S.jsx("div",{className:"h2",children:"Session not found"}),S.jsx("div",{className:"spacer"}),S.jsx("a",{href:"#/",className:"btn btn-secondary",children:"Go Home"})]})})})}function BM(){const{code:n=""}=ao(),e=oh(),{session:a,participants:s,loading:o}=fo(n),[u,c]=j.useState(!0);j.useEffect(()=>{if(o||!a)return;const v=localStorage.getItem(`albumnight:${n}:participant`);if(v)if(s.find(g=>g.participant_id===v)?.claimed){e(`/play/${n}`,{replace:!0});return}else localStorage.removeItem(`albumnight:${n}:participant`);c(!1)},[o,a,s,n,e]);const m=j.useMemo(()=>[...s].sort((v,f)=>v.name.localeCompare(f.name)),[s]);async function h(v){if(!a)return;if(v.claimed){window.confirm(`${v.name} is already taken. Are you ${v.name} trying to rejoin?`)&&(localStorage.setItem(`albumnight:${n}:participant`,v.participant_id),e(`/play/${n}`,{replace:!0}));return}if(!window.confirm(`Join as ${v.name}?`))return;const{error:g}=await Ye.from("participants").update({claimed:!0,claimed_at:new Date().toISOString()}).eq("session_code",n).eq("participant_id",v.participant_id);if(g){alert(g.message);return}localStorage.setItem(`albumnight:${n}:participant`,v.participant_id),e(`/play/${n}`,{replace:!0})}if(o||u)return S.jsx("div",{className:"container flex items-center justify-center",style:{minHeight:"100vh"},children:S.jsx("div",{className:"card text-center",children:S.jsx("div",{className:"loading-pulse h2",children:"Loading..."})})});if(!a)return S.jsx("div",{className:"container flex items-center justify-center",style:{minHeight:"100vh"},children:S.jsxs("div",{className:"card text-center",children:[S.jsx("div",{className:"h2",children:"Session not found"}),S.jsx("div",{className:"spacer"}),S.jsx("a",{href:"#/",className:"btn btn-secondary",children:"Go Home"})]})});const p=s.every(v=>v.claimed);return S.jsxs("div",{className:"container",style:{maxWidth:600,paddingTop:48},children:[S.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",style:{marginBottom:32},children:[S.jsx("div",{className:"h1",style:{color:"var(--gold)"},children:"Join Session"}),S.jsx("div",{className:"spacer"}),S.jsx("div",{className:"pill font-mono",children:n})]}),S.jsx("div",{className:"spacer-lg"}),S.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-center",style:{marginBottom:24,opacity:.8},children:p?"All spots taken! Tap your name to rejoin if you got disconnected.":"Tap your name to join"}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:16},children:m.map((v,f)=>S.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*f},children:S.jsx(pe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>h(v),className:"card w-full",style:{opacity:v.claimed?.7:1,cursor:"pointer",textAlign:"center",padding:24,border:v.claimed?"1px solid var(--forest)":"1px solid var(--gold)",background:v.claimed?"rgba(46, 139, 87, 0.1)":"rgba(212, 175, 55, 0.05)"},children:S.jsxs("div",{className:"flex flex-col items-center gap-md",children:[S.jsx(Cn,{participantId:v.participant_id,name:v.name,avatarUrl:v.avatar_url,size:"lg",glow:!v.claimed}),S.jsxs("div",{children:[S.jsx("div",{style:{fontSize:"1.25rem",fontWeight:700,marginBottom:8},children:v.name}),S.jsx("div",{className:`pill ${v.claimed?"pill-success":""}`,children:v.claimed?" Joined (tap to rejoin)":"Available"})]})]})})},v.participant_id))})]})}function zM(n,e){if(n.match(/^[a-z]+:\/\//i))return n;if(n.match(/^\/\//))return window.location.protocol+n;if(n.match(/^[a-z]+:/i))return n;const a=document.implementation.createHTMLDocument(),s=a.createElement("base"),o=a.createElement("a");return a.head.appendChild(s),a.body.appendChild(o),e&&(s.href=e),o.href=n,o.href}const PM=(()=>{let n=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(n+=1,`u${e()}${n}`)})();function Ui(n){const e=[];for(let a=0,s=n.length;a<s;a++)e.push(n[a]);return e}let cs=null;function Bw(n={}){return cs||(n.includeStyleProperties?(cs=n.includeStyleProperties,cs):(cs=Ui(window.getComputedStyle(document.documentElement)),cs))}function ou(n,e){const s=(n.ownerDocument.defaultView||window).getComputedStyle(n).getPropertyValue(e);return s?parseFloat(s.replace("px","")):0}function VM(n){const e=ou(n,"border-left-width"),a=ou(n,"border-right-width");return n.clientWidth+e+a}function HM(n){const e=ou(n,"border-top-width"),a=ou(n,"border-bottom-width");return n.clientHeight+e+a}function zw(n,e={}){const a=e.width||VM(n),s=e.height||HM(n);return{width:a,height:s}}function IM(){let n,e;try{e=process}catch{}const a=e&&e.env?e.env.devicePixelRatio:null;return a&&(n=parseInt(a,10),Number.isNaN(n)&&(n=1)),n||window.devicePixelRatio||1}const Jt=16384;function $M(n){(n.width>Jt||n.height>Jt)&&(n.width>Jt&&n.height>Jt?n.width>n.height?(n.height*=Jt/n.width,n.width=Jt):(n.width*=Jt/n.height,n.height=Jt):n.width>Jt?(n.height*=Jt/n.width,n.width=Jt):(n.width*=Jt/n.height,n.height=Jt))}function lu(n){return new Promise((e,a)=>{const s=new Image;s.onload=()=>{s.decode().then(()=>{requestAnimationFrame(()=>e(s))})},s.onerror=a,s.crossOrigin="anonymous",s.decoding="async",s.src=n})}async function qM(n){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(n)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function GM(n,e,a){const s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),u=document.createElementNS(s,"foreignObject");return o.setAttribute("width",`${e}`),o.setAttribute("height",`${a}`),o.setAttribute("viewBox",`0 0 ${e} ${a}`),u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("externalResourcesRequired","true"),o.appendChild(u),u.appendChild(n),qM(o)}const Ht=(n,e)=>{if(n instanceof e)return!0;const a=Object.getPrototypeOf(n);return a===null?!1:a.constructor.name===e.name||Ht(a,e)};function FM(n){const e=n.getPropertyValue("content");return`${n.cssText} content: '${e.replace(/'|"/g,"")}';`}function KM(n,e){return Bw(e).map(a=>{const s=n.getPropertyValue(a),o=n.getPropertyPriority(a);return`${a}: ${s}${o?" !important":""};`}).join(" ")}function YM(n,e,a,s){const o=`.${n}:${e}`,u=a.cssText?FM(a):KM(a,s);return document.createTextNode(`${o}{${u}}`)}function n_(n,e,a,s){const o=window.getComputedStyle(n,a),u=o.getPropertyValue("content");if(u===""||u==="none")return;const c=PM();try{e.className=`${e.className} ${c}`}catch{return}const m=document.createElement("style");m.appendChild(YM(c,a,o,s)),e.appendChild(m)}function XM(n,e,a){n_(n,e,":before",a),n_(n,e,":after",a)}const i_="application/font-woff",a_="image/jpeg",WM={woff:i_,woff2:i_,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:a_,jpeg:a_,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function QM(n){const e=/\.([^./]*?)$/g.exec(n);return e?e[1]:""}function Xh(n){const e=QM(n).toLowerCase();return WM[e]||""}function JM(n){return n.split(/,/)[1]}function nh(n){return n.search(/^(data:)/)!==-1}function ZM(n,e){return`data:${e};base64,${n}`}async function Pw(n,e,a){const s=await fetch(n,e);if(s.status===404)throw new Error(`Resource "${s.url}" not found`);const o=await s.blob();return new Promise((u,c)=>{const m=new FileReader;m.onerror=c,m.onloadend=()=>{try{u(a({res:s,result:m.result}))}catch(h){c(h)}},m.readAsDataURL(o)})}const vd={};function eD(n,e,a){let s=n.replace(/\?.*/,"");return a&&(s=n),/ttf|otf|eot|woff2?/i.test(s)&&(s=s.replace(/.*\//,"")),e?`[${e}]${s}`:s}async function Wh(n,e,a){const s=eD(n,e,a.includeQueryParams);if(vd[s]!=null)return vd[s];a.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+new Date().getTime());let o;try{const u=await Pw(n,a.fetchRequestInit,({res:c,result:m})=>(e||(e=c.headers.get("Content-Type")||""),JM(m)));o=ZM(u,e)}catch(u){o=a.imagePlaceholder||"";let c=`Failed to fetch resource: ${n}`;u&&(c=typeof u=="string"?u:u.message),c&&console.warn(c)}return vd[s]=o,o}async function tD(n){const e=n.toDataURL();return e==="data:,"?n.cloneNode(!1):lu(e)}async function nD(n,e){if(n.currentSrc){const u=document.createElement("canvas"),c=u.getContext("2d");u.width=n.clientWidth,u.height=n.clientHeight,c?.drawImage(n,0,0,u.width,u.height);const m=u.toDataURL();return lu(m)}const a=n.poster,s=Xh(a),o=await Wh(a,s,e);return lu(o)}async function iD(n,e){var a;try{if(!((a=n?.contentDocument)===null||a===void 0)&&a.body)return await bu(n.contentDocument.body,e,!0)}catch{}return n.cloneNode(!1)}async function aD(n,e){return Ht(n,HTMLCanvasElement)?tD(n):Ht(n,HTMLVideoElement)?nD(n,e):Ht(n,HTMLIFrameElement)?iD(n,e):n.cloneNode(Vw(n))}const sD=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SLOT",Vw=n=>n.tagName!=null&&n.tagName.toUpperCase()==="SVG";async function rD(n,e,a){var s,o;if(Vw(e))return e;let u=[];return sD(n)&&n.assignedNodes?u=Ui(n.assignedNodes()):Ht(n,HTMLIFrameElement)&&(!((s=n.contentDocument)===null||s===void 0)&&s.body)?u=Ui(n.contentDocument.body.childNodes):u=Ui(((o=n.shadowRoot)!==null&&o!==void 0?o:n).childNodes),u.length===0||Ht(n,HTMLVideoElement)||await u.reduce((c,m)=>c.then(()=>bu(m,a)).then(h=>{h&&e.appendChild(h)}),Promise.resolve()),e}function oD(n,e,a){const s=e.style;if(!s)return;const o=window.getComputedStyle(n);o.cssText?(s.cssText=o.cssText,s.transformOrigin=o.transformOrigin):Bw(a).forEach(u=>{let c=o.getPropertyValue(u);u==="font-size"&&c.endsWith("px")&&(c=`${Math.floor(parseFloat(c.substring(0,c.length-2)))-.1}px`),Ht(n,HTMLIFrameElement)&&u==="display"&&c==="inline"&&(c="block"),u==="d"&&e.getAttribute("d")&&(c=`path(${e.getAttribute("d")})`),s.setProperty(u,c,o.getPropertyPriority(u))})}function lD(n,e){Ht(n,HTMLTextAreaElement)&&(e.innerHTML=n.value),Ht(n,HTMLInputElement)&&e.setAttribute("value",n.value)}function uD(n,e){if(Ht(n,HTMLSelectElement)){const s=Array.from(e.children).find(o=>n.value===o.getAttribute("value"));s&&s.setAttribute("selected","")}}function cD(n,e,a){return Ht(e,Element)&&(oD(n,e,a),XM(n,e,a),lD(n,e),uD(n,e)),e}async function fD(n,e){const a=n.querySelectorAll?n.querySelectorAll("use"):[];if(a.length===0)return n;const s={};for(let u=0;u<a.length;u++){const m=a[u].getAttribute("xlink:href");if(m){const h=n.querySelector(m),p=document.querySelector(m);!h&&p&&!s[m]&&(s[m]=await bu(p,e,!0))}}const o=Object.values(s);if(o.length){const u="http://www.w3.org/1999/xhtml",c=document.createElementNS(u,"svg");c.setAttribute("xmlns",u),c.style.position="absolute",c.style.width="0",c.style.height="0",c.style.overflow="hidden",c.style.display="none";const m=document.createElementNS(u,"defs");c.appendChild(m);for(let h=0;h<o.length;h++)m.appendChild(o[h]);n.appendChild(c)}return n}async function bu(n,e,a){return!a&&e.filter&&!e.filter(n)?null:Promise.resolve(n).then(s=>aD(s,e)).then(s=>rD(n,s,e)).then(s=>cD(n,s,e)).then(s=>fD(s,e))}const Hw=/url\((['"]?)([^'"]+?)\1\)/g,dD=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,hD=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function mD(n){const e=n.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function pD(n){const e=[];return n.replace(Hw,(a,s,o)=>(e.push(o),a)),e.filter(a=>!nh(a))}async function gD(n,e,a,s,o){try{const u=a?zM(e,a):e,c=Xh(e);let m;return o||(m=await Wh(u,c,s)),n.replace(mD(e),`$1${m}$3`)}catch{}return n}function yD(n,{preferredFontFormat:e}){return e?n.replace(hD,a=>{for(;;){const[s,,o]=dD.exec(a)||[];if(!o)return"";if(o===e)return`src: ${s};`}}):n}function Iw(n){return n.search(Hw)!==-1}async function $w(n,e,a){if(!Iw(n))return n;const s=yD(n,a);return pD(s).reduce((u,c)=>u.then(m=>gD(m,c,e,a)),Promise.resolve(s))}async function fs(n,e,a){var s;const o=(s=e.style)===null||s===void 0?void 0:s.getPropertyValue(n);if(o){const u=await $w(o,null,a);return e.style.setProperty(n,u,e.style.getPropertyPriority(n)),!0}return!1}async function vD(n,e){await fs("background",n,e)||await fs("background-image",n,e),await fs("mask",n,e)||await fs("-webkit-mask",n,e)||await fs("mask-image",n,e)||await fs("-webkit-mask-image",n,e)}async function _D(n,e){const a=Ht(n,HTMLImageElement);if(!(a&&!nh(n.src))&&!(Ht(n,SVGImageElement)&&!nh(n.href.baseVal)))return;const s=a?n.src:n.href.baseVal,o=await Wh(s,Xh(s),e);await new Promise((u,c)=>{n.onload=u,n.onerror=e.onImageErrorHandler?(...h)=>{try{u(e.onImageErrorHandler(...h))}catch(p){c(p)}}:c;const m=n;m.decode&&(m.decode=u),m.loading==="lazy"&&(m.loading="eager"),a?(n.srcset="",n.src=o):n.href.baseVal=o})}async function bD(n,e){const s=Ui(n.childNodes).map(o=>qw(o,e));await Promise.all(s).then(()=>n)}async function qw(n,e){Ht(n,Element)&&(await vD(n,e),await _D(n,e),await bD(n,e))}function wD(n,e){const{style:a}=n;e.backgroundColor&&(a.backgroundColor=e.backgroundColor),e.width&&(a.width=`${e.width}px`),e.height&&(a.height=`${e.height}px`);const s=e.style;return s!=null&&Object.keys(s).forEach(o=>{a[o]=s[o]}),n}const s_={};async function r_(n){let e=s_[n];if(e!=null)return e;const s=await(await fetch(n)).text();return e={url:n,cssText:s},s_[n]=e,e}async function o_(n,e){let a=n.cssText;const s=/url\(["']?([^"')]+)["']?\)/g,u=(a.match(/url\([^)]+\)/g)||[]).map(async c=>{let m=c.replace(s,"$1");return m.startsWith("https://")||(m=new URL(m,n.url).href),Pw(m,e.fetchRequestInit,({result:h})=>(a=a.replace(c,`url(${h})`),[c,h]))});return Promise.all(u).then(()=>a)}function l_(n){if(n==null)return[];const e=[],a=/(\/\*[\s\S]*?\*\/)/gi;let s=n.replace(a,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const h=o.exec(s);if(h===null)break;e.push(h[0])}s=s.replace(o,"");const u=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,c="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",m=new RegExp(c,"gi");for(;;){let h=u.exec(s);if(h===null){if(h=m.exec(s),h===null)break;u.lastIndex=m.lastIndex}else m.lastIndex=u.lastIndex;e.push(h[0])}return e}async function SD(n,e){const a=[],s=[];return n.forEach(o=>{if("cssRules"in o)try{Ui(o.cssRules||[]).forEach((u,c)=>{if(u.type===CSSRule.IMPORT_RULE){let m=c+1;const h=u.href,p=r_(h).then(v=>o_(v,e)).then(v=>l_(v).forEach(f=>{try{o.insertRule(f,f.startsWith("@import")?m+=1:o.cssRules.length)}catch(g){console.error("Error inserting rule from remote css",{rule:f,error:g})}})).catch(v=>{console.error("Error loading remote css",v.toString())});s.push(p)}})}catch(u){const c=n.find(m=>m.href==null)||document.styleSheets[0];o.href!=null&&s.push(r_(o.href).then(m=>o_(m,e)).then(m=>l_(m).forEach(h=>{c.insertRule(h,c.cssRules.length)})).catch(m=>{console.error("Error loading remote stylesheet",m)})),console.error("Error inlining remote css file",u)}}),Promise.all(s).then(()=>(n.forEach(o=>{if("cssRules"in o)try{Ui(o.cssRules||[]).forEach(u=>{a.push(u)})}catch(u){console.error(`Error while reading CSS rules from ${o.href}`,u)}}),a))}function xD(n){return n.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>Iw(e.style.getPropertyValue("src")))}async function TD(n,e){if(n.ownerDocument==null)throw new Error("Provided element is not within a Document");const a=Ui(n.ownerDocument.styleSheets),s=await SD(a,e);return xD(s)}function Gw(n){return n.trim().replace(/["']/g,"")}function ED(n){const e=new Set;function a(s){(s.style.fontFamily||getComputedStyle(s).fontFamily).split(",").forEach(u=>{e.add(Gw(u))}),Array.from(s.children).forEach(u=>{u instanceof HTMLElement&&a(u)})}return a(n),e}async function AD(n,e){const a=await TD(n,e),s=ED(n);return(await Promise.all(a.filter(u=>s.has(Gw(u.style.fontFamily))).map(u=>{const c=u.parentStyleSheet?u.parentStyleSheet.href:null;return $w(u.cssText,c,e)}))).join(`
`)}async function RD(n,e){const a=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await AD(n,e);if(a){const s=document.createElement("style"),o=document.createTextNode(a);s.appendChild(o),n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s)}}async function CD(n,e={}){const{width:a,height:s}=zw(n,e),o=await bu(n,e,!0);return await RD(o,e),await qw(o,e),wD(o,e),await GM(o,a,s)}async function OD(n,e={}){const{width:a,height:s}=zw(n,e),o=await CD(n,e),u=await lu(o),c=document.createElement("canvas"),m=c.getContext("2d"),h=e.pixelRatio||IM(),p=e.canvasWidth||a,v=e.canvasHeight||s;return c.width=p*h,c.height=v*h,e.skipAutoScale||$M(c),c.style.width=`${p}`,c.style.height=`${v}`,e.backgroundColor&&(m.fillStyle=e.backgroundColor,m.fillRect(0,0,c.width,c.height)),m.drawImage(u,0,0,c.width,c.height),c}async function Fw(n,e={}){return(await OD(n,e)).toDataURL()}const Qh=j.forwardRef(({sessionTitle:n,participants:e,songs:a,scores:s},o)=>{const u=Ir(e,s,a),c=a.map(m=>{const h=s.filter(p=>p.song_index===m.order_index);return{song:m,avg:_u(h)}}).sort((m,h)=>h.avg-m.avg);return S.jsxs("div",{ref:o,style:{width:600,padding:40,background:"linear-gradient(180deg, #0d1610 0%, #0a0f0a 100%)",borderRadius:24,border:"2px solid var(--gold)",fontFamily:"var(--font-body)"},children:[S.jsxs("div",{style:{textAlign:"center",marginBottom:32},children:[S.jsx("div",{style:{fontFamily:"var(--font-display)",fontSize:36,color:"var(--gold)",letterSpacing:"0.05em",marginBottom:4},children:n}),S.jsx("div",{style:{fontSize:14,opacity:.85,marginBottom:6,letterSpacing:"0.08em"},children:"J. Cole"}),S.jsx("div",{style:{opacity:.7,fontSize:14},children:"ALBUM NIGHT RESULTS"})]}),S.jsxs("div",{style:{textAlign:"center",padding:24,background:"rgba(212, 175, 55, 0.1)",borderRadius:16,marginBottom:24},children:[S.jsx("div",{style:{fontSize:14,opacity:.7,marginBottom:4},children:"GROUP AVERAGE"}),S.jsx("div",{style:{fontFamily:"var(--font-display)",fontSize:64,color:"var(--gold)",lineHeight:1},children:u.albumAvg.toFixed(2)})]}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:16,marginBottom:24},children:e.map(m=>{const h=u.personAverages[m.participant_id],p=u.stan?.participant.participant_id===m.participant_id,v=u.hater?.participant.participant_id===m.participant_id,f=no(m.participant_id);return S.jsxs("div",{style:{padding:16,background:"rgba(255,255,255,0.05)",borderRadius:12,display:"flex",alignItems:"center",gap:12,border:`1px solid ${p||v?f:"transparent"}`},children:[S.jsx(Cn,{participantId:m.participant_id,name:m.name,avatarUrl:m.avatar_url,size:"sm"}),S.jsxs("div",{style:{flex:1},children:[S.jsxs("div",{style:{fontWeight:700,display:"flex",alignItems:"center",gap:6},children:[m.name,p&&S.jsx("span",{children:""}),v&&S.jsx("span",{children:""})]}),S.jsxs("div",{style:{fontSize:14,opacity:.7},children:["Avg: ",h.toFixed(2)]})]})]},m.participant_id)})}),S.jsxs("div",{style:{marginBottom:24},children:[S.jsx("div",{style:{fontSize:12,opacity:.7,marginBottom:12,textTransform:"uppercase"},children:"Song Rankings"}),c.slice(0,5).map((m,h)=>S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[S.jsx("span",{style:{fontWeight:700,color:h===0?"var(--gold)":"var(--text-muted)",width:20},children:h+1}),S.jsx("span",{children:m.song.title})]}),S.jsx("span",{style:{fontFamily:"var(--font-mono)",color:"var(--gold)",fontWeight:600},children:m.avg.toFixed(1)})]},m.song.id))]}),S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12},children:[u.mostDivisive&&S.jsxs("div",{style:{padding:12,background:"rgba(255,255,255,0.05)",borderRadius:8,textAlign:"center"},children:[S.jsx("div",{style:{fontSize:20,marginBottom:4},children:""}),S.jsx("div",{style:{fontSize:11,opacity:.7},children:"Most Divisive"}),S.jsx("div",{style:{fontSize:12,fontWeight:600},children:u.mostDivisive.song.title})]}),u.highestRated&&S.jsxs("div",{style:{padding:12,background:"rgba(255,255,255,0.05)",borderRadius:8,textAlign:"center"},children:[S.jsx("div",{style:{fontSize:20,marginBottom:4},children:""}),S.jsx("div",{style:{fontSize:11,opacity:.7},children:"Highest Rated"}),S.jsx("div",{style:{fontSize:12,fontWeight:600},children:u.highestRated.song.title})]})]}),S.jsxs("div",{style:{textAlign:"center",marginTop:24,paddingTop:16,borderTop:"1px solid rgba(255,255,255,0.1)",fontSize:12,opacity:.5},children:["Album Night  ",new Date().toLocaleDateString()]})]})});Qh.displayName="ResultsSummary";function jD(){const{code:n=""}=ao(),{session:e,participants:a,songs:s,scores:o,loading:u}=fo(n),[c,m]=j.useState(7),[h,p]=j.useState(!1),[v,f]=j.useState(!1),g=j.useRef(null),[_,b]=j.useState(!1),E=localStorage.getItem(`albumnight:${n}:participant`)||"",T=j.useMemo(()=>a.find(G=>G.participant_id===E)??null,[a,E]),A=j.useMemo(()=>Fh(s,e?.song_index??0),[s,e?.song_index]),C=j.useMemo(()=>!e||!E?null:o.find(G=>G.song_index===e.song_index&&G.participant_id===E)??null,[o,e,E]);j.useEffect(()=>{C?(m(C.score),f(!0)):f(!1)},[C,e?.song_index]);async function O(){if(!e||!E||e.locked)return;const G=Y0(c);p(!0);const{data:W}=await Ye.from("scores").select("id").eq("session_code",n).eq("song_index",e.song_index).eq("participant_id",E).maybeSingle();let J;W?J=(await Ye.from("scores").update({score:G}).eq("id",W.id)).error:J=(await Ye.from("scores").insert([{session_code:n,song_index:e.song_index,participant_id:E,score:G}])).error,J?alert(J.message):f(!0),p(!1)}async function U(){if(g.current){b(!0);try{const G=await Fw(g.current,{quality:.95,pixelRatio:2}),W=document.createElement("a");W.download=`album-night-${n}.png`,W.href=G,W.click()}catch(G){console.error("Failed to generate image:",G),alert("Failed to download image")}b(!1)}}if(u)return S.jsx("div",{className:"player-layout flex items-center justify-center",children:S.jsx("div",{className:"card text-center",children:S.jsx("div",{className:"loading-pulse h2",children:"Loading..."})})});if(!e)return S.jsx("div",{className:"player-layout flex items-center justify-center",children:S.jsxs("div",{className:"card text-center",children:[S.jsx("div",{className:"h2",children:"Session not found"}),S.jsx("div",{className:"spacer"}),S.jsx("a",{href:"#/",className:"btn btn-secondary",children:"Go Home"})]})});if(!E||!T)return S.jsx("div",{className:"player-layout flex items-center justify-center",children:S.jsxs("div",{className:"card text-center",style:{padding:32},children:[S.jsx("div",{className:"h2",children:"Who are you?"}),S.jsx("div",{className:"spacer"}),S.jsx("div",{style:{opacity:.8,marginBottom:24},children:"Pick your name to start rating"}),S.jsx(Rn,{className:"btn btn-primary",to:`/join/${n}`,children:"Choose Your Name"})]})});if(e.status==="complete")return S.jsx("div",{className:"player-layout",children:S.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[S.jsx("div",{className:"h1",style:{color:"var(--gold)",marginBottom:16},children:"Thanks for Playing!"}),S.jsx("div",{style:{opacity:.8,marginBottom:32},children:e.title}),S.jsxs("div",{className:"card",style:{padding:32,marginBottom:24},children:[S.jsx(Cn,{participantId:T.participant_id,name:T.name,avatarUrl:T.avatar_url,size:"xl",glow:!0}),S.jsx("div",{className:"spacer"}),S.jsx("div",{className:"h2",children:T.name})]}),S.jsx("button",{className:"btn btn-primary btn-lg w-full",onClick:U,disabled:_,children:_?"Generating...":" Download Results"}),S.jsx("div",{style:{position:"absolute",left:-9999},children:S.jsx(Qh,{ref:g,sessionTitle:e.title,participants:a,songs:s,scores:o})})]})});const H=e.locked||e.status==="revealing",K=e.status==="in_song"&&!H;return S.jsxs("div",{className:"player-layout",children:[S.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},className:"card",style:{marginBottom:16},children:S.jsxs("div",{className:"flex items-center gap-md",children:[S.jsx(Cn,{participantId:T.participant_id,name:T.name,avatarUrl:T.avatar_url,size:"sm"}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontWeight:700},children:T.name}),S.jsx("div",{className:"font-mono",style:{fontSize:"0.75rem",opacity:.6},children:n})]})]})}),S.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card card-glow text-center",style:{padding:32,flex:1,display:"flex",flexDirection:"column",justifyContent:"center"},children:S.jsxs(Ts,{mode:"wait",children:[e.status==="lobby"&&S.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[S.jsx("div",{className:"h2",style:{color:"var(--gold)"},children:"Waiting to Start"}),S.jsx("div",{className:"spacer"}),S.jsx("div",{style:{opacity:.7},children:"The host will begin the album soon..."})]},"lobby"),(e.status==="in_song"||e.status==="revealing")&&A&&S.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[S.jsxs("div",{className:"pill",style:{marginBottom:16},children:["Track ",(e.song_index??0)+1," of ",s.length]}),S.jsx("div",{className:"h1",style:{marginBottom:32,lineHeight:1.2},children:A.title}),S.jsx("div",{className:"score-display",style:{marginBottom:24},children:Y0(c)}),S.jsxs("div",{style:{marginBottom:24},children:[S.jsx("input",{type:"range",min:1,max:10,step:1,value:c,disabled:!K,onChange:G=>m(Number(G.target.value)),style:{width:"100%"}}),S.jsxs("div",{className:"flex justify-between",style:{marginTop:8,fontSize:"0.75rem",opacity:.5},children:[S.jsx("span",{children:"1"}),S.jsx("span",{children:"10"})]})]}),S.jsx(pe.button,{whileHover:K?{scale:1.02}:{},whileTap:K?{scale:.98}:{},className:`btn w-full ${v?"btn-secondary":"btn-primary"}`,onClick:O,disabled:h||!K,style:{marginBottom:16},children:h?"Saving...":v?"Update Score":"Submit Score"}),S.jsxs(Ts,{children:[v&&!H&&S.jsx(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"pill pill-success",children:" Submitted - You can still change until locked"}),H&&S.jsx(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"pill",style:{background:"rgba(212, 175, 55, 0.2)"},children:" Locked - Watch the TV!"})]})]},`song-${e.song_index}`),e.status==="results"&&S.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[S.jsx("div",{className:"h1",style:{color:"var(--gold)"},children:"Results Time!"}),S.jsx("div",{className:"spacer"}),S.jsx("div",{style:{opacity:.7},children:"Watch the TV for the final reveal..."})]},"results"),e.status==="final_reveal"&&S.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[S.jsx("div",{className:"h1",style:{color:"var(--gold)"},children:" Awards!"}),S.jsx("div",{className:"spacer"}),S.jsx("div",{style:{opacity:.7},children:"Who's the Stan? Who's the Hater?"})]},"final")]})})]})}function MD(){const{code:n=""}=ao(),{session:e,participants:a,songs:s,scores:o,loading:u,refreshAll:c}=fo(n),[m,h]=j.useState(""),[p,v]=j.useState(""),[f,g]=j.useState(!1),[_,b]=j.useState(null),E=j.useMemo(()=>Fh(s,e?.song_index??0),[s,e?.song_index]),T=j.useMemo(()=>e?o.filter(ee=>ee.song_index===e.song_index).length:0,[o,e]),A=a.filter(ee=>ee.claimed).length;function C(ee){b(ee),setTimeout(()=>b(null),3e3)}async function O(){if(!e||!m.trim())return;g(!0);const{error:ee}=await Ye.from("sessions").update({title:m.trim()}).eq("code",n);ee?alert(ee.message):(C("Title saved!"),h("")),g(!1)}async function U(){if(!e)return;g(!0);const ee=p.split(`
`).map(ke=>ke.trim()).filter(Boolean),{error:ge}=await Ye.from("songs").delete().eq("session_code",n);if(ge){alert(ge.message),g(!1);return}if(ee.length){const ke=ee.map((Ce,I)=>({session_code:n,order_index:I,title:Ce})),{error:be}=await Ye.from("songs").insert(ke);be?alert(be.message):(C(`${ee.length} songs imported!`),v(""))}await c(),g(!1)}async function H(){if(!e||s.length===0)return;g(!0);const{error:ee}=await Ye.from("sessions").update({status:"in_song",song_index:0,locked:!1}).eq("code",n);ee?alert(ee.message):C("Album started!"),g(!1)}async function K(){if(!e)return;g(!0);const{error:ee}=await Ye.from("sessions").update({locked:!0,status:"revealing"}).eq("code",n);ee?alert(ee.message):C("Scores locked!"),g(!1)}async function G(){if(!e)return;g(!0);const ge=(e.song_index??0)+1;if(ge>=s.length){const{error:be}=await Ye.from("sessions").update({status:"results",locked:!1}).eq("code",n);be?alert(be.message):C("All songs complete!")}else{const{error:be}=await Ye.from("sessions").update({song_index:ge,locked:!1,status:"in_song"}).eq("code",n);be?alert(be.message):C(`Moving to song ${ge+1}`)}g(!1)}async function W(){if(!e)return;g(!0);const{error:ee}=await Ye.from("sessions").update({status:"final_reveal"}).eq("code",n);ee?alert(ee.message):C("Starting awards!"),g(!1)}async function J(){if(!e)return;g(!0);const{error:ee}=await Ye.from("sessions").update({status:"complete"}).eq("code",n);ee?alert(ee.message):C("Session complete!"),g(!1)}async function he(){e&&window.confirm("Reset entire session? This clears all scores!")&&(g(!0),await Ye.from("scores").delete().eq("session_code",n),await Ye.from("participants").update({claimed:!1,claimed_at:null}).eq("session_code",n),await Ye.from("sessions").update({status:"lobby",song_index:0,locked:!1}).eq("code",n),await c(),C("Session reset!"),g(!1))}return u?S.jsx("div",{className:"admin-layout",children:S.jsx("div",{className:"card text-center",children:S.jsx("div",{className:"loading-pulse h2",children:"Loading..."})})}):e?S.jsxs("div",{className:"admin-layout",children:[S.jsx(Ts,{children:_&&S.jsx(pe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},style:{position:"fixed",top:24,left:"50%",transform:"translateX(-50%)",zIndex:1e3},children:S.jsxs("div",{className:"pill pill-success",style:{fontSize:"1rem",padding:"12px 24px"},children:[" ",_]})})}),S.jsxs("div",{className:"row",style:{marginBottom:24},children:[S.jsx("div",{className:"col",children:S.jsxs("div",{className:"card",children:[S.jsx("div",{className:"h1",style:{color:"var(--gold)"},children:"Admin Panel"}),S.jsxs("div",{className:"flex items-center gap-md",children:[S.jsx("div",{className:"pill font-mono",style:{fontSize:"1rem"},children:n}),S.jsx("div",{className:"pill",children:e.title})]})]})}),S.jsx("div",{className:"col",children:S.jsxs("div",{className:"card",children:[S.jsx("div",{className:"h3",style:{marginBottom:12},children:"Quick Links"}),S.jsxs("div",{className:"flex gap-sm",style:{flexWrap:"wrap"},children:[S.jsx(Rn,{to:`/tv/${n}`,className:"btn btn-secondary btn-sm",children:" TV View"}),S.jsx(Rn,{to:`/join/${n}`,className:"btn btn-secondary btn-sm",children:" Join Page"}),S.jsx(Rn,{to:`/results/${n}`,className:"btn btn-secondary btn-sm",children:" Results"})]})]})})]}),S.jsxs("div",{className:"row",children:[S.jsxs("div",{className:"col",children:[S.jsxs("div",{className:"card",style:{marginBottom:20},children:[S.jsxs("div",{className:"h3",style:{marginBottom:16},children:["Guests (",A,"/4 joined)"]}),S.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12},children:a.map(ee=>{const ge=o.some(ke=>ke.song_index===e.song_index&&ke.participant_id===ee.participant_id);return S.jsx("div",{className:"card-inner",style:{opacity:ee.claimed?1:.5},children:S.jsxs("div",{className:"flex items-center gap-sm",children:[S.jsx(Cn,{participantId:ee.participant_id,name:ee.name,avatarUrl:ee.avatar_url,size:"sm"}),S.jsxs("div",{children:[S.jsx("div",{style:{fontWeight:700},children:ee.name}),S.jsxs("div",{className:"flex gap-sm",style:{marginTop:4},children:[S.jsx("span",{className:`pill ${ee.claimed?"pill-success":""}`,children:ee.claimed?"Joined":"Not joined"}),e.status==="in_song"&&S.jsx("span",{className:`pill ${ge?"pill-success":"pill-warning"}`,children:ge?"":"..."})]})]})]})},ee.participant_id)})})]}),S.jsxs("div",{className:"card",style:{marginBottom:20},children:[S.jsx("div",{className:"h3",style:{marginBottom:12},children:"Album Title"}),S.jsx("input",{className:"input",value:m,placeholder:e.title,onChange:ee=>h(ee.target.value)}),S.jsx("div",{className:"spacer"}),S.jsx("button",{className:"btn btn-primary",onClick:O,disabled:f||!m.trim(),children:"Save Title"})]}),S.jsxs("div",{className:"card",children:[S.jsxs("div",{className:"h3",style:{marginBottom:12},children:["Songs (",s.length," tracks)"]}),S.jsx("p",{style:{opacity:.7,marginBottom:12,fontSize:"0.875rem"},children:"Paste one song title per line. This replaces all existing songs."}),S.jsx("textarea",{className:"textarea",value:p,onChange:ee=>v(ee.target.value),placeholder:`Track 1
Track 2
Track 3
...`}),S.jsx("div",{className:"spacer"}),S.jsx("button",{className:"btn btn-primary",onClick:U,disabled:f||!p.trim(),children:"Import Songs"}),s.length>0&&S.jsxs("div",{style:{marginTop:16},children:[S.jsx("div",{style:{fontSize:"0.75rem",opacity:.6,marginBottom:8},children:"Current tracklist:"}),S.jsx("div",{style:{maxHeight:200,overflowY:"auto"},children:s.map((ee,ge)=>S.jsxs("div",{style:{padding:"6px 0",borderBottom:"1px solid var(--border-subtle)",opacity:ge===e.song_index?1:.6,fontWeight:ge===e.song_index?700:400},children:[S.jsxs("span",{style:{color:"var(--gold)",marginRight:8},children:[ge+1,"."]}),ee.title,ge===e.song_index&&S.jsx("span",{className:"pill",style:{marginLeft:8},children:"Current"})]},ee.id))})]})]})]}),S.jsx("div",{className:"col",children:S.jsxs("div",{className:"card card-gold",children:[S.jsx("div",{className:"h2",style:{color:"var(--gold)",marginBottom:16},children:"Control Panel"}),S.jsxs("div",{className:"card-inner",style:{marginBottom:20},children:[S.jsxs("div",{className:"flex justify-between",style:{marginBottom:8},children:[S.jsx("span",{style:{opacity:.7},children:"Status"}),S.jsx("span",{className:"pill",children:e.status})]}),S.jsxs("div",{className:"flex justify-between",style:{marginBottom:8},children:[S.jsx("span",{style:{opacity:.7},children:"Song"}),S.jsxs("span",{className:"font-mono",children:[(e.song_index??0)+1," / ",s.length||""]})]}),S.jsxs("div",{className:"flex justify-between",style:{marginBottom:8},children:[S.jsx("span",{style:{opacity:.7},children:"Locked"}),S.jsx("span",{className:`pill ${e.locked?"pill-warning":"pill-success"}`,children:e.locked?"Yes":"No"})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{style:{opacity:.7},children:"Submitted"}),S.jsxs("span",{className:`pill ${T===4?"pill-success":""}`,children:[T,"/4"]})]})]}),E&&S.jsxs("div",{className:"card-inner",style:{marginBottom:20,textAlign:"center"},children:[S.jsx("div",{style:{opacity:.7,fontSize:"0.75rem",marginBottom:4},children:"NOW PLAYING"}),S.jsx("div",{className:"h3",style:{color:"var(--gold)"},children:E.title})]}),S.jsxs("div",{className:"flex flex-col gap-sm",children:[e.status==="lobby"&&S.jsxs(S.Fragment,{children:[S.jsxs("button",{className:"btn btn-primary btn-lg",onClick:H,disabled:f||s.length===0,children:[" Start Album ",A<4&&`(${A}/4 joined)`]}),s.length===0&&S.jsx("div",{className:"pill pill-warning",style:{textAlign:"center"},children:" Add songs first (paste tracklist above)"}),A<4&&s.length>0&&S.jsxs("div",{className:"pill pill-warning",style:{textAlign:"center"},children:[" Only ",A,"/4 joined - you can still start!"]})]}),e.status==="in_song"&&S.jsxs(S.Fragment,{children:[S.jsxs("button",{className:"btn btn-primary btn-lg",onClick:K,disabled:f||T<4,children:[" Lock In Scores (",T,"/4)"]}),T<4&&S.jsxs("div",{className:"pill",style:{textAlign:"center"},children:["Waiting for ",4-T," more score(s)..."]})]}),e.status==="revealing"&&S.jsx("button",{className:"btn btn-primary btn-lg",onClick:G,disabled:f,children:(e.song_index??0)+1>=s.length?" Go to Results":" Next Song"}),e.status==="results"&&S.jsx("button",{className:"btn btn-primary btn-lg",onClick:W,disabled:f,children:" Show Awards"}),e.status==="final_reveal"&&S.jsx("button",{className:"btn btn-primary btn-lg",onClick:J,disabled:f,children:" Complete Session"}),S.jsx("div",{className:"spacer"}),S.jsx("button",{className:"btn btn-danger",onClick:he,disabled:f,children:" Reset Session"})]}),S.jsxs("div",{style:{marginTop:20,fontSize:"0.8rem",opacity:.6},children:[e.status==="lobby"&&S.jsx("p",{children:"Wait for all 4 guests to join, then import songs and start the album."}),e.status==="in_song"&&S.jsx("p",{children:"Wait for all 4 scores to be submitted, then lock them in."}),e.status==="revealing"&&S.jsx("p",{children:"Watch the TV for the reveal animation, then proceed to the next song."}),e.status==="results"&&S.jsx("p",{children:"Ready to show the awards! Click to start the final reveal."}),e.status==="final_reveal"&&S.jsx("p",{children:"Awards are being shown on TV. Complete when done."})]})]})})]})]}):S.jsx("div",{className:"admin-layout",children:S.jsxs("div",{className:"card text-center",children:[S.jsx("div",{className:"h2",children:"Session not found"}),S.jsx("div",{className:"spacer"}),S.jsx("a",{href:"#/",className:"btn btn-secondary",children:"Go Home"})]})})}function DD(){const{code:n=""}=ao(),{session:e,participants:a,songs:s,scores:o,loading:u}=fo(n),c=j.useRef(null),[m,h]=j.useState(!1),p=`${window.location.origin}${window.location.pathname}#/results/${n}`,v=j.useMemo(()=>Ir(a,o,s),[a,o,s]),f=j.useMemo(()=>s.map(_=>{const b=o.filter(T=>T.song_index===_.order_index),E={};for(const T of b)E[T.participant_id]=T.score;return{song:_,avg:_u(b),scores:E}}).sort((_,b)=>b.avg-_.avg),[s,o]);async function g(){if(c.current){h(!0);try{const _=await Fw(c.current,{quality:.95,pixelRatio:2,backgroundColor:"#0a0f0a"}),b=document.createElement("a");b.download=`album-night-${n}-${new Date().toISOString().split("T")[0]}.png`,b.href=_,b.click()}catch(_){console.error("Failed to generate image:",_),alert("Failed to download image")}h(!1)}}return u?S.jsx("div",{className:"container flex items-center justify-center",style:{minHeight:"100vh"},children:S.jsx("div",{className:"card text-center",children:S.jsx("div",{className:"loading-pulse h2",children:"Loading..."})})}):e?S.jsxs("div",{className:"container-wide",style:{paddingTop:32,paddingBottom:64},children:[S.jsxs(pe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",style:{marginBottom:48},children:[S.jsx("div",{className:"h1",style:{color:"var(--gold)"},children:e.title}),S.jsx("div",{className:"h2",children:"Final Results"}),S.jsx("div",{className:"spacer-lg"}),S.jsxs("div",{className:"flex justify-center gap-sm",style:{flexWrap:"wrap"},children:[S.jsx(Rn,{to:`/admin/${n}`,className:"btn btn-ghost btn-sm",children:"Admin"}),S.jsx(Rn,{to:`/tv/${n}`,className:"btn btn-ghost btn-sm",children:"TV View"})]})]}),S.jsxs("div",{className:"row",children:[S.jsxs("div",{className:"col",style:{maxWidth:400},children:[S.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card card-gold text-center",style:{padding:32,marginBottom:24},children:[S.jsx("div",{style:{opacity:.7,marginBottom:8},children:"GROUP AVERAGE"}),S.jsx("div",{className:"score-display",children:v.albumAvg?v.albumAvg.toFixed(2):""})]}),S.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card text-center",style:{padding:24,marginBottom:24},children:[S.jsx("div",{className:"h3",style:{marginBottom:16},children:"Share Results"}),S.jsx("div",{className:"qr-container",children:S.jsx(Kh,{value:p,size:140,fgColor:"#D4AF37",bgColor:"#0a0f0a"})}),S.jsx("div",{className:"spacer"}),S.jsx("button",{className:"btn btn-primary w-full",onClick:g,disabled:m,children:m?"Generating...":" Download Summary"})]}),S.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card",style:{padding:24},children:[S.jsx("div",{className:"h3",style:{marginBottom:16},children:"Awards"}),v.stan&&S.jsx("div",{className:"card-inner",style:{marginBottom:12},children:S.jsxs("div",{className:"flex items-center gap-md",children:[S.jsx("span",{style:{fontSize:"2rem"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontWeight:700},children:"THE STAN"}),S.jsx("div",{style:{opacity:.7,fontSize:"0.875rem"},children:v.stan.participant.name})]}),S.jsx("div",{className:"pill pill-success",children:v.stan.avg.toFixed(2)})]})}),v.hater&&S.jsx("div",{className:"card-inner",style:{marginBottom:12},children:S.jsxs("div",{className:"flex items-center gap-md",children:[S.jsx("span",{style:{fontSize:"2rem"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontWeight:700},children:"THE HATER"}),S.jsx("div",{style:{opacity:.7,fontSize:"0.875rem"},children:v.hater.participant.name})]}),S.jsx("div",{className:"pill",children:v.hater.avg.toFixed(2)})]})}),v.mostDivisive&&S.jsx("div",{className:"card-inner",style:{marginBottom:12},children:S.jsxs("div",{className:"flex items-center gap-md",children:[S.jsx("span",{style:{fontSize:"2rem"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontWeight:700},children:"MOST DIVISIVE"}),S.jsx("div",{style:{opacity:.7,fontSize:"0.875rem"},children:v.mostDivisive.song.title})]}),S.jsxs("div",{className:"pill pill-warning",children:["",v.mostDivisive.spread]})]})}),v.highestRated&&S.jsx("div",{className:"card-inner",style:{marginBottom:12},children:S.jsxs("div",{className:"flex items-center gap-md",children:[S.jsx("span",{style:{fontSize:"2rem"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontWeight:700},children:"BEST SONG"}),S.jsx("div",{style:{opacity:.7,fontSize:"0.875rem"},children:v.highestRated.song.title})]}),S.jsx("div",{className:"pill pill-success",children:v.highestRated.avg.toFixed(2)})]})}),v.lowestRated&&S.jsx("div",{className:"card-inner",children:S.jsxs("div",{className:"flex items-center gap-md",children:[S.jsx("span",{style:{fontSize:"2rem"},children:""}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontWeight:700},children:"WORST SONG"}),S.jsx("div",{style:{opacity:.7,fontSize:"0.875rem"},children:v.lowestRated.song.title})]}),S.jsx("div",{className:"pill pill-danger",children:v.lowestRated.avg.toFixed(2)})]})})]})]}),S.jsxs("div",{className:"col",children:[S.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",style:{padding:24,marginBottom:24},children:[S.jsx("div",{className:"h3",style:{marginBottom:16},children:"Leaderboard"}),S.jsx("div",{className:"grid-4",children:a.map((_,b)=>{const E=v.personAverages[_.participant_id],T=v.stan?.participant.participant_id===_.participant_id,A=v.hater?.participant.participant_id===_.participant_id,C=no(_.participant_id);return S.jsxs(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3+b*.1},className:"card-inner text-center",style:{border:T||A?`2px solid ${C}`:void 0,position:"relative"},children:[(T||A)&&S.jsx("div",{style:{position:"absolute",top:-12,left:"50%",transform:"translateX(-50%)",fontSize:"1.5rem"},children:T?"":""}),S.jsx(Cn,{participantId:_.participant_id,name:_.name,avatarUrl:_.avatar_url,size:"lg",glow:T}),S.jsx("div",{className:"spacer"}),S.jsx("div",{style:{fontWeight:700,fontSize:"1.125rem"},children:_.name}),S.jsx("div",{className:"spacer"}),S.jsx("div",{className:"score-small",children:E?E.toFixed(2):""}),S.jsx("div",{style:{opacity:.6,fontSize:"0.75rem",marginTop:4},children:"average"})]},_.participant_id)})})]}),S.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card",style:{padding:24},children:[S.jsx("div",{className:"h3",style:{marginBottom:16},children:"Song Rankings"}),S.jsx("div",{className:"flex flex-col gap-sm",children:f.map((_,b)=>S.jsxs(pe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+b*.05},className:"card-inner",children:[S.jsxs("div",{className:"flex items-center justify-between",style:{marginBottom:8},children:[S.jsxs("div",{className:"flex items-center gap-md",children:[S.jsx("span",{style:{fontFamily:"var(--font-display)",fontSize:"1.5rem",color:b===0?"var(--gold)":b===f.length-1?"var(--danger)":"var(--text-muted)",width:32},children:b+1}),S.jsx("span",{style:{fontWeight:600},children:_.song.title})]}),S.jsx("div",{className:`pill ${b===0?"pill-success":b===f.length-1?"pill-danger":""}`,children:_.avg?_.avg.toFixed(2):""})]}),S.jsx("div",{className:"flex gap-sm",style:{marginLeft:32},children:a.map(E=>S.jsxs("span",{className:"pill",style:{fontSize:"0.7rem",padding:"4px 8px",background:`${no(E.participant_id)}22`},children:[E.name.charAt(0),": ",_.scores[E.participant_id]??""]},E.participant_id))})]},_.song.id))})]})]})]}),S.jsx("div",{style:{position:"absolute",left:-9999,top:0},children:S.jsx(Qh,{ref:c,sessionTitle:e.title,participants:a,songs:s,scores:o})})]}):S.jsx("div",{className:"container flex items-center justify-center",style:{minHeight:"100vh"},children:S.jsxs("div",{className:"card text-center",children:[S.jsx("div",{className:"h2",children:"Session not found"}),S.jsx("div",{className:"spacer"}),S.jsx("a",{href:"#/",className:"btn btn-secondary",children:"Go Home"})]})})}function ND(){return S.jsxs(y1,{children:[S.jsx(Mi,{path:"/",element:S.jsx(yM,{})}),S.jsx(Mi,{path:"/tv/:code",element:S.jsx(UM,{})}),S.jsx(Mi,{path:"/join/:code",element:S.jsx(BM,{})}),S.jsx(Mi,{path:"/play/:code",element:S.jsx(jD,{})}),S.jsx(Mi,{path:"/admin/:code",element:S.jsx(MD,{})}),S.jsx(Mi,{path:"/results/:code",element:S.jsx(DD,{})}),S.jsx(Mi,{path:"*",element:S.jsx(p1,{to:"/",replace:!0})})]})}_T.createRoot(document.getElementById("root")).render(S.jsx(ct.StrictMode,{children:S.jsx(H1,{children:S.jsx(ND,{})})}));
